<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>åœ¨ Linux ä¸‹ä½¿ç”¨ Clash è¿›è¡Œå…¨å±€ä¸Šç½‘ä»£ç†åŠè‡ªåŠ¨è®¢é˜…ä»£ç†å’Œè§„åˆ™</title>
    <link href="/2025/03/21/linux/clash/"/>
    <url>/2025/03/21/linux/clash/</url>
    
    <content type="html"><![CDATA[<p class="note note-primary">æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ Linux ç¯å¢ƒä¸‹é…ç½® Clashï¼Œä»¥å®ç°å…¨å±€ç½‘ç»œä»£ç†ã€‚åŒæ—¶ä½¿ç”¨ proxy-group ä¸ rule-providersï¼Œæ¥å®ç°æœºåœºé“¾æ¥å’Œè§„åˆ™çš„è‡ªåŠ¨è®¢é˜…ã€‚</p><h2 id="ä¸‹è½½-Clash"><a href="#ä¸‹è½½-Clash" class="headerlink" title="ä¸‹è½½ Clash"></a>ä¸‹è½½ Clash</h2><p>ä»ä»¥ä¸‹å¤‡ä»½åº“ä¸‹è½½ Clash Premium:<br>ç”±äº Clash Premium çš„ä¸»åº“å·²è¢«åˆ é™¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¤‡ä»½åº“æ¥è·å–: <a href="https://github.com/zhongfly/Clash-premium-backup/releases/download/2023-09-05-gdcc8d87/clash-linux-amd64-n2023-09-05-gdcc8d87.gz">Clash-premium-backup</a></p><p>å¦‚æœå¤‡ä»½åº“å¤±æ•ˆåˆ™å¯ä»¥ç™¾åº¦æœç´¢clash for linux è¿›è¡Œä¸‹è½½</p><h2 id="è§£å‹-Clash"><a href="#è§£å‹-Clash" class="headerlink" title="è§£å‹ Clash"></a>è§£å‹ Clash</h2><p>è§£å‹ä¸‹è½½çš„æ–‡ä»¶ï¼š</p><blockquote><p>gzip -d clash-linux-amd64-n2023-09-05-gdcc8d87.gz<br>chmod +x clash-linux-amd64<br>mv clash-linux-amd64 clash</p></blockquote><p>åˆ›å»ºé…ç½®æ–‡ä»¶ config.yamlï¼Œå¹¶ç¼–è¾‘é…ç½®ï¼š</p><p>ç¡®ä¿æ›¿æ¢æ‰ &lt;è¿™é‡Œæ›¿æ¢ä¸ºä½ æœºåœºçš„è®¢é˜…é“¾æ¥&gt; ä¸ºä½ çš„å®é™…è®¢é˜…é“¾æ¥ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ç”¨äº† proxy-groups å’Œ rule-providersï¼Œä¸€æ¥å¯ä»¥ç›´æ¥è‡ªåŠ¨è®¢é˜…èŠ‚ç‚¹ï¼Œç¬¬äºŒå¯ä»¥è‡ªåŠ¨è®¢é˜…è§„åˆ™ã€‚ä¸éœ€è¦å†å»é…ç½® crontab ä¹‹ç±»çš„ä¸œè¥¿äº†ï¼Œåº”è¯¥æ˜¯ç›®å‰æœ€ç®€å•çš„æ–¹å¼ï¼Œä¸”æœ€å¥½ç”¨ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7890</span><span class="token key atrule">socks-port</span><span class="token punctuation">:</span> <span class="token number">7891</span><span class="token key atrule">redir-port</span><span class="token punctuation">:</span> <span class="token number">7892</span><span class="token key atrule">mixed-port</span><span class="token punctuation">:</span> <span class="token number">7893</span><span class="token key atrule">allow-lan</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">mode</span><span class="token punctuation">:</span> rule<span class="token key atrule">log-level</span><span class="token punctuation">:</span> info<span class="token key atrule">ipv6</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">external-controller</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">9091</span> <span class="token comment"># æœ€å¥½ä¸è¦åœ¨å…¬ç½‘æ‰“å¼€é¢æ¿è¿›è¡Œä½¿ç”¨</span><span class="token key atrule">clash-for-android</span><span class="token punctuation">:</span>  <span class="token key atrule">append-system-dns</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token key atrule">profile</span><span class="token punctuation">:</span>  <span class="token key atrule">tracing</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">experimental</span><span class="token punctuation">:</span>  <span class="token key atrule">sniff-tls-sni</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">tun</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">stack</span><span class="token punctuation">:</span> system  <span class="token key atrule">dns-hijack</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> any<span class="token punctuation">:</span><span class="token number">53</span>  <span class="token key atrule">auto-route</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">auto-detect-interface</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">dns</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">enhanced-mode</span><span class="token punctuation">:</span> fake<span class="token punctuation">-</span>ip  <span class="token key atrule">listen</span><span class="token punctuation">:</span> <span class="token punctuation">:</span><span class="token number">53</span>  <span class="token key atrule">default-nameserver</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> 210.5.56.145  <span class="token key atrule">nameserver</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> 114.114.114.114  <span class="token key atrule">fallback</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//8888.google/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//1.0.0.1/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//dns.twnic.tw/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//doh.opendns.com/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//dns<span class="token punctuation">-</span>nyc.aaflalo.me/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//dns.aa.net.uk/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//sg.adhole.org/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//kaitain.restena.lu/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//hydra.plan9<span class="token punctuation">-</span>ns1.com/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//jp.tiar.app/dns<span class="token punctuation">-</span>query      <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//doh.asia.dnswarden.com/adblock  <span class="token key atrule">fallback-filter</span><span class="token punctuation">:</span>    <span class="token key atrule">geoip</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">geoip-code</span><span class="token punctuation">:</span> CN<span class="token key atrule">proxy-providers</span><span class="token punctuation">:</span>  <span class="token key atrule">Exemple</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./example.yaml    <span class="token key atrule">url</span><span class="token punctuation">:</span> &lt;è¿™é‡Œæ›¿æ¢ä¸ºä½ æœºåœºçš„è®¢é˜…é“¾æ¥<span class="token punctuation">></span>  <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">3600</span>    <span class="token key atrule">health-check</span><span class="token punctuation">:</span>        <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//www.gstatic.com/generate_204        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token key atrule">proxy-groups</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> PROXY    <span class="token key atrule">type</span><span class="token punctuation">:</span> select    <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//www.gstatic.com/generate_204    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">3600</span>    <span class="token key atrule">use</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> Exemple<span class="token key atrule">rule-providers</span><span class="token punctuation">:</span>  <span class="token key atrule">reject</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/reject.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">icloud</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/icloud.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">apple</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/apple.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">google</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/google.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">proxy</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/proxy.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">direct</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/direct.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">private</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/private.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">gfw</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/gfw.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">tld-not-cn</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> domain    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/tld<span class="token punctuation">-</span>not<span class="token punctuation">-</span>cn.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">telegramcidr</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> ipcidr    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/telegramcidr.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">cncidr</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> ipcidr    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/cncidr.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">lancidr</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> ipcidr    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/lancidr.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span>  <span class="token key atrule">applications</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> http    <span class="token key atrule">behavior</span><span class="token punctuation">:</span> classical    <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> ./ruleset/applications.yaml    <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">86400</span><span class="token key atrule">rules</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>applications<span class="token punctuation">,</span>DIRECT  <span class="token punctuation">-</span> DOMAIN<span class="token punctuation">,</span>clash.razord.top<span class="token punctuation">,</span>DIRECT  <span class="token punctuation">-</span> DOMAIN<span class="token punctuation">,</span>yacd.haishan.me<span class="token punctuation">,</span>DIRECT  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>private<span class="token punctuation">,</span>DIRECT  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>reject<span class="token punctuation">,</span>REJECT  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>tld<span class="token punctuation">-</span>not<span class="token punctuation">-</span>cn<span class="token punctuation">,</span>PROXY  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>gfw<span class="token punctuation">,</span>PROXY  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>google<span class="token punctuation">,</span>PROXY  <span class="token punctuation">-</span> RULE<span class="token punctuation">-</span>SET<span class="token punctuation">,</span>telegramcidr<span class="token punctuation">,</span>PROXY  <span class="token punctuation">-</span> MATCH<span class="token punctuation">,</span>DIRECT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¿è¡Œ Clash:</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">clash <span class="token parameter variable">-f</span> /path/to/your/config.yamlæ³¨æ„ï¼šè¯·æ›¿æ¢ /path/to/your/config.yaml ä¸ºä½ çš„å®é™…é…ç½®æ–‡ä»¶è·¯å¾„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>æµ‹è¯•ä»£ç†æ˜¯å¦å·¥ä½œæ­£å¸¸ã€‚<br>curl -L google.com<br>è®¾ç½®å¼€æœºè‡ªå¯<br>åˆ›å»ºä¸€ä¸ª systemd æœåŠ¡æ–‡ä»¶ï¼Œä¾‹å¦‚ &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;clash.serviceï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>Description=Clash ServiceAfter=network.target<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>Type=simpleUser=&lt;ä½ çš„ç”¨æˆ·å<span class="token punctuation">></span>WorkingDirectory=&lt;Clashé…ç½®æ–‡ä»¶ç›®å½•<span class="token punctuation">></span>ExecStart=&lt;Clashæ‰§è¡Œæ–‡ä»¶è·¯å¾„<span class="token punctuation">></span> <span class="token punctuation">-</span>f &lt;Clashé…ç½®æ–‡ä»¶è·¯å¾„<span class="token punctuation">></span>Restart=on<span class="token punctuation">-</span>failure<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>WantedBy=multi<span class="token punctuation">-</span>user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>[æ³¨æ„] éœ€è¦æ›¿æ¢ &lt;ä½ çš„ç”¨æˆ·å&gt;ã€&lt;Clash é…ç½®æ–‡ä»¶ç›®å½• &gt;ã€&lt;Clash æ‰§è¡Œæ–‡ä»¶è·¯å¾„ &gt; å’Œ &lt; Clash é…ç½®æ–‡ä»¶è·¯å¾„ &gt; ä¸ºä½ çš„å®é™…ä¿¡æ¯ã€‚<br>é‡æ–°åŠ è½½ systemd ç®¡ç†å™¨é…ç½®ï¼Œå¹¶å¯ç”¨ Clash æœåŠ¡ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl daemon-reload<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token parameter variable">--now</span> clash.servicesystemctl status clash.service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>å¯åŠ¨éœ€è¦è®¾ç½®ï¼Œå¦‚æœ http ä¸éœ€è¦èµ°ä»£ç†ï¼Œå°±åªéœ€è¦è®¾ç½® https_proxy å³å¯</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">http_proxy</span><span class="token operator">=</span><span class="token string">"http://127.0.0.1:7890"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span><span class="token string">"http://127.0.0.1:7890"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h3 id="åˆ‡æ¢é…ç½®"><a href="#åˆ‡æ¢é…ç½®" class="headerlink" title="åˆ‡æ¢é…ç½®"></a>åˆ‡æ¢é…ç½®</h3><p>å®‰è£…jqå·¥å…·ï¼Œç”¨äºè§£æJSONå­—ç¬¦ä¸²</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> jq<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>åˆ©ç”¨curlå‘½ä»¤ï¼Œæ‰“å°å½“å‰é…ç½®æ–‡ä»¶</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ­¤å¤„çš„ç«¯å£åœ¨ external-controller å·²ç»é…ç½®</span><span class="token function">curl</span> <span class="token parameter variable">--request</span> GET <span class="token parameter variable">--url</span> http://127.0.0.1:9091/proxies<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><p>é…ç½®æ–‡ä»¶ä¿¡æ¯å¤ªé•¿ï¼Œåªçœ‹èŠ‚ç‚¹é€‰æ‹©ç­–ç•¥ç»„é€‰ä¸­çš„èŠ‚ç‚¹</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">--request</span> GET <span class="token parameter variable">--url</span> http://127.0.0.1:9091/proxies <span class="token operator">|</span> jq <span class="token string">'.proxies."ğŸš€ èŠ‚ç‚¹é€‰æ‹©".now'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ç¬¬ä¸€æ¬¡è¾“å‡ºç»“æœåº”è¯¥ä¸ºDIRECTç›´è¿ï¼Œæ­¤çŠ¶æ€ä¸‹æ— æ³•ç¿»å¢™ï¼Œæ‹¼æ¥ä¸ºä»¥ä¸‹curlå‘½ä»¤ï¼Œå…¶ä¸­proxiesåé¢æ˜¯ä½ è¦æ“ä½œçš„ç­–ç•¥ç»„è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œdataå†…çš„nameå¯¹åº”éœ€è¦æ“ä½œçš„å®Œæ•´èŠ‚ç‚¹å<br>ç”±äºğŸš€ èŠ‚ç‚¹é€‰æ‹©è¿™ä¸ªç­–ç•¥ç»„åŒ…å«emojiå’Œä¸­æ–‡ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œè½¬ä¹‰ï¼Œä½¿ç”¨å¦‚ä¸‹åœ¨çº¿ç½‘ç«™è¿›è¡Œè½¬ä¹‰</p><p><a href="https://tool.oschina.net/encode?type=4">https://tool.oschina.net/encode?type=4</a></p><p>æ‹¼æ¥ä¸ºä»¥ä¸‹curlå‘½ä»¤ï¼Œå…¶ä¸­proxiesåé¢æ˜¯ä½ è¦æ“ä½œçš„ç­–ç•¥ç»„è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œdataå†…çš„nameå¯¹åº”éœ€è¦æ“ä½œçš„å®Œæ•´èŠ‚ç‚¹å</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">--request</span> PUT <span class="token parameter variable">--url</span> <span class="token string">"http://127.0.0.1:9091/proxies/%F0%9F%9A%80%20%E8%8A%82%E7%82%B9%E9%80%89%E6%8B%A9"</span> <span class="token parameter variable">--header</span> <span class="token string">"Content-Type: text/plain"</span> <span class="token parameter variable">--data</span> <span class="token string">"&#123;<span class="token entity" title="\&quot;">\"</span>name<span class="token entity" title="\&quot;">\"</span>: <span class="token entity" title="\&quot;">\"</span>ä¸Šæµ·è”é€šè½¬å°æ¹¾HiNet[M][Trojan][å€ç‡:1]<span class="token entity" title="\&quot;">\"</span>&#125;"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>æ­£å¸¸æ“ä½œå®Œä¸ä¼šæœ‰è¿”å›å€¼</p><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p>å¦‚æœ‰ä¸æ‡‚å¯è‡ªè¡ŒæŸ¥é˜…ï¼š<a href="https://telegra.ph/%E8%8B%A5%E5%B9%B2%E8%BD%AF%E4%BB%B6%E8%AE%BE%E7%BD%AE-CordCloud-11-22">æ­¤é“¾æ¥</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>clash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‰å¹´ä¹‹æœŸ</title>
    <link href="/2025/02/28/summary/25-3-1/"/>
    <url>/2025/02/28/summary/25-3-1/</url>
    
    <content type="html"><![CDATA[<h2 id="å†å¹´æ€»ç»“"><a href="#å†å¹´æ€»ç»“" class="headerlink" title="å†å¹´æ€»ç»“"></a>å†å¹´æ€»ç»“</h2><p>2022 å¹´ï¼Œè‡ªå·±å®Œæˆäº†èº«ä»½ä¸Šçš„è½¬å˜ï¼Œæ­£å¼å¼€å§‹åç«¯çš„èŒä¸šç”Ÿæ¶¯ï¼Œåœ¨å…¬å¸çš„å®‰æ’ä¸‹ï¼Œè¿›å…¥æ•™è‚²è¡Œä¸šï¼Œåšæ•™è‚²è¡Œä¸šçš„éœ€æ±‚ï¼Œç”±äºä½“ç³»çš„é—®é¢˜ï¼Œä¸€æ–¹é¢æ˜¯åš TOC çš„ä¸šåŠ¡åº”ç”¨ï¼Œæ»¡è¶³å®¢æˆ·ç»ç†ã€å­¦æ ¡å®¢æˆ·çš„éœ€æ±‚ï¼›å¦ä¸€æ–¹é¢ä¹Ÿæ˜¯åš TOB ä¸ TOG çš„éœ€æ±‚ï¼Œæ»¡è¶³é¢†å¯¼ã€æ•™è‚²å±€å¯¹å¹³å°çš„æœŸæœ›ï¼Œå…¬å¸çš„æ­¥å­è¿ˆçš„æŒºå¤§ï¼Œç ”å‘çš„åŸºç¡€è®¾æ–½å¹¶æœªèƒ½è·Ÿä¸Šå…¬å¸çš„èŠ‚å¥ï¼Œä½†æ˜¯å¥½åœ¨ä¹ŸåšæŒä¸‹æ¥äº†ã€‚</p><p>2023 å¹´äºè‡ªå·±æ¥è¯´ï¼Œå±äºæ€ç»´æ–¹å¼ä¸Šçš„è½¬å˜ï¼Œç”±å·¥ä½œçš„åç«¯ä¸»ä¸šï¼Œå˜æˆé€æ­¥ç»Ÿç­¹ç ”å‘ã€æµ‹è¯•ã€äº§å“ã€è¿ç»´è¿›è¡Œå·¥ä½œå†…å®¹ä¸Šçš„åè°ƒä¸æ²Ÿé€šï¼Œä»é›¶åˆ°ä¸€æ­å»ºå›¢é˜Ÿè·Ÿé¡¹ç›®ï¼Œå¹¶ä¸”å‡ºå·®ä¸åŒçš„åŸå¸‚å­¦ä¹ ä¸åŒçš„ä¸šåŠ¡ç»è¥æ–¹å¼ã€å•†ä¸šæ¨¡å¼ã€ç ”å‘æ–¹æ³•ç­‰ï¼Œæ€ç»´ä¸Šå¼€æ‹“äº†ä¸å°‘ã€‚</p><p>2024 å¹´ï¼Œåœ¨è‡ªå·±çš„æ„è¯†å½¢æ€ä¸Šå‘ç”Ÿè½¬å˜åï¼Œåœ¨åç«¯ç ”å‘çš„ä¸»èŒè¿‡ç¨‹ä¸­ï¼Œä¹Ÿå…¼ä»»éƒ¨åˆ†æŠ€æœ¯ç»ç†çš„å·¥ä½œï¼Œå¤§å¤§å°å°çš„ç ”å‘æµç¨‹é—®é¢˜ã€éƒ¨é—¨ååŒçš„å·¥ä½œé—®é¢˜ä¹Ÿè¸©å‘ä¸å°‘ï¼Œæ€»ä½“æ¥è¯´å¯¹äºæŠ€æœ¯çš„è¦æ±‚è·Ÿéœ€æ±‚ï¼Œéƒ½è®©æ­¥äºä¸šåŠ¡çš„å‘å±•è·Ÿè¦æ±‚ï¼Œå±äºä¸æ–­è¯•é”™çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œå¯¹äºè‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›æå‡æœ‰é™ï¼Œä½†æ˜¯å›¢é˜Ÿçš„äº’ç›¸ç†è§£æ›´ä¸€æ­¥åŠ æ·±ã€‚</p><p>2025 å¹´ï¼Œå› ä¸ºå…¬å¸çš„ç»„ç»‡æ¶æ„è°ƒæ•´ç¦»å¼€äº†æ•™è‚²è¡Œä¸šï¼Œå‰å¾€æŠ€æœ¯ä¸­å°ç ”å‘ä¸€å¡é€šå¹³å°ï¼Œä½†ç”±äº deepSeek AI å¤§æ¨¡å‹çš„æŠ€æœ¯çªç ´ï¼Œä»¥åŠå›½å®¶æ”¿ç­–çš„æ”¯æŒä¸å¯¼å‘ï¼Œå¼€å§‹ç ”å‘æ•°æ®æ ‡æ³¨å¹³å°ï¼Œå®Œæˆè·Ÿç®—æ³•ç»„åŒäº‹çš„é…åˆä¸åè°ƒï¼Œä»ç®—æ³•ç»„åŒäº‹èº«ä¸Šä¹Ÿå­¦ä¹ åˆ°ä¸å°‘çš„ç®—æ³•æœ¯è¯­ä¸è°ƒç ”å¤§æ¨¡å‹ã€ä½¿ç”¨å¤§æ¨¡å‹ï¼Œç®€å•æ¨¡å‹çš„è°ƒå‚æ•°èƒ½åŠ›ï¼Œè‡³äºç®—æ³•ç†è®ºçš„åŸºç¡€ï¼Œä¹Ÿé€æ­¥åœ¨æ¶è¡¥ï¼Œå‹åŠ›æ¯”å‰å‡ å¹´éƒ½å¤§ï¼Œæ¯•ç«Ÿåç«¯ç®€åŒ–å·¥ä½œæ¥è¯´ï¼Œåªéœ€è¦æä¾› API çš„æœåŠ¡èƒ½åŠ›å³å¯ï¼Œå¯¹äºæ•°ç†é€»è¾‘çš„è¦æ±‚å¹¶æ²¡æœ‰ç®—æ³•ç»„è¦æ±‚é«˜ã€‚</p><h2 id="æœªæ¥æœŸæœ›"><a href="#æœªæ¥æœŸæœ›" class="headerlink" title="æœªæ¥æœŸæœ›"></a>æœªæ¥æœŸæœ›</h2><p>1ã€ä¸ªäººå‘å±•åœ¨å…¬å¸çš„ä¸šåŠ¡é€‰æ‹©ä¸Šå·²ç»åˆ°è¾¾ä¸€ä¸ªç“¶é¢ˆï¼Œå¯¹äºè‡ªå·±æ¥è¯´ï¼Œæ›´å¸Œæœ›è‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›æœ‰æ‰€çªç ´ï¼Œèƒ½å¤Ÿåœ¨å…¬å¸çš„ç ”å‘ä¸­å‘æŒ¥æ›´å¤§çš„ä»·å€¼ï¼Œæ‰€ä»¥æœªæ¥å¯èƒ½ä¼šå†æ¬¡å®¡è§†è‡ªå·±èŒä¸šä¸Šçš„å‘å±•ã€‚<br>2ã€è‡ªå·±çš„æŠ€æœ¯æ ˆå¤§è‡´è§„åˆ’å¦‚ä¸‹ï¼š</p><ul><li>1ã€3 å¹´çš„ java å¼€å‘ç»éªŒï¼šç†Ÿæ‚‰ jvmã€gcï¼Œå¯¹äºé”ã€å¹¶å‘æœ‰ä¸€å®šè‡ªå·±çš„ç†è§£ï¼Œç†Ÿæ‚‰ springã€springbootã€springcloud ç­‰å¸¸ç”¨æ¡†æ¶çš„ä½¿ç”¨ã€é…ç½®ã€æ­å»ºï¼Œç†Ÿæ‚‰Spring AOC ä¸ IOPã€‚</li><li>2ã€ç†Ÿæ‚‰ gitã€githubã€gitlab ç­‰ä»£ç å·¥å…·çš„ä½¿ç”¨ï¼Œç†Ÿæ‚‰ä»£ç è§„èŒƒã€ä»£ç è¯„å®¡ã€ä»£ç åˆå¹¶ç­‰æµç¨‹ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2025</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®¹å™¨åŒ–ç¯å¢ƒæ­å»º</title>
    <link href="/2022/08/19/container/docker/"/>
    <url>/2022/08/19/container/docker/</url>
    
    <content type="html"><![CDATA[<blockquote><p>docker å†…ç¯å¢ƒçš„æ­å»º</p></blockquote><p>æ³¨æ„ï¼šå•æœºç¯å¢ƒä¸‹çš„å®¹å™¨ç®¡ç†ä½¿ç”¨ docker- compose è¿›è¡Œç®¡ç†ï¼Œå¤šæœºç¯å¢ƒä¸‹ä½¿ç”¨ K8S (kubernetes) è¿›è¡Œç®¡ç†ï¼</p><h2 id="1ã€nacos"><a href="#1ã€nacos" class="headerlink" title="1ã€nacos"></a>1ã€nacos</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># docker å¯åŠ¨æœåŠ¡</span><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8848</span>:8848 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-e</span> <span class="token assign-left variable">MODE</span><span class="token operator">=</span>standalone <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-v</span> /opt/docker/nacos/logs:/home/nacos/logs <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-v</span> /opt/docker/nacos/init.d/custom.properties:/home/nacos/init.d/custom.properties <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">--name</span> nacos nacos/nacos-server <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="2ã€mysql"><a href="#2ã€mysql" class="headerlink" title="2ã€mysql"></a>2ã€mysql</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token operator">&amp;&amp;</span><span class="token punctuation">\</span>    <span class="token parameter variable">--name</span> mysql <span class="token parameter variable">-v</span> /opt/docker/mysql/conf:/etc/mysql/conf.d <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-v</span> /opt/docker/mysql/logs:/var/log/mysql <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-v</span> /opt/docker/mysql/data:/var/lib/mysql <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>    <span class="token parameter variable">-d</span> mysql <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>devops</category>
      
    </categories>
    
    
    <tags>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GPE ç›‘æ§ç³»ç»Ÿåˆ†æä¸æ­å»º</title>
    <link href="/2022/08/19/middleware/GPE/"/>
    <url>/2022/08/19/middleware/GPE/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Grafana + Prometheus +Exporter ç›‘æ§ä½“ç³»çš„æ­å»º</p></blockquote><h2 id="Prometheus-çš„ç›‘æ§ä½“ç³»"><a href="#Prometheus-çš„ç›‘æ§ä½“ç³»" class="headerlink" title="Prometheus çš„ç›‘æ§ä½“ç³»"></a>Prometheus çš„ç›‘æ§ä½“ç³»</h2><h3 id="1ã€ç³»ç»Ÿå±‚ç›‘æ§ï¼ˆéœ€è¦ç›‘æ§çš„æ•°æ®ï¼‰"><a href="#1ã€ç³»ç»Ÿå±‚ç›‘æ§ï¼ˆéœ€è¦ç›‘æ§çš„æ•°æ®ï¼‰" class="headerlink" title="1ã€ç³»ç»Ÿå±‚ç›‘æ§ï¼ˆéœ€è¦ç›‘æ§çš„æ•°æ®ï¼‰"></a>1ã€ç³»ç»Ÿå±‚ç›‘æ§ï¼ˆéœ€è¦ç›‘æ§çš„æ•°æ®ï¼‰</h3><blockquote><p>1ã€CPUã€Loadã€Memoryã€swapã€disk i&#x2F;oã€process ç­‰<br>2ã€ç½‘ç»œç›‘æ§ï¼šç½‘ç»œè®¾å¤‡ã€å·¥ä½œè´Ÿè½½ã€ç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ç‡ç­‰</p></blockquote><h3 id="2ã€ä¸­é—´ä»¶åŠåŸºç¡€è®¾æ–½ç±»ç›‘æ§"><a href="#2ã€ä¸­é—´ä»¶åŠåŸºç¡€è®¾æ–½ç±»ç›‘æ§" class="headerlink" title="2ã€ä¸­é—´ä»¶åŠåŸºç¡€è®¾æ–½ç±»ç›‘æ§"></a>2ã€ä¸­é—´ä»¶åŠåŸºç¡€è®¾æ–½ç±»ç›‘æ§</h3><blockquote><p>1ã€æ¶ˆæ¯ä¸­é—´ä»¶ï¼škafkaã€redisã€RocketMQ ç­‰æ¶ˆæ¯ä»£ç†&#x2F;ä¸­é—´ä»¶<br>2ã€WEB æœåŠ¡å™¨å®¹å™¨ï¼štomcatã€weblogicã€apacheã€phpã€spring ç³»åˆ—<br>3ã€æ•°æ®åº“&#x2F;ç¼“å­˜æ•°æ®åº“ï¼šMySQLã€PostgreSQLã€MogoDBã€esã€redis</p></blockquote><h3 id="3ã€åº”ç”¨å±‚ç›‘æ§"><a href="#3ã€åº”ç”¨å±‚ç›‘æ§" class="headerlink" title="3ã€åº”ç”¨å±‚ç›‘æ§"></a>3ã€åº”ç”¨å±‚ç›‘æ§</h3><p><strong>ç”¨äºè¡¡é‡åº”ç”¨ç¨‹åºä»£ç çŠ¶æ€å’Œæ€§èƒ½</strong></p><blockquote><ol><li>ç™½ç›’ç›‘æ§ï¼šè‡ªçœæŒ‡æ ‡ï¼Œç­‰å¾…è¢«ä¸‹è½½</li><li>é»‘ç›’ç›‘æ§ï¼šåŸºäºæ¢é’ˆçš„ç›‘æ§æ–¹å¼ï¼Œä¸ä¼šä¸»åŠ¨å¹²é¢„ã€å½±å“æ•°æ®</li></ol></blockquote><h3 id="4ã€ä¸šåŠ¡å±‚ç›‘æ§"><a href="#4ã€ä¸šåŠ¡å±‚ç›‘æ§" class="headerlink" title="4ã€ä¸šåŠ¡å±‚ç›‘æ§"></a>4ã€ä¸šåŠ¡å±‚ç›‘æ§</h3><p><strong>ç”¨äºè¡¡é‡åº”ç”¨ç¨‹åºçš„ä»·å€¼</strong></p><blockquote><ol><li>å¦‚ç”µå•†ä¸šåŠ¡çš„é”€å”®é‡ï¼ŒQPSã€dau æ—¥æ´»ã€è½¬åŒ–ç‡ç­‰ã€‚</li><li>ä¸šåŠ¡æ¥å£ï¼šç™»å…¥æ•°é‡ï¼Œæ³¨å†Œæ•°ã€è®¢å•é‡ã€æœç´¢é‡å’Œæ”¯ä»˜é‡ã€‚</li></ol></blockquote><h2 id="Prometheus-ç›‘æ§ç³»ç»Ÿå®‰è£…æµç¨‹"><a href="#Prometheus-ç›‘æ§ç³»ç»Ÿå®‰è£…æµç¨‹" class="headerlink" title="Prometheus ç›‘æ§ç³»ç»Ÿå®‰è£…æµç¨‹"></a>Prometheus ç›‘æ§ç³»ç»Ÿå®‰è£…æµç¨‹</h2><p>prometheus + alertmanage + node_exporter ä¸‹è½½æ¥æºå¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p><blockquote><p>1ã€å®˜ç½‘ä¸‹è½½ï¼š<a href="https://prometheus.io/download/">https://prometheus.io/download/</a><br>2ã€github ä¸‹è½½ï¼š<a href="https://github.com/prometheus/prometheus">https://github.com/prometheus/prometheus</a><br>3ã€github é•œåƒä¸‹è½½ï¼š<a href="https://hub.fastgit.xyz/prometheus/prometheus">https://hub.fastgit.xyz/prometheus/prometheus</a></p></blockquote><p>ä¸‹è½½å®Œæ¯•åæŒ‰å¦‚ä¸‹ shell è¿›è¡Œå…ˆè¿›è¡Œè§£å‹æ“ä½œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æœ¬æ¬¡é‡‡ç”¨ prometheus-2.37.0.linux ç‰ˆæœ¬è¿›è¡Œæ“ä½œ</span><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> prometheus-2.37.0.linux-amd64.tar.gz<span class="token function">mv</span> prometheus-2.37.0.linux-amd64 prometheus-2.37.0<span class="token comment"># æœ¬æ¬¡å°† alertmanage ä¸€èµ·éƒ½è£…å¥½ï¼Œé‡‡ç”¨ 0.24.0.linux-amd64 ç‰ˆæœ¬è¿›è¡Œæ“ä½œ</span><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> alertmanager-0.24.0.linux-amd64.tar.gz<span class="token function">mv</span> alertmanager-0.24.0.linux-amd64 alertmanager-0.24.0<span class="token comment"># æœ¬æ¬¡ node_exporter ç‰ˆæœ¬ä¸º 1.3.1.linux-amd64 ç‰ˆæœ¬</span><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> node_exporter-1.3.1.linux-amd64.tar.gz<span class="token function">mv</span> node_exporter-1.3.1.linux-amd64/ node_exporter-1.3.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç„¶åç¼–è¾‘å…¶ä¸­çš„ yml é…ç½®æ–‡ä»¶(å¦‚ä¸‹æ‰€ç¤º)ï¼Œæ›´æ”¹æˆè‡ªå·±éœ€è¦çš„ç¯å¢ƒï¼Œé‡ç‚¹åœ¨ job é‚£ä¸€å—ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># my global config</span><span class="token key atrule">global</span><span class="token punctuation">:</span>  <span class="token key atrule">scrape_interval</span><span class="token punctuation">:</span> 15s <span class="token comment"># Set the scrape interval to every 15 seconds. Default is every 1 minute.</span>  <span class="token key atrule">evaluation_interval</span><span class="token punctuation">:</span> 15s <span class="token comment"># Evaluate rules every 15 seconds. The default is every 1 minute.</span>  <span class="token comment"># scrape_timeout is set to the global default (10s).</span><span class="token comment"># Alertmanager configuration</span><span class="token key atrule">alerting</span><span class="token punctuation">:</span>  <span class="token key atrule">alertmanagers</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span>          <span class="token comment"># - alertmanager:9093</span><span class="token comment"># Load rules once and periodically evaluate them according to the global 'evaluation_interval'.</span><span class="token key atrule">rule_files</span><span class="token punctuation">:</span>  <span class="token comment"># - "first_rules.yml"</span>  <span class="token comment"># - "second_rules.yml"</span><span class="token comment"># A scrape configuration containing exactly one endpoint to scrape:</span><span class="token comment"># Here it's Prometheus itself.</span><span class="token key atrule">scrape_configs</span><span class="token punctuation">:</span>  <span class="token comment"># The job name is added as a label `job=&lt;job_name>` to any timeseries scraped from this config.</span>  <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">"prometheus"</span>    <span class="token comment"># metrics_path defaults to '/metrics'</span>    <span class="token comment"># scheme defaults to 'http'.</span>    <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"localhost:9090"</span><span class="token punctuation">]</span>    <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">"k12_zs_01"</span><span class="token key atrule">static_configs</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> targets<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"localhost:9100"</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>éœ€è¦çš„å†…å®¹ç›´æ¥åœ¨ job_name æ–°å¢å­—æ®µå³å¯ï¼Œå…¶ä¸­ node_exporter é»˜è®¤ç›‘å¬ç«¯å£ä¸º 9100 ç«¯å£ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å› ä¸ºè¦æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€</span>systemctl status firewalld<span class="token comment"># å¼€æ”¾ç«¯å£(å¯æ‰¹é‡)</span>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">9100</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span> firewall-cmd <span class="token parameter variable">--reload</span><span class="token comment"># å…³é—­ç«¯å£(å¯æ‰¹é‡)</span>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --remove-port<span class="token operator">=</span><span class="token number">9100</span>/tcp <span class="token parameter variable">--permanent</span> <span class="token operator">&amp;&amp;</span> firewall-cmd <span class="token parameter variable">--reload</span><span class="token comment"># æŸ¥çœ‹å¼€æ”¾ç«¯å£</span>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --list-ports<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¹‹åå¼€å§‹è£… Grafanaï¼Œå…¶ä¸­ shell æ“ä½œå¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 2022å¹´8æœˆ19æ—¥æœ€æ–°ç‰ˆæœ¬ä¸º grafana-enterprise-9.1.0.linux-amd64ï¼Œä½¿ç”¨äºŒè¿›åˆ¶åŒ…æ›´åˆé€‚</span><span class="token function">wget</span> https://dl.grafana.com/enterprise/release/grafana-enterprise-9.1.0.linux-amd64.tar.gz<span class="token comment"># è§£å‹ä¹‹åä¸ç”¨æ”¹å</span><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> grafana-enterprise-9.1.0.linux-amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GPE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 24 - 31 å‘¨æ€»ç»“æ€è€ƒ</title>
    <link href="/2022/07/30/summary/22-7-31/"/>
    <url>/2022/07/30/summary/22-7-31/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å‘¨æ€»ç»“è¿˜æ˜¯éœ€è¦å†™ï¼</p></blockquote><h2 id="24-å‘¨ï½-31-å‘¨"><a href="#24-å‘¨ï½-31-å‘¨" class="headerlink" title="24 å‘¨ï½ 31 å‘¨"></a>24 å‘¨ï½ 31 å‘¨</h2><p>åŸæœ¬åœ¨ 6æœˆåº•ï½7æœˆåˆï¼Œä¹Ÿå†™äº†ä¸€ç¯‡åšå®¢ï¼Œä½†æ˜¯ç”±äºä¹‹å‰ç”µè„‘ä¸¢å¤±ï¼Œåšå®¢æ•°æ®ä¸¢å¤±äº†ï¼Œæ‰€ä»¥åšå®¢ç°åœ¨çš„æ›´æ–°åœç•™åœ¨6æœˆåˆçš„æ—¶é—´ç‚¹ã€‚æ•…ä»¥åçš„åšå®¢å…ƒæ•°æ®ï¼Œä¹Ÿéœ€è¦åŠæ—¶åŒæ­¥åˆ° github çš„ç§æœ‰ä»“åº“ä¸Šï¼</p><p>è¿™æ®µæ—¶é—´ï¼Œå·¥ä½œæœ‰ç€è½äº†ï¼Œå·¥èµ„ä¹Ÿæ‹¿åˆ°æ‰‹äº†ï¼Œæå‡è‡ªå·±ä¹Ÿæ˜¯ç¬¬ä¸€è¦ä¹‰ï¼Œä»¥åçš„äººç”Ÿéœ€è¦å­¦ä¹ çš„ä¸œè¥¿è¿˜æœ‰è®¸å¤šè®¸å¤šï¼</p><p>å·¥ä½œåæ‰€æ¥æ‰‹çš„ç¬¬ä¸€ä¸ªé¡¹ç›®å°±æ˜¯ Java çš„ SpringCloud é¡¹ç›®ï¼Œæ•´åˆäº†è®¸å¤šä¸­é—´ä»¶ï¼ŒåŒ…æ‹¬ç†Ÿæ‚‰çš„ MySQLã€Redisã€Nginxã€RocketMQï¼Œè€Œåè¿˜åŠ å…¥äº† Java çš„å¾®æœåŠ¡ç”Ÿæ€ï¼Œæ¯”å¦‚ SkyWalkingã€Nacosã€ElasticSearchã€Logstashã€Kibanaã€SpringCloud Gatewayã€Prometheusã€Grafana ç­‰ï¼Œè¿™äº›çŸ¥è¯†ï¼Œä¹‹å‰éƒ½æœ‰æ‰€äº†è§£è¿‡ï¼Œä½†æ˜¯è‡ªå·±å¹¶æœªèƒ½ç”¨åˆ°å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­å»ï¼Œå·¥ä½œä¹Ÿç»™äº†è‡ªå·±å»å¼€å‘+éƒ¨ç½²çš„æœºä¼šï¼Œå¯¹äºè‡ªå·±é¡¹ç›®å·¥ç¨‹èƒ½åŠ›çš„æå‡æ˜¯å¾ˆå¤§çš„ï¼</p><h2 id="32ï½34å‘¨"><a href="#32ï½34å‘¨" class="headerlink" title="32ï½34å‘¨"></a>32ï½34å‘¨</h2><p>æœªæ¥ä¸¤å‘¨ä¹Ÿæ˜¯æŒç»­å­¦ä¹  Java ä»¥åŠå…¶ç”Ÿæ€ï¼ŒJava çš„ç”Ÿæ€çš„ç¡®æˆç†Ÿå¾ˆå¤šï¼Œä½†æ˜¯ä¹Ÿç¬¨é‡å¾ˆå¤šï¼Œæ‰€ä»¥å¥½å¥½çš„å­¦ä¹  Javaï¼Œä¹Ÿå¯¹è‡ªå·±å­¦ä¹ ä¸ä½¿ç”¨ Go åœ¨æ€æƒ³å±‚é¢ä¸Šæœ‰å¸®åŠ©ï¼Œè‡³å°‘ç°åœ¨è®¾è®¡æ¨¡å¼ã€é‡æ„æ‰‹æ³•ï¼Œéƒ½èƒ½é€šè¿‡ Java æ¥è®­ç»ƒï¼ŒTDD çš„æ€æƒ³ï¼Œä¹Ÿèƒ½è¿›è¡Œä¸æ–­çš„å­¦ä¹ ä¸æ‰“ç£¨ï¼</p><p>å½“ç„¶ï¼Œé™¤äº†ä»£ç æ°´å¹³çš„æå‡ï¼Œè¿˜éœ€è¦æœ‰å…¶ä»–çš„æå‡ï¼Œæ¯”å¦‚ä¸€ä¸ªé¡¹ç›®å¦‚ä½•ä½¿ç”¨ gitflow è¿›è¡Œåˆ†å¸ƒå¼å¼€å‘çš„æµç¨‹ï¼Œé¡¹ç›®çš„ä¸šåŠ¡åœºæ™¯ã€æ ‡ä¹¦å¦‚ä½•æ’°å†™ï¼Œéƒ½æ˜¯è‡ªå·±å¯ä»¥å­¦ä¹ çš„ä¸œè¥¿ï¼</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL ä¼˜åŒ–</title>
    <link href="/2022/06/14/middleware/mysql3/"/>
    <url>/2022/06/14/middleware/mysql3/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€ç´¢å¼•"><a href="#1ã€ç´¢å¼•" class="headerlink" title="1ã€ç´¢å¼•"></a>1ã€ç´¢å¼•</h2><p>ç´¢å¼•åªæ˜¯ä¸€ç§æ•°æ®ç»“æ„è€Œå·²ï¼Œå…·ä½“çœ‹ Mysql çš„æ•°æ®åº“å¼•æ“ã€‚</p><p>æ¯”å¦‚ MyISAM ä½¿ç”¨ B æ ‘ï¼ŒInnoDB ä½¿ç”¨çš„ B+ æ ‘ã€‚</p><p><strong>ï¼ˆèšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•æ˜¯ b ä¸ b+ æ ‘çš„ä¸¤ä¸ªåˆ«åï¼‰</strong></p><p>ç¼ºç‚¹ï¼š</p><ul><li><p>1ã€å°‘é‡æ•°æ®ä¸éœ€è¦</p></li><li><p>2ã€é¢‘ç¹æ›´æ–°çš„æ•°æ®ä¸é€‚åˆä½œä¸ºç´¢å¼•</p></li><li><p>3ã€å¾ˆå°‘ä½¿ç”¨çš„å­—æ®µ</p></li><li><p>4ã€ç´¢å¼•æå‡æŸ¥è¯¢æ•ˆç‡ã€é™ä½å¢åˆ æ”¹çš„æ•ˆç‡</p></li><li><p>5ã€ç´¢å¼•å ç”¨ç©ºé—´å¾ˆå¤§ï¼ˆä½†æ˜¯æœºæ¢°ç¡¬ç›˜ä¹Ÿä¸å€¼é’±äº†ï¼‰</p></li></ul><p>ä¼˜ç‚¹ï¼š</p><ul><li><p>1ã€æŸ¥è¯¢æ•ˆç‡é«˜</p></li><li><p>2ã€CPU å ç”¨å°‘ï¼ˆorder by XXX descï¼‰b æ ‘ã€b+æ ‘ä¸ç”¨æ’åºï¼Œæ‰€ä»¥ CPU è®¡ç®—å°‘</p></li></ul><p>b+ æ ‘ä¹Ÿæ˜¯ b æ ‘çš„ä¸€ä¸ªç§ç±»ï¼Œb æ ‘æŸ¥è¯¢ä¸€ä¸ªå€¼æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(n) </p><h3 id="1ã€ç´¢å¼•ç»†èŠ‚"><a href="#1ã€ç´¢å¼•ç»†èŠ‚" class="headerlink" title="1ã€ç´¢å¼•ç»†èŠ‚"></a>1ã€ç´¢å¼•ç»†èŠ‚</h3><p><strong>åˆ†ç±»</strong>ï¼š </p><p>ç´¢å¼•ä¸€èˆ¬æœ‰ä¸‰ç§ï¼š å•å€¼ç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ã€å¤åˆç´¢å¼•ã€‚</p><ul><li><p>å•å€¼ç´¢å¼•ï¼šå•åˆ—çš„ç´¢å¼•ï¼Œä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¾ˆå¤šå•å€¼ç´¢å¼•</p></li><li><p>å”¯ä¸€ç´¢å¼•ï¼šæ‰€æœ‰å€¼ä¸èƒ½é‡å¤ï¼Œå³ distinct</p></li><li><p>å¤åˆç´¢å¼•ï¼šå¤šä¸ªåˆ—ç»„æˆçš„äºŒçº§ç´¢å¼•</p></li></ul><p><strong>åˆ›å»ºç´¢å¼•</strong>ï¼š</p><p>æ–¹å¼ä¸€ï¼šcreate</p><blockquote><p>å•å€¼ï¼š <code>create index ç´¢å¼•åç§° on è¡¨(å­—æ®µåç§°)</code> </p><p>å”¯ä¸€ï¼š<code>create unique index ç´¢å¼•åç§° on è¡¨(å­—æ®µåç§°)</code> </p><p>å¤åˆï¼š<code>create index ç´¢å¼•åç§° ç´¢å¼•åç§° on è¡¨(å­—æ®µåç§°)</code> &#96;</p></blockquote><p>æ–¹å¼äºŒï¼šalter</p><blockquote><p>å•å€¼ï¼š <code>alter table è¡¨å add index ç´¢å¼•åç§°(å­—æ®µåç§°)</code></p><p>å”¯ä¸€ï¼š<code>alter table è¡¨å add unique index ç´¢å¼•åç§°(å­—æ®µåç§°)</code> </p><p>å¤åˆï¼š<code>alter table è¡¨å add index ç´¢å¼•åç§°(å­—æ®µåç§°, å­—æ®µåç§°)</code> </p></blockquote><p>æ³¨ï¼šprimary key è®¾ç½®è‡ªåŠ¨æ˜¯ä¸»é”®ç´¢å¼•ã€‚ä¸»é”®ä¸å”¯ä¸€ç´¢å¼•å‡ä¸èƒ½ä¸º nullã€‚</p><p><strong>æŸ¥è¯¢&#x2F;åˆ é™¤ç´¢å¼•</strong></p><p><code>show index from è¡¨å</code>  &#x2F;  <code>drop index ç´¢å¼•å on è¡¨å</code></p><h2 id="2ã€SQL-ä¼˜åŒ–ä¹‹æ‰§è¡Œè®¡åˆ’"><a href="#2ã€SQL-ä¼˜åŒ–ä¹‹æ‰§è¡Œè®¡åˆ’" class="headerlink" title="2ã€SQL ä¼˜åŒ–ä¹‹æ‰§è¡Œè®¡åˆ’"></a>2ã€SQL ä¼˜åŒ–ä¹‹æ‰§è¡Œè®¡åˆ’</h2><p>SQL ä¼˜åŒ–çš„ä¸»è¦çš„åŸå› å³æ˜¯ï¼šæ€§èƒ½ä½ã€SQL è¯­å¥æ‰§è¡Œæ—¶é—´é•¿ã€ç­‰å¾…æ—¶é—´é•¿ã€ç´¢å¼•å¤±æ•ˆã€æœåŠ¡å™¨å‚æ•°ä¸åˆç†ç­‰</p><p><strong>æ³¨æ„</strong>ï¼š æœ‰ç´¢å¼•æ‰èƒ½æ¶‰åŠåˆ° SQL ä¼˜åŒ–ï¼Œæ²¡æœ‰ç´¢å¼•ä¸€èˆ¬éƒ½æ˜¯ ALL çº§åˆ«</p><p>å…ˆè¯´ SQL è¯­å¥çš„æ‰§è¡Œï¼Œåœ¨ Mysql æ•°æ®åº“å¼•æ“è¿›è¡Œæ•°æ®è§£æçš„è¿‡ç¨‹ä¸­ï¼Œè¯†åˆ«SQLè¯­å¥åï¼Œå®é™…çš„æ‰§è¡Œè¿‡ç¨‹ä¸ç¼–å†™çš„è¯­å¥ä¸ä¸€è‡´ï¼Œä¸€èˆ¬æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">from...on...join...where...group by...having...select (distinct)...order by... limit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¼˜åŒ–æ—¶å€™ï¼Œå¿…é¡»è§£å†³çš„é—®é¢˜å°±æ˜¯ SQL è¯­å¥çš„æ‰§è¡Œè®¡åˆ’ã€‚SQL æ‰§è¡Œè®¡åˆ’çš„å…³é”®å­—ï¼š<strong>explain</strong>ï¼Œå¯ä»¥æ¨¡æ‹Ÿ SQL ä¼˜åŒ–å™¨æ‰§è¡Œ SQL è¯­å¥ï¼Œä»è€Œè®©å¼€å‘äººå‘˜å…·ä½“çŸ¥é“è‡ªå·±å†™çš„ SQL è¯­å¥çš„æ‰§è¡Œã€‚</p><p><strong>ä½¿ç”¨æ–¹æ³•</strong> ï¼š<code>explain + SQL è¯­å¥</code> </p><blockquote><p>å¦‚ explain  select * from tables</p></blockquote><p>å­—æ®µå€¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡ç‚¹å‡»å¯ä»¥æ”¾å¤§æŸ¥çœ‹ï¼Œæ›´æ¸…æ™°ï¼š<br><img src="/images/SQL/index1.png"></p><h3 id="1ã€id-å€¼ç›¸åŒçš„æ‰§è¡Œè®¡åˆ’"><a href="#1ã€id-å€¼ç›¸åŒçš„æ‰§è¡Œè®¡åˆ’" class="headerlink" title="1ã€id å€¼ç›¸åŒçš„æ‰§è¡Œè®¡åˆ’"></a>1ã€id å€¼ç›¸åŒçš„æ‰§è¡Œè®¡åˆ’</h3><p>id å€¼ç›¸åŒï¼Œå³çœ‹è¡¨åçš„ table ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿›è¡Œæ‰§è¡Œ</p><blockquote><p>è€Œæ­¤ç§æƒ…å†µä¸‹çš„è¡¨æŸ¥è¯¢çš„é¡ºåºï¼Œä¼šå› ä¸ºè¡¨å†…æ•°é‡çš„ä¸ªæ•°æ”¹å˜è€Œæ”¹å˜ã€‚</p><p>åŸå› æ˜¯è®¡ç®—æƒé‡çš„ç®—æ³•å°±æ˜¯<a href="https://baike.baidu.com/item/%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/6323173?fromtitle=%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF&fromid=1434391&fr=aladdin"><strong>ç¬›å¡å°”ç§¯</strong></a>ç¬›å¡å°”ç§¯æ˜¯è¿ä¹˜ï¼Œäº§ç”Ÿçš„ä¸­é—´è¿‡ç¨‹çš„æ•°æ®é‡ï¼Œç†åº”è¶Šå°è¶Šå¥½ã€‚</p></blockquote><p>  æ‰€ä»¥åœ¨æ‰§è¡Œè®¡åˆ’ä¸­ï¼Œåœ¨è¡¨æœ€ç»ˆçš„ç»“æœç§¯ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œè¡¨éµå¾ªè¡¨å†…æ•°æ®ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡Œæ‰§è¡Œã€‚</p><h3 id="2ã€id-å€¼ä¸åŒçš„æƒ…å†µä¸‹çš„æ‰§è¡Œè®¡åˆ’"><a href="#2ã€id-å€¼ä¸åŒçš„æƒ…å†µä¸‹çš„æ‰§è¡Œè®¡åˆ’" class="headerlink" title="2ã€id å€¼ä¸åŒçš„æƒ…å†µä¸‹çš„æ‰§è¡Œè®¡åˆ’"></a>2ã€id å€¼ä¸åŒçš„æƒ…å†µä¸‹çš„æ‰§è¡Œè®¡åˆ’</h3><p>id å€¼ä¸åŒæ—¶ï¼Œid å€¼è¶Šå¤§è¶Šä¼˜å…ˆè¿›è¡Œæ‰§è¡Œã€‚æœ¬è´¨å³æ˜¯å¤šè¡¨è”ç»“æŸ¥è¯¢è½¬å˜ä¸ºå­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢æ˜¯å…ˆæ‰§è¡Œæœ€å†…å±‚æŸ¥è¯¢ï¼Œåœ¨æ‰§è¡Œå¤–å±‚æŸ¥è¯¢ï¼Œæ‰€ä»¥å³æ˜¯ id å€¼è¶Šå¤§ï¼Œè¶Šä¼˜å…ˆè¿›è¡Œæ‰§è¡Œã€‚</p><h3 id="3ã€select-type-æŸ¥è¯¢ç±»å‹"><a href="#3ã€select-type-æŸ¥è¯¢ç±»å‹" class="headerlink" title="3ã€select_type æŸ¥è¯¢ç±»å‹"></a>3ã€select_type æŸ¥è¯¢ç±»å‹</h3><p>æ­¤å­—æ®µæœ‰ä»¥ä¸‹å‡ ç§æ˜¾ç¤ºï¼š</p><blockquote><p>1ã€primaryï¼šæ­¤ä¸ºä¸»æŸ¥è¯¢æ–¹æ³•ï¼Œä¸ºæœ€å¤–å±‚çš„æŸ¥è¯¢</p><p>2ã€subqueryï¼šæ­¤ä¸ºä¸»æŸ¥è¯¢çš„å¯¹ç«‹æ–¹æ³•ï¼Œå³å­æŸ¥è¯¢æ–¹æ³•ï¼Œä¸ºå†…å±‚æŸ¥è¯¢</p><p>3ã€simpleï¼š æ­¤ä¸ºç®€å•æŸ¥è¯¢ï¼Œå³ä¸æ¶‰åŠå­æŸ¥è¯¢ä¸ union æŸ¥è¯¢</p><p>4ã€derivedï¼šæ­¤ä¸ºè¡ç”ŸæŸ¥è¯¢ï¼Œä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨ã€‚</p><p>(1)ï¼šå¦‚æœåœ¨ from å­æŸ¥è¯¢ä¸­åªæ¶‰åŠä¸€ä¸ªè¡¨ï¼Œåˆ™è¯¥è¡¨ä¸ºä¸´æ—¶è¡¨ã€‚</p><p>(2)ï¼šå¦‚æœåœ¨ from å­æŸ¥è¯¢ä¸­æ¶‰åŠä¸¤ä¸ªè¡¨ï¼Œåˆ™å·¦è¡¨æ˜¯ä¸´æ—¶è¡¨ã€‚</p></blockquote><h3 id="4ã€type-ç´¢å¼•ç±»å‹"><a href="#4ã€type-ç´¢å¼•ç±»å‹" class="headerlink" title="4ã€type ç´¢å¼•ç±»å‹"></a>4ã€type ç´¢å¼•ç±»å‹</h3><p>ä¸€èˆ¬ä¼ä¸šä¸­å¸¸ç”¨çš„ç´¢å¼•ç±»å‹å¦‚ä¸‹ï¼š</p><ul><li>system &gt;&gt; const &gt;&gt; eq_ref &gt;&gt; ref &gt;&gt; range &gt;&gt; index &gt;&gt; all</li></ul><p>ä»¥ä¸Šç±»å‹çš„ç´¢å¼•æ•ˆç‡è¶Šå¾€å·¦è¶Šé«˜ã€‚</p><p>å…¶ä¸­ï¼Œsystem ä¸  const åªæ˜¯ç†æƒ³æƒ…å†µä¸‹çš„æ•ˆæœï¼Œä¸€èˆ¬ SQL ä¼˜åŒ–ï¼Œåœ¨ ref ~ range ä¹‹é—´</p><ul><li><p>system (å¿½ç•¥)ï¼šåªæœ‰ä¸€æ¡æ•°æ®çš„ç³»ç»Ÿè¡¨ï¼Œæˆ–è¡ç”Ÿè¡¨åªæœ‰ä¸€æ¡æ•°æ®çš„ä¸»æŸ¥è¯¢</p></li><li><p>const (å¿½ç•¥)ï¼šä»…ä»…èƒ½æŸ¥åˆ°ä¸€æ¡æ•°æ®ï¼Œåªèƒ½ç”¨äº primary key æˆ–  unique index</p></li><li><p>eq_ref (å°½é‡æ»¡è¶³ï¼Œä½†æ˜¯å¯é‡ä¸å¯æ±‚)ï¼šå”¯ä¸€æ€§ç´¢å¼•ï¼šå¯¹äºæ¯ä¸ªç´¢å¼•é”®çš„æŸ¥è¯¢ï¼Œè¿”å›åŒ¹é…å”¯ä¸€è¡Œæ•°æ® ( åªèƒ½ä¸º 1ï¼Œä¸èƒ½å¤šã€ä¹Ÿä¸èƒ½æ˜¯ 0 )ï¼Œå¸¸è§äºä¸»é”®ç´¢å¼•ä¸å”¯ä¸€ç´¢å¼•ã€‚å³æŸ¥è¯¢çš„ä¸»æ•°æ®è¡¨ä¸ä¸´æ—¶çš„è¡¨å†…çš„æ•°æ®æ•°é‡å¿…é¡»ä¸€è‡´ï¼Œæ‰èƒ½è¾¾åˆ° eq_ref çš„æ•ˆæœã€‚</p></li><li><p>ref ï¼šéå”¯ä¸€æ€§ç´¢å¼•ï¼Œå¯¹äºæ¯ä¸€ä¸ªç´¢å¼•é”®çš„æ‹†çº¿ï¼Œè¿”å›åŒ¹é…çš„æ‰€æœ‰è¡Œ ( 0ï¼Œå¤š )</p></li><li><p>rangeï¼š æ£€ç´¢æŒ‡å®šèŒƒå›´çš„è¡Œï¼Œwhere åé¢ä¸ºèŒƒå›´æŸ¥è¯¢çš„æƒ…å†µï¼ˆbetweenã€inï¼Œ&gt;ï¼Œ&lt; ç­‰ï¼‰ï¼Œä½†æ˜¯ in æœ‰æ—¶å€™ä¼šç´¢å¼•å¤±æ•ˆï¼Œè½¬å˜ä¸º ALL çº§åˆ«</p></li><li><p>indexï¼šæŸ¥è¯¢å…¨éƒ¨ç´¢å¼•çš„æ•°æ®ï¼Œç´¢å¼•æŸ¥è¯¢è‚¯å®šè¦å°äºç­‰äºå…¨è¡¨æŸ¥è¯¢</p></li><li><p>allï¼šæŸ¥è¯¢å…¨éƒ¨è¡¨ä¸­æ•°æ®</p></li></ul><p>æ€»ç»“ï¼šsystemã€const ç»“æœåªèƒ½æœ‰ä¸€æ¡æ•°æ®ï¼Œeq_ref ç»“æœæ˜¯å¤šæ¡ï¼Œä½†æ˜¯æ¯æ¡æ•°æ®å…·æœ‰å”¯ä¸€æ€§ï¼Œref ç»“æœå¤šæ¡ï¼Œä½†æ˜¯æ¯æ¡æ•°æ®æ˜¯ 0 æˆ– å¤šæ¡ã€‚</p><h3 id="5ã€possible-keys-ã€key-ã€key-len-ã€ref-ã€rows-ã€Extra"><a href="#5ã€possible-keys-ã€key-ã€key-len-ã€ref-ã€rows-ã€Extra" class="headerlink" title="5ã€possible keys ã€key ã€key_len ã€ref ã€rows ã€Extra"></a>5ã€possible keys ã€key ã€key_len ã€ref ã€rows ã€Extra</h3><p>possible keys ä¸ºé¢„æµ‹çš„ç´¢å¼•å€¼ï¼Œä¸å‡†ç¡®</p><p>key ä¸ºå®é™…ä½¿ç”¨çš„ç´¢å¼•ã€‚<strong>æ³¨æ„</strong>ï¼šå¦‚æœpossible keys &#x2F; key å‡ä¸º nullï¼Œ åˆ™æ²¡ä½¿ç”¨ç´¢å¼•</p><p>åˆ¤æ–­å¤åˆç´¢å¼•æ˜¯å¦å®Œå…¨è¢«ä½¿ç”¨ã€‚å¦‚æœå¤åˆç´¢å¼•æœ‰ä¸€ä¸ªç´¢å¼•å…è®¸ä¸ºç©ºï¼Œé‚£ä¹ˆkey_len é•¿åº¦ä¼šé»˜è®¤+1Bï¼Œä½œä¸ºç©ºæ ‡è¯†ç¬¦ã€‚2 B æ ‡è¯† varchar çš„å¯å˜é•¿åº¦ã€‚</p><p>ref ä¸ºï¼šæŒ‡æ˜å½“å‰è¡¨æ‰€å‚ç…§çš„å­—æ®µã€‚<strong>æ³¨æ„</strong>ï¼šä¸ type ä¸­çš„ ref è¿›è¡ŒåŒºåˆ†</p><p>row ä¸ºï¼šè¢«ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢çš„ä¸ªæ•°ï¼Œå³é‡çº§</p><p>Extra å¸¸è§æœ‰ä»¥ä¸‹å­—æ®µï¼š</p><ul><li><p>1ã€using filesort :  æ€§èƒ½æ¶ˆè€—å¤§ï¼Œéœ€è¦è¿›è¡Œé¢å¤–ä¸€æ¬¡æ’åº(æŸ¥è¯¢) </p><ul><li>å¯¹äºå•ç´¢å¼•ï¼Œå¦‚æœæ’åºæŸ¥æ‰¾çš„æ˜¯åŒä¸€å­—æ®µï¼Œåˆ™ä¸ä¼šå‡ºç° filesort ï¼Œå¦‚æœæ’åºä¸æŸ¥æ‰¾çš„ä¸æ˜¯åŒä¸€å­—æ®µï¼Œåˆ™éœ€è¦ä½¿ç”¨ using filesort</li><li>åœ¨å¤åˆç´¢å¼•ä¸‹ï¼Œé¿å…ä½¿ç”¨ using filesortï¼Œå°±ä½¿ç”¨ where ä¸ order by æŒ‰ç…§å¤åˆç´¢å¼•çš„é¡ºåºä½¿ç”¨ï¼Œä¸è¦è·¨åˆ—å°±ä¸ç”¨ä½¿ç”¨ï¼ˆæœ€ä½³å·¦å‰ç¼€ï¼‰</li></ul></li><li><p>2ã€using temporaryï¼šå‡ºç°æ€§èƒ½æŸè€—ï¼Œç”¨åˆ°äº†ä¸´æ—¶è¡¨ï¼Œä¸€èˆ¬å‡ºç° group by è¯­å¥ä¸­</p></li><li><p>3ã€using indexï¼šæ€§èƒ½æå‡ï¼Œè¦†ç›–ç´¢å¼•ã€‚åŸå› ï¼šä¸è¯»å–åŸæ–‡ä»¶ï¼Œåªä»ç´¢å¼•æ–‡ä»¶è¯»å–æ•°æ®ï¼Œä¸éœ€è¦å›è¡¨æŸ¥è¯¢ï¼Œä½†æ˜¯ä½¿ç”¨ using index æ—¶ï¼Œä¼šå¯¹ possible_keys å’Œ key é€ æˆå½±å“ï¼š</p><ul><li>1ã€æ²¡æœ‰ where  ç´¢å¼•å‡ºç°åœ¨ key ä¸­ï¼›</li><li>2ã€æœ‰ where åˆ™ç´¢å¼•å‡ºç°åœ¨ key å’Œ possible_keys ä¸­ã€‚</li></ul></li><li><p>4ã€using where ï¼šæ—¢æŸ¥ç´¢å¼•ï¼ŒåˆæŸ¥åŸè¡¨ã€‚ï¼ˆå³å›è¡¨æŸ¥è¯¢ï¼‰ã€‚</p></li><li><p>5ã€impossible whereï¼šwhere å­—å¥æ°¸è¿œ false</p></li></ul><h2 id="3ã€å•è¡¨ä¼˜åŒ–"><a href="#3ã€å•è¡¨ä¼˜åŒ–" class="headerlink" title="3ã€å•è¡¨ä¼˜åŒ–"></a>3ã€å•è¡¨ä¼˜åŒ–</h2><p>åœ¨è¿›è¡Œå•è¡¨ä¼˜åŒ–æ—¶ï¼Œä¸»è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><p>1ã€where ä¸ order by è”åˆä½¿ç”¨ç´¢å¼•æŸ¥è¯¢ï¼Œå°½é‡ä¸è¦è·¨åˆ—è¿›è¡Œæœç´¢ã€‚</p></li><li><p>2ã€å¦‚æœå¤åˆç´¢å¼•å’Œä½¿ç”¨ç´¢å¼•é¡ºåºå…¨éƒ¨ä¸€è‡´(ä¸”ä¸è·¨åˆ—ä½¿ç”¨)ï¼Œåˆ™å¤åˆç´¢å¼•å…¨éƒ¨ä½¿ç”¨ï¼Œå¦‚æœéƒ¨åˆ†ä½¿ç”¨(ä¸”ä¸è·¨åˆ—ä½¿ç”¨)ï¼Œåˆ™ä½¿ç”¨éƒ¨åˆ†ç´¢å¼•ã€‚</p></li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼  book è¡¨ï¼Œå»ºè¡¨è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬ä¹Ÿå…ˆæ·»åŠ å››ä¸ªæ•°æ®ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> book <span class="token punctuation">(</span>bid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>authorid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>publicid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>typeid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> book <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'tjava'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> book <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'tc'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> book <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'wx'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> book <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç„¶åæˆ‘ä»¬æƒ³æŸ¥è¯¢ä¸€ authorid &#x3D; 1 ä¸” typeid ä¸º 2 æˆ– 3 çš„  bidï¼Œ å…¶æŸ¥è¯¢è¯­å¥å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">and</span> authorid <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">explain</span> <span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">and</span> authorid <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p><img src="/images/SQL/explain1.png"></p><p>å‘ç°æ²¡æœ‰ç´¢å¼•çš„æƒ…å†µï¼Œé»˜è®¤å‘ç”Ÿçš„æ˜¯å…¨è¡¨æŸ¥è¯¢ï¼Œå³ explain æ‰§è¡Œè®¡åˆ’ type å­—æ®µå€¼ä¸ºall ï¼Œextra å­—æ®µä¸º using whereï¼Œè€Œåæˆ‘ä»¬ä¸ºäº†è®©ä¼˜åŒ–çš„æ•ˆæœæ›´åŠ æ˜æ˜¾ä¸€ç‚¹ï¼Œå†é…åˆorder by desc æ¥ä½¿ç”¨ï¼Œå…¶ç›¸åº”çš„ sql è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">and</span> authorid <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> typeid <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token keyword">explain</span> <span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">and</span> authorid <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> typeid <span class="token keyword">desc</span> <span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p><img src="/images/SQL/explain2.png"><br>æ­¤æ—¶æˆ‘ä»¬ä¼šå‘ç°ï¼Œextra å­—æ®µä¼šå‡ºç° using filesort å­—æ®µå€¼ï¼Œå³æŸ¥è¯¢å…¨è¡¨åè¿˜å¯¹è¿”å›çš„æ•°æ®é‡æ–°æ’åºï¼Œè¿™æ ·å¾ˆæµªè´¹æ€§èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹å…¶æ·»åŠ ç´¢å¼•ä¼˜åŒ–ï¼Œå¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> book <span class="token keyword">add</span> <span class="token keyword">index</span> idx_bta <span class="token punctuation">(</span>bid<span class="token punctuation">,</span> typeid<span class="token punctuation">,</span> authorid<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>ç„¶åå†æ‰§è¡Œä¸Šè¿°çš„sql è¯­å¥ï¼Œç»“æœå¦‚ä¸‹å›¾ï¼š<br><img src="/images/SQL/explain3.png"></p><p>å¯è§ï¼Œå¢åŠ ç´¢å¼•åå¯ä»¥å°†å…¨è¡¨æŸ¥è¯¢å˜ä¸ºç´¢å¼•æŸ¥è¯¢ï¼Œtype ç­‰å­—æ®µå‘ç”Ÿæ”¹å˜ï¼Œä½†æ˜¯ using where ä¸ using filesort è¿˜æ˜¯æœªèƒ½ä¼˜åŒ–æ‰ï¼Œæ‰€ä»¥è¯´æ­¤æ¡ SQL è¯­å¥è¿˜èƒ½ç»§ç»­è¿›è¡Œç›¸åº”çš„ä¼˜åŒ–ã€‚</p><p>è€Œsql è¯­å¥çš„ä¼˜åŒ–ï¼Œå³æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ï¼Œç†è§£sqlè¯­å¥åœ¨mysql ä¸­çš„æ‰§è¡Œé¡ºåºï¼Œé‚£ä¹ˆæŒ‰ç…§æ‰§è¡Œé¡ºåºè¿›è¡Œç´¢å¼•çš„ä¼˜åŒ–å³æ˜¯æœ€å¥½ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¿™é‡Œæ˜¯å…ˆæŸ¥ bid ï¼Œå†æŸ¥ typeid ä¸ authoridã€‚ä½†æ˜¯mysql ä¸­ï¼Œselect è¯­å¥æ‰§è¡Œæ—¶åœ¨where ä¹‹åï¼Œæ‰€ä»¥ä¼˜åŒ–æ—¶ï¼Œç´¢å¼•åº”ä¸º (typeid, authorid, bid)ã€‚</p><p><strong>è€Œ ç´¢å¼• bid æ˜¯å¦èƒ½å»é™¤å‘¢ï¼Ÿ</strong></p><p>è¿™é‡Œæˆ‘é€‰æ‹©ä¸å»é™¤ï¼Œå› ä¸ºè™½ç„¶åˆ é™¤ bid ç´¢å¼•åï¼Œæ ¹æ®ç´¢å¼•ä¹Ÿèƒ½å›è¡¨è¿›è¡ŒæŸ¥è¯¢ï¼Œä½†æ˜¯å¦‚æœåªæŸ¥ä¸€æ¬¡ç´¢å¼•å³å¯å¾—åˆ°æ•°æ®ï¼Œè¿˜æ˜¯åªå»ºè®®åªæŸ¥ç´¢å¼•ï¼Œè™½ç„¶è¿™æ ·ä¼šå¯¼è‡´ç´¢å¼•å¾ˆå¤§ï¼Œä½†æ˜¯ç‰ºç‰²ç©ºé—´æ¢æ—¶é—´ä¹Ÿæ˜¯ä¸€ç§å¸¸ç”¨çš„åšæ³•ã€‚</p><p>ç»§ç»­å›åˆ°åŸ SQL çš„è¯­å¥ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">and</span> authorid <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> typeid <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token keyword">explain</span> <span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">and</span> authorid <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> typeid <span class="token keyword">desc</span> <span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>è¿™é‡Œæ³¨æ„ï¼š</strong> å¦‚æœæ˜¯èŒƒå›´æŸ¥è¯¢çš„ <code>in</code>  è¯­å¥ï¼Œæœ‰æ—¶å€™ä¼šå®ç°ï¼Œæœ‰æ—¶å€™ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†å¼€å§‹ä½¿ç”¨ç´¢å¼•æ—¶èµ°ä¸€ä¸ªå¿…å®šå®ç°çš„ç´¢å¼•ï¼Œæ‰€ä»¥æ›´æ”¹è¯­å¥å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> authorid <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> typeid <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token keyword">explain</span> <span class="token keyword">select</span> bid <span class="token keyword">from</span> book <span class="token keyword">where</span> authorid <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> typeid <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> typeid <span class="token keyword">desc</span> <span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ é™¤ä¹‹å‰æ·»åŠ çš„ç´¢å¼•ï¼Œé˜²æ­¢ä¹‹å‰çš„ç´¢å¼•å¹²æ‰°ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">index</span> idx_bta <span class="token keyword">on</span> book<span class="token punctuation">;</span><span class="token keyword">alter</span> <span class="token keyword">table</span> book <span class="token keyword">add</span> <span class="token keyword">index</span> idx_atb <span class="token punctuation">(</span>authorid<span class="token punctuation">,</span> typeid<span class="token punctuation">,</span> bid<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>é€šè¿‡ explain æŸ¥çœ‹ç›¸åº”çš„æ‰§è¡Œè®¡åˆ’ï¼Œå¦‚ä¸‹å›¾ï¼Œå¯è§ type çº§åˆ«ä» index å˜ä¸ºäº† range ï¼Œæå‡äº†ä¸€ä¸ªçº§åˆ«ã€‚</p><p>å…¶ä¸­æœ‰å­—æ®µ <code>Backward index scan</code> è¿™æ˜¯ MySQL8 çš„æ–°ç‰¹æ€§ï¼Œå«åšé™åºç´¢å¼•ï¼Œåœ¨é¢œç¾¤è€å¸ˆçš„è¯¾ç¨‹ä¸­ï¼Œæ‰§è¡Œè®¡åˆ’æ˜¾ç¤º type ä¼˜åŒ–ä¸º ref çº§åˆ«ï¼Œè€Œåœ¨ MySQL8 ä¸­åˆ™æ˜¯ range çº§åˆ«ï¼Œå¯è§åœ¨ MySQL8 ä¸­ï¼Œè¿™æ ·ä¼˜åŒ–è¾¾ä¸åˆ° Mysql5.x çš„ä¼˜åŒ–æ•ˆæœã€‚<br><img src="/images/SQL/explain4.png" alt="ä¿®æ”¹åçš„æ‰§ä¸º range çº§åˆ«"></p><p>using where ä¸ using index æœ€å¤§çš„åŒºåˆ«å³æ˜¯éœ€ä¸éœ€è¦å›åŸè¡¨è¿›è¡ŒæŸ¥è¯¢ã€‚è€Œä¸¤è€…åŒæ—¶å‡ºç°ï¼Œå³æ˜¯ in èŒƒå›´æŸ¥è¯¢æœ‰æ—¶å€™å¤±æ•ˆï¼Œæœ‰æ—¶å€™ä¸å¤±æ•ˆçš„æƒ…å†µã€‚</p><p>æ‰€ä»¥ä¸ºäº†æ¶ˆé™¤è¿™ç§æƒ…å†µï¼Œä¸€èˆ¬æƒ…å†µç”¨å…¶ä»–æœ‰æ•ˆæ¡ä»¶æ›¿æ¢ in å³å¯ï¼Œå¦‚ä»¥ä¸‹ SQL è¯­å¥</p><figure><div class="code-wrapper"><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select bid from book where authorid &#x3D; 1 and typeid &#x3D; 3 order by typeid desc;explain select bid from book where authorid &#x3D; 1 and typeid &#x3D; 3 order by typeid desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>å…¶ explain ç»“æœå¦‚ä¸‹å›¾ï¼Œå¯è§ type å­—æ®µå˜ä¸º ref å€¼ï¼Œä¼˜åŒ–ä¸Šå‡ä¸¤ä¸ªçº§åˆ«ï¼Œè€Œä¸€èˆ¬è¾¾åˆ°ref æˆ–è€… eq_ref çº§åˆ«ï¼Œå·²ç»æ˜¯æ¯”è¾ƒå¥½çš„ä¸€ç§æƒ…å†µäº†ã€‚<br><img src="/images/SQL/explain5.png" alt="ä¿®æ”¹åçš„æ‰§ä¸º ref çº§åˆ«"></p><h2 id="4ã€å¤šè¡¨ä¼˜åŒ–"><a href="#4ã€å¤šè¡¨ä¼˜åŒ–" class="headerlink" title="4ã€å¤šè¡¨ä¼˜åŒ–"></a>4ã€å¤šè¡¨ä¼˜åŒ–</h2><p>æœ€å¥½çš„å­¦ä¹ æ–¹å¼ï¼Œè¿˜æ˜¯ä¸¾ä¾‹è¿›è¡Œå­¦ä¹ ï¼æ‰€ä»¥è·Ÿå•è¡¨ä¼˜åŒ–ä¸€æ ·ï¼Œè¿˜æ˜¯è¿›è¡Œä¸¾ä¾‹ï¼š</p><p>åˆ›å»ºä¸¤ä¸ªè¡¨ teacher ä¸ courseï¼Œå…¶å»ºè¡¨è¯­å¥å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create table teacher2 (id int(4) primary key,cid int(4) not null);create table course2(cid int(4),cname varchar(20));insert into teacher2 values (1,2);insert into teacher2 values (2,1);insert into teacher2 values (3,3);insert into course2 values (1,&#39;java&#39;);insert into course2 values (1,&#39;python&#39;);insert into course2 values (1,&#39;kotlin&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç„¶åæˆ‘ä»¬å°†ä¸¤è¡¨é€šè¿‡å·¦è¿æ¥è¿›è¡Œä¸¤è¡¨è¿æ¥ï¼ŒæŸ¥è¯¢ cname &#x3D; â€˜javaâ€™ çš„å€¼ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select * from teacher2 as t left outer join course2 as c on t.cid &#x3D; c.cid where c.cname &#x3D; &#39;java&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>å…¶ç›¸åº”çš„æ‰§è¡Œè®¡åˆ’å¦‚ä¸‹ï¼š<br><img src="/images/SQL/explain6.png"></p><p>å¯è§ type ä¸º allï¼Œå³å…¨è¡¨æŸ¥è¯¢ï¼Œè€Œä¸” extra å‡ºç°ä¸€ä¸ªæ–°çš„å­—æ®µå€¼ï¼š using join bufferï¼Œå‡ºç°æ­¤å­—æ®µå°±æ˜¯è¯´æ˜ sql å†™çš„å¾ˆå·®ï¼ŒMySQL åº•å±‚ä½¿ç”¨ä¼˜åŒ–å™¨å¯¹ sql è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå³ä½¿ç”¨è¿ç»“ç¼“å­˜ã€‚ä½†æ˜¯ç”±äºä¸æ¶‰åŠç´¢å¼•æŸ¥è¯¢ï¼Œæ‰€ä»¥å¿…ç„¶è¿˜æ˜¯å¾ˆæ…¢ã€‚</p><p>æ‰€ä»¥ä¸¤è¡¨çš„ç´¢å¼•åº”è¯¥å¦‚ä½•å»åŠ å‘¢ï¼Ÿç›´æ¥ä¸Šç»“è®ºï¼š<strong>å°è¡¨é©±åŠ¨å¤§è¡¨</strong>ï¼Œå†™æ³•å¦‚  <strong>å°è¡¨.X &#x3D; å¤§è¡¨.X</strong>  ï¼ŒåŸç†å°±æ˜¯æ ¹æ® CPU ä¸å†…å­˜çš„ç©ºé—´å±€éƒ¨æ€§åŸç†ï¼Œä¸ç”¨é¢‘ç¹è¿›å…¥ç£ç›˜è®¿å­˜æ‹¿å‡ºæ•°æ®ã€‚</p><p>æ‰€ä»¥ï¼Œå…³äºä¸¤è¡¨ç´¢å¼•çš„å¢åŠ ï¼Œä¸€èˆ¬æ˜¯å…ˆçœ‹è¿æ¥ï¼Œæ¯”å¦‚å·¦å¤–è¿ç»“åœ¨å·¦è¡¨ä¸ŠåŠ ç´¢å¼•ã€å³å¤–è¿ç»“åœ¨å³è¡¨ä¸ŠåŠ ç´¢å¼•ã€‚å°è¡¨ä¸­ä½¿ç”¨é¢‘ç¹çš„å­—æ®µåŠ ç´¢å¼•ã€‚</p><p>æ•…åŠ ç´¢å¼•å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> teacher2 <span class="token keyword">add</span> <span class="token keyword">index</span> index_teacher2_cid<span class="token punctuation">(</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">alter</span> <span class="token keyword">table</span> course2 <span class="token keyword">add</span> <span class="token keyword">index</span> index_course2_cname<span class="token punctuation">(</span>cname<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>æ­¤åæ‰§è¡Œæ•ˆæœç›´æ¥æå‡ä¸º ref çº§åˆ«ï¼Œè€Œä¸”ä¸å†å‡ºç° using join bufferï¼Œè¯æ˜ SQL è¯­å¥ä¼˜åŒ–çš„è¿˜è¡Œã€‚</p><p><img src="/images/SQL/explain7.png" alt="ç›´æ¥æå‡åˆ° ref "></p><p>è€Œå…³äºä¸‰è¡¨ä¼˜åŒ–åªéœ€è¦è®°ä½ä¸¤ä¸ªä¸ªåŸåˆ™å³å¯</p><ul><li>1ã€å°è¡¨é©±åŠ¨å¤§è¡¨</li><li>2ã€ç´¢å¼•å»ºç«‹åœ¨ç»å¸¸æŸ¥è¯¢çš„å­—æ®µä¸Š</li></ul><p>æ³¨æ„ ï¼š<strong>SQL ä¼˜åŒ–æ˜¯ä¸€ç§æ¦‚ç‡äº‹ä»¶ï¼æ˜¯å¦å®é™…ä½¿ç”¨äº†æˆ‘ä»¬çš„ä¼˜åŒ–ï¼Œéœ€è¦é€šè¿‡ explain è¿›è¡ŒæŸ¥çœ‹</strong></p><h2 id="5ã€é¿å…ç´¢å¼•å¤±æ•ˆçš„ä¸€äº›åŸåˆ™"><a href="#5ã€é¿å…ç´¢å¼•å¤±æ•ˆçš„ä¸€äº›åŸåˆ™" class="headerlink" title="5ã€é¿å…ç´¢å¼•å¤±æ•ˆçš„ä¸€äº›åŸåˆ™"></a>5ã€é¿å…ç´¢å¼•å¤±æ•ˆçš„ä¸€äº›åŸåˆ™</h2><ul><li>aã€å¤åˆç´¢å¼•ï¼›<ul><li>å¤åˆç´¢å¼•ä¸è·¨åˆ—æˆ–è€…æ— åºä½¿ç”¨ï¼ˆæœ€ä½³å·¦å‰ç¼€åŒ¹é…ï¼‰</li><li>å¤åˆç´¢å¼•ï¼Œå°½é‡ä½¿ç”¨å…¨ç´¢å¼•åŒ¹é…ã€‚</li></ul></li><li>bã€ä¸è¦å†ç´¢å¼•ä¸Šè¿›è¡Œä»»ä½•æ“ä½œï¼ˆå‡½æ•°è®¡ç®—ã€ç±»å‹è½¬æ¢ç­‰ï¼‰ï¼Œå¦åˆ™éƒ½ä¼šä½¿ç´¢å¼•å¤±æ•ˆï¼›<ul><li>è€Œä¸”å¤åˆç´¢å¼•ä¸­ï¼Œå¦‚æœå¯¹å·¦ä¾§çš„ç´¢å¼•è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆåŒ…æ‹¬æ­¤ç´¢å¼•çš„å³ä¾§ç´¢å¼•å…¨éƒ¨å¤±æ•ˆã€‚ã€</li><li>å¤åˆç´¢å¼•ä¸èƒ½ä½¿ç”¨ä¸ç­‰äºï¼ˆ!&#x3D;&gt;&lt;ï¼‰æˆ– is null ï¼ˆis not nullï¼‰ï¼Œå¦åˆ™è‡ªèº«ä»¥åŠå³ä¾§çš„ç´¢å¼•å…¨éƒ¨å¤±æ•ˆã€‚</li><li>å¤åˆç´¢ä½¿ç”¨ç­‰äºï¼ˆ&#x3D;&gt;&lt;ï¼‰æœ‰éƒ¨åˆ†æ¦‚ç‡ä½¿è‡ªèº«ä»¥åŠå³ä¾§çš„ç´¢å¼•å…¨éƒ¨å¤±æ•ˆã€‚</li><li>SQLä¼˜åŒ–ç”±äºSQL ä¼˜åŒ–å™¨ç­‰åŸå› ï¼Œå¹¶é100%æˆç«‹ã€‚ä¸€èˆ¬è€Œè¨€ï¼ŒèŒƒå›´æŸ¥è¯¢çš„ï¼ˆ&gt; &lt; inï¼‰ä¹‹åçš„ç´¢å¼•å¤±æ•ˆ</li><li>è¡¥æ•‘æ–¹å¼ï¼šå°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ã€‚</li></ul></li><li>cã€like åå°½é‡ä»¥â€œå¸¸é‡â€å¼€å¤´ï¼Œä¸è¦ä»¥%å¼€å¤´ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆï¼›</li><li>dã€å°½é‡ä¸è¦ä½¿ç”¨ç±»å‹è½¬æ¢ï¼ˆæ˜¾ç¤ºã€éšå¼ï¼‰å¦åˆ™ç´¢å¼•å¤±æ•ˆï¼›</li><li>eã€å°½é‡ä¸è¦ä½¿ç”¨ or ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆï¼Œå·¦å³çš„ç´¢å¼•éƒ½ä¼šå¤±æ•ˆ</li></ul><h2 id="6ã€ç´¢å¼•ä¼˜åŒ–æ–¹æ³•"><a href="#6ã€ç´¢å¼•ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="6ã€ç´¢å¼•ä¼˜åŒ–æ–¹æ³•"></a>6ã€ç´¢å¼•ä¼˜åŒ–æ–¹æ³•</h2><ul><li>1ã€exist ä¸ in ä½¿ç”¨æƒ…å†µ<ul><li>ä¸»æŸ¥è¯¢æ•°æ®é›†å¤§ï¼šin</li><li>å­æŸ¥è¯¢æ•°æ®é›†å¤§ï¼šexist</li></ul></li><li>2ã€order by ä¼˜åŒ–<ul><li>using filesort ï¼Œæœ‰ä¸¤ç§ç®—æ³•ï¼šåŒè·¯æ’åºä¸å•è·¯æ’åºï¼ˆæ ¹æ® I&#x2F;O çš„æ¬¡æ•°ï¼‰</li><li>é€‰æ‹©ä½¿ç”¨ å•è·¯ã€åŒè·¯ï¼Œè°ƒæ•´ buffer çš„å®¹é‡å¤§å°ã€‚</li><li>é¿å…ä½¿ç”¨ select *  </li><li>å¤åˆç´¢å¼•ä¸è·¨åˆ—</li><li>ä¿è¯å…¨éƒ¨çš„æ’åºå­—æ®µï¼Œæ’åºçš„ä¸€è‡´æ€§ï¼ˆéƒ½æ˜¯å‡åºä¸é™åºï¼‰</li></ul></li></ul><h2 id="7ã€SQLæ’æŸ¥-æ…¢æŸ¥è¯¢"><a href="#7ã€SQLæ’æŸ¥-æ…¢æŸ¥è¯¢" class="headerlink" title="7ã€SQLæ’æŸ¥-æ…¢æŸ¥è¯¢"></a>7ã€SQLæ’æŸ¥-æ…¢æŸ¥è¯¢</h2><p>æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯ MySQL æä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œç”¨äºè®°å½• MySQL ä¸­å“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼çš„ SQL è¯­å¥ã€‚</p><p>é…ç½®æ–‡ä»¶ä¸­æ˜¾ç¤ºä¸º : long_query_timeï¼Œé»˜è®¤ä¸º 10s ã€‚</p><p>æ…¢æŸ¥è¯¢æ—¥å¿—é»˜è®¤æ˜¯å…³é—­çš„ï¼šå¼€å‘æ—¶å»ºè®®æ‰“å¼€ï¼Œéƒ¨ç½²æ—¶å€™å…³é—­ã€‚<br><img src="/images/SQL/slow-query.png" alt="é»˜è®¤å…³é—­"></p><p>ä¸€èˆ¬æ˜¯ä¸´æ—¶å¼€å¯ï¼Œå¦‚æœéœ€è¦æ°¸ä¹…å¼€å¯ï¼Œç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­è¿½åŠ é…ç½®å³å¯ã€‚</p><p>linux ä¸Šä¹Ÿèƒ½é€šè¿‡ä½¿ç”¨ mysqldumpslow å·¥å…·å¯¹æ…¢ SQL è¯­å¥è¿›è¡Œæ’æŸ¥ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ï¼Œå¯¹sqlè¯­å¥è¿›è¡Œå¿«é€Ÿç­›é€‰ã€‚<br>ä½¿ç”¨å‘½ä»¤  mysqldumpslow  â€“help</p><blockquote><ul><li>s : æ’åºæ–¹å¼</li><li>r : é€†åº</li><li>l : é”å®šæ—¶é—´</li><li>g : æ­£åˆ™åŒ¹é…</li></ul></blockquote><p>å‚è€ƒ bash å†™æ³•å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-BASH" data-language="BASH"><code class="language-BASH"># è·å–è¿”å›è®°å½•æœ€å¤šçš„ 3 ä¸ªSQLmysqldumpslow -s r -t 3 &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;localhost-slow.log#è·å–è®¿é—®æ¬¡æ•°æœ€å¤šçš„ c3 ä¸ªSQLmysqldumpslow -s c -t 3 &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;localhost-slow.log<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å…·ä½“ç»†èŠ‚ï¼Œåœ¨å®è·µä¸­å­¦ä¹ å³å¯ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå®é™…çš„ç”Ÿäº§è¿‡ç¨‹ä¸­æœ‰æŒºå¤šå¤æ‚çš„åœºæ™¯ï¼Œä½†æ˜¯åœ¨ä¸šåŠ¡é‡æ²¡æœ‰æå‡çš„æ—¶å€™ï¼Œå…·ä½“é—®é¢˜å¯ä»¥ä¸è¿›è¡Œä¼˜åŒ–ï¼Œå¾…ä¸šåŠ¡é‡ä¸ä½¿ç”¨é‡ä¸Šæ¥åï¼Œåœ¨è¿›è¡Œä¼˜åŒ–ï¼Œæ¯•ç«Ÿåšäº‹éƒ½æ˜¯æœ‰æ—¶é—´æˆæœ¬ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ·±å…¥ç†è§£ redis åº•å±‚</title>
    <link href="/2022/06/13/middleware/redis2/"/>
    <url>/2022/06/13/middleware/redis2/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸»è¦ç”¨äº redis çš„åº•å±‚åŸç†ã€æºç å®ç°çš„ä¸ªäººå­¦ä¹ è®°å½•ï¼Œé…å›¾ä¸»è¦æ¥è‡ªæå®¢æ—¶é—´ã€‚</p></blockquote><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>é¦–å…ˆï¼Œredis ä¸»è¦æ˜¯ä¸ºäº†å®ç°<strong>é«˜æ€§èƒ½ã€é«˜å¯é ã€é«˜å¯æ‰©å±•æ€§</strong>ä¸‰ä¸ªé«˜åº¦ã€‚</p><p>è€Œå…¨é¢å­¦ä¹  redisï¼Œä¸»è¦æ˜¯å½“redis å‡ºç°ç›¸åº”çš„æ•…éšœé—®é¢˜æ—¶ï¼Œå¼€å‘äººå‘˜èƒ½è¿›è¡Œå¿«é€Ÿå¯¹é—®é¢˜è¿›è¡Œå®šä½ä¸è§£å†³ã€‚</p><p>è€Œå¯¹äºé—®é¢˜çš„å®šä½æ’æŸ¥éœ€è¦çš„æµç¨‹ï¼Œæˆ‘è§è¿‡ç”»çš„æœ€å¥½çš„å›¾è¿˜æ˜¯æå®¢æ—¶é—´çš„è’‹è€å¸ˆçš„é—®é¢˜æ’æŸ¥å›¾ã€‚</p><p><img src="/images/middleware/redis1.png"></p><h2 id="Redis-åº•å±‚æ•°æ®ç»“æ„"><a href="#Redis-åº•å±‚æ•°æ®ç»“æ„" class="headerlink" title="Redis åº•å±‚æ•°æ®ç»“æ„"></a>Redis åº•å±‚æ•°æ®ç»“æ„</h2><p> redis åº•å±‚æ•°æ®ç»“æ„ä¸»è¦é‡‡ç”¨æ•´æ•°æ•°ç»„å’Œå‹ç¼©åˆ—è¡¨ï¼Œä½†æ˜¯åœ¨æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦æ–¹é¢å¹¶æ²¡æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œé‚£ä¸ºä»€ä¹ˆ Redis è¿˜ä¼šæŠŠå®ƒä»¬ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„å‘¢ï¼Ÿ</p><p>è¿™æœ‰ä¸¤ä¸ªæ–¹é¢çš„åŸå› ï¼š</p><blockquote><p>1ã€ä»å†…å­˜åˆ©ç”¨ç‡å‡ºå‘ï¼Œæ•°ç»„å’Œå‹ç¼©åˆ—è¡¨éƒ½æ˜¯éå¸¸ç´§å‡‘çš„æ•°æ®ç»“æ„ï¼Œå®ƒæ¯”é“¾è¡¨å ç”¨çš„å†…å­˜è¦æ›´å°‘ã€‚Redisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¤§é‡æ•°æ®å­˜åˆ°å†…å­˜ä¸­ï¼Œæ­¤æ—¶éœ€è¦åšå°½å¯èƒ½çš„ä¼˜åŒ–ï¼Œæé«˜å†…å­˜çš„åˆ©ç”¨ç‡ã€‚</p><p>2ã€ä»CPUé«˜é€Ÿç¼“å­˜å‡ºå‘ï¼Œåœ¨Redisåœ¨è®¾è®¡æ—¶ï¼Œé›†åˆæ•°æ®å…ƒç´ è¾ƒå°‘æƒ…å†µä¸‹ï¼Œé»˜è®¤é‡‡ç”¨å†…å­˜ç´§å‡‘æ’åˆ—çš„æ–¹å¼å­˜å‚¨ï¼ŒåŒæ—¶åˆ©ç”¨CPUé«˜é€Ÿç¼“å­˜ä¸ä¼šé™ä½è®¿é—®é€Ÿåº¦ã€‚å½“æ•°æ®å…ƒç´ è¶…è¿‡è®¾å®šé˜ˆå€¼åï¼Œé¿å…æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦å¤ªé«˜ï¼Œè½¬ä¸ºå“ˆå¸Œå’Œè·³è¡¨æ•°æ®ç»“æ„å­˜å‚¨ï¼Œä¿è¯æŸ¥è¯¢æ•ˆç‡ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 22 - 23 å‘¨æ€»ç»“æ€è€ƒ</title>
    <link href="/2022/06/05/summary/22-6-5/"/>
    <url>/2022/06/05/summary/22-6-5/</url>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™å‡ å‘¨åšäº†èº«ä½“æ£€æŸ¥ï¼Œä¸»è¦ä»¥è°ƒæ•´ä½œæ¯ä¸ºä¸»</p></blockquote><h2 id="22-23-å‘¨"><a href="#22-23-å‘¨" class="headerlink" title="22 ~ 23 å‘¨"></a>22 ~ 23 å‘¨</h2><p>è¿™ä¸¤å‘¨ï¼Œç»™è‡ªå·±çš„ä»»åŠ¡å®‰æ’éå¸¸è½»ï¼Œæ‰€ä»¥å»åŒ»é™¢åšäº†ä¸€äº›æ£€æŸ¥ï¼Œæ£€æŸ¥ç»“æœè‰¯å¥½ã€‚ä½†æ˜¯åŒ»ç”Ÿå»ºè®®ä¸ºäº†é¿å…ä»¥åçš„æ¶åŒ–ï¼Œéœ€è¦å¤šå¤šæ›´æ”¹ä½œæ¯ï¼Œæ¯”å¦‚æ—©ç¡æ—©èµ·ã€æ¯æ—¥åŠå°æ—¶ä»¥ä¸Šçš„è·‘æ­¥ã€æ¸¸æ³³ç­‰ä½“è‚²é”»ç‚¼ã€‚</p><p>æƒ³ä¸€æƒ³ï¼Œè€ƒç ”ä»¥åï¼Œè‡ªå·±å·²ç»æœ‰æ¥è¿‘ä¸¤å¹´çš„æ—¶é—´æ²¡æœ‰è¿›è¡Œæ¸¸æ³³çš„ä½“è‚²é”»ç‚¼äº†ï¼Œå°å¿åŸçš„æ¸¸æ³³é¦†å·²ç»å€’é—­äº†ï¼Œæ¯•ç«Ÿæœ‰è¿™æ ·çš„éœ€æ±‚çš„ä¹¡æ‘äººè¿˜æ˜¯æŒºå°‘çš„ã€‚</p><p>é™¤å¼€è¿™äº›ä¹‹å¤–ï¼Œä¸»è¦è¿˜æ˜¯å°± Redis çš„æŠ€æœ¯è¿›è¡Œç ”ç©¶ï¼Œæ¯•ç«Ÿä¹‹å‰ä¹Ÿæ²¡æœ‰ç³»ç»Ÿæ€§å­¦ä¹ è¿‡ï¼Œåªæ˜¯é€šè¿‡ç›¸åº”çš„æ–‡æ¡£è¿›è¡Œå¼€å‘é©±åŠ¨çš„ä½¿ç”¨ç½¢äº†ã€‚</p><h2 id="24-25-å‘¨"><a href="#24-25-å‘¨" class="headerlink" title="24 ~ 25 å‘¨"></a>24 ~ 25 å‘¨</h2><p>ä¸»è¦è¿˜æ˜¯è¿›è¡Œ Redis + Mysql çš„ç†è§£ï¼ŒåŒ…æ‹¬ç›¸åº”çš„è®¾è®¡ä¸å®ç°ï¼Œå…¶å®å¹¶ä¸èƒ½è¯´æ˜ï¼Œå­¦åˆ°çš„ä¸œè¥¿èƒ½å‘æŒ¥ä½œç”¨ï¼Œå­¦ä¹ çš„çŸ¥è¯†ä¹Ÿæ˜¯ä¸ºäº†æœªæ¥è¿›è¡Œå‚¨å¤‡çš„ï¼Œä¸€ç›´æŒç»­åˆ°ä»Šå¹´å¹´åº•çš„ 6 ä¸ªæœˆå¯¹è¿™ä¸¤æŠ€æœ¯è¿›è¡Œåº•å±‚åŒ–çš„æ¢ç´¢ã€‚</p><p>ä¸‹ä¸ª 6 ä¸ªæœˆçš„å¤§å‘¨æœŸï¼Œä¸»è¦ç»™ kafkaã€æ¶ˆæ¯é˜Ÿåˆ—ã€devops çš„ä¸€äº›ç»„ä»¶(ç›‘æ§ã€K8S)ç­‰è¿ç»´åŒ–çš„å·¥å…·ç ”ç©¶ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 20 - 21 å‘¨æ€»ç»“æ€è€ƒ</title>
    <link href="/2022/05/21/summary/22-5-21/"/>
    <url>/2022/05/21/summary/22-5-21/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸¤å‘¨æ€»ç»“ä¸€æ¬¡ï¼ŒåŸå› æ˜¯å› ä¸ºå‘¨æ€»ç»“æœ‰ä¸€äº›ä¸å¥½å†™ï¼Œè‡ªå·±åˆé™·å…¥äº†ä¸€ä¸ªç“¶é¢ˆæœŸï¼Œæ‰€ä»¥éœ€è¦å°†æ—¶é—´çš„è·¨åº¦æ‹‰å¤§ä¸€äº›ï¼Œè¿™æ ·æ‰å¥½</p></blockquote><h2 id="20-21-å‘¨"><a href="#20-21-å‘¨" class="headerlink" title="20 ~ 21 å‘¨"></a>20 ~ 21 å‘¨</h2><p>20~21 å‘¨ä¸»è¦æ˜¯åœ¨å‚ä¸å¼€æºç¤¾åŒºï¼Œå¸® GoFrame ç¤¾åŒºåš pgsql é©±åŠ¨çš„å•å…ƒæµ‹è¯•ï¼ŒæœŸé—´ä¸»è¦å­¦ä¹ äº†ä»¥ä¸‹å†…å®¹ï¼š</p><blockquote><p>1ã€å¦‚ä½•å†™å•æµ‹ï¼ˆæ¨¡ä»¿ + é€»è¾‘æ”¹å†™ï¼‰</p><p>2ã€å¦‚ä½•å‚ä¸å¼€æºé¡¹ç›®ä»¥åŠå¦‚ä½•åš code review </p><p>3ã€pgsql è¯­æ³•å­¦ä¹ ï¼Œä»¥åŠåšæ•°æ®åº“çš„ sql æµ‹è¯•ï¼ˆå°±æ˜¯æ‰§è¡Œä¸€ä¸ªåˆ›å»ºè¡¨ã€é€€å‡º test åç¨‹æ—¶å€™åˆ é™¤è¡¨çš„é€»è¾‘ï¼‰</p><p>4ã€github workflow ci&#x2F;cd æµç¨‹çš„å­¦ä¹ </p></blockquote><p>å¤§è‡´å¦‚ä»¥ä¸Šä¸‰ç‚¹æ‰€ç¤ºï¼Œåæ€æ€»ç»“æ˜¯å­¦ä¹ ä¸æå‡å¾ˆå¤§ï¼Œå°¤å…¶æ˜¯åœ¨ code review ä¸Šï¼Œå¯ä»¥é€šè¿‡å­¦ä¹ åˆ«äººæäº¤çš„ commit å¯¹æ¯”ï¼Œç„¶åä¸åˆ«äººäº¤æµè®¾è®¡çš„æ€æƒ³ï¼Œè¿™æ ·äººçš„èƒ½åŠ›èƒ½å¾—åˆ°ä¸€ä¸ªå¿«é€Ÿçš„æå‡ã€‚</p><p>ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼ŒçŸ¥è¯†æ²¡æœ‰å¾—åˆ°ä¸€ä¸ªç³»ç»Ÿæ€§çš„æå‡ï¼Œåªæ˜¯åœ¨å·¥ä½œä¸­çš„ç¢ç‰‡åŒ–çš„ç¢ç‰‡åŒ–çŸ¥è¯†å­¦ä¹ ï¼Œåº”è¯¥æ˜¯ä½¿ç”¨ç¢ç‰‡åŒ–çš„æ—¶é—´è¿›è¡Œç³»ç»Ÿæ€§çš„å­¦ä¹ ï¼Œæ¯”å¦‚çœ‹ä¹¦ã€çœ‹è§†é¢‘ç­‰ã€‚çœ‹åšå®¢ã€å†™åšå®¢ä¹Ÿåªæ˜¯ä¸€ç§é›¶æ•£æ€§çš„å­¦ä¹ è€Œå·²ã€‚</p><h2 id="22-23-è®¡åˆ’"><a href="#22-23-è®¡åˆ’" class="headerlink" title="22 ~ 23 è®¡åˆ’"></a>22 ~ 23 è®¡åˆ’</h2><p>æ¥ä¸‹æ¥å…­ä¸ªæœˆï¼Œéœ€è¦è‡ªå·±åœ¨ mysqlã€redisã€kafka è¿™æ ·çš„ä¸­é—´ä»¶ï¼Œè¿›è¡Œç›¸åº”çš„å­¦ä¹ ä¸æç¤ºä¿®å…»ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä¸€ä¸ªç³»ç»ŸåŒ–çš„æå‡ã€‚</p><p>ä¸»è¦å‡†å¤‡çœ‹ mysql ä¸ redis çš„ä¹¦ã€ä¸“æ è¿›è¡Œç³»ç»ŸåŒ–çš„å­¦ä¹ ï¼Œå½“ç„¶ä¹Ÿä¼šè¿›è¡Œä¸€ä¸ªå®æˆ˜çš„æå‡ã€‚</p><p>è¿˜æœ‰å³æ˜¯æ•´æ´ä¹‹é“ä¸‰éƒ¨æ›²ï¼šä»£ç æ•´æ´ä¹‹é“ã€æ¶æ„æ•´æ´ä¹‹é“ã€åŒ è‰ºæ•´æ´ä¹‹é“ä¸‰è€…ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 18 - 19 å‘¨æ€»ç»“æ€è€ƒ</title>
    <link href="/2022/05/07/summary/22-5-7/"/>
    <url>/2022/05/07/summary/22-5-7/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ€»ç»“ä¸æ€è€ƒï¼Œå¯èƒ½å¹¶éæ˜¯å•çº¯ä»æŠ€æœ¯çš„å±‚é¢ä¸Šè¿›è¡Œæ€è€ƒã€‚</p></blockquote><p>18 å‘¨åˆ° 19 å‘¨ï¼Œä¸­é—´åº¦è¿‡äº†äº”ä¸€ï¼Œç¨å¾®ä¼‘æ¯äº†ä¸‰å››å¤©ï¼Œæ‰€ä»¥ä¸Šä¸€å‘¨çš„æ€»ç»“å°±æ²¡æœ‰åŠæ—¶çš„è·Ÿä¸Šè®¡åˆ’ã€‚å½“ç„¶ï¼Œæˆ‘è‡ªå·±ä¹Ÿä¸æ˜¯ä¸€ä¸ªå®Œå…¨æŒ‰ç…§è®¡åˆ’æ‰§è¡Œçš„äººï¼Œæ€»ä¼šæœ‰ä¸€äº›äººæœ¬è´¨ä¸Šçš„åŠ£æ ¹æ€§å­˜åœ¨çš„ã€‚</p><h2 id="18-å‘¨"><a href="#18-å‘¨" class="headerlink" title="18 å‘¨"></a>18 å‘¨</h2><p>åœ¨ 18 å‘¨çš„æ—¶å€™ï¼Œç”±äºè‡ªå·±å®ç°ä¸äº†ä¸€ä¸ªå®Œæ•´çš„çš„é¡¹ç›®ï¼Œè€Œæ„Ÿå—åˆ°ä¸ªäººèƒ½åŠ›çš„ä¸è¶³ï¼Œä»å¤§å­¦ä»¥æ¥ï¼Œè¿™æ ·çš„ç—›è‹¦å°±æ˜¯æ’å¸¸çš„ï¼Œæ€»æ˜¯åœ¨è¿½å¯»è‡ªå·±æƒ³åšçš„äº‹æƒ…ï¼Œè€Œæœ‰æ—¶å€™ç¼ºå¿½ç•¥äº†è‡ªå·±çš„èƒ½åŠ›ã€‚</p><blockquote><p>æœ‰äº›å½“æ—¶æƒ³è¦å»å®Œæˆçš„ä¸œè¥¿ï¼Œå´ä»¥è‡ªå·±æš‚æ—¶çš„èƒ½åŠ›è¾¾ä¸åˆ°ï¼Œåˆæ²¡åŠæ³•è¿›è¡Œè‰¯å¥½çš„è¡Œä¸ºåšæŒï¼Œè€Œä»¥å¤±è´¥å‘Šç»ˆã€‚</p></blockquote><p>æ‰€ä»¥è‡ªå·±æš‚æ—¶æ€§çš„æ”¾å¼ƒäº†ï¼Œè‡ªå·±å»ºç«‹ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®çš„å¿µæƒ³ï¼Œæ¯•ç«Ÿæ²¡æœ‰å·¥ä½œç»éªŒã€å®ä¹ ç»éªŒï¼Œæ‰€è°“çš„é¡¹ç›®ï¼Œä¸è¿‡æ˜¯è‡ªå·±ç…§ç€åŸ¹è®­æœºæ„å»æ¨¡ä»¿è€Œå·²ï¼Œå¥½å¥½æ‰“æ‰å®åŸºç¡€ã€å»å¼€æºé¡¹ç›®ä¸Šè¿›è¡Œå°åŠŸèƒ½çš„è¿½åŠ ã€bug ç»´æŠ¤ï¼Œå¯èƒ½æ›´åˆé€‚ä¸€äº›ã€‚</p><blockquote><p>ç°åœ¨è‡ªå·±å†™åšå®¢åšæŒäº†å¤§åŠå¹´äº†ï¼ŒæŠ€æœ¯æ°´å¹³çš„æå‡ä¹Ÿæœ‰æ‰€é•¿è¿›ï¼Œè¿™å¤§åŠå¹´ä¹Ÿç®—å°æœ‰æˆå°±ã€‚å”¯ä¸€ä¸è¶³çš„å°±æ˜¯æ²¡èƒ½åœ¨ä¼ä¸šä¸­åˆ›é€ ä»·å€¼ï¼Œå±äºè‡ªå·±çš„é—­é—¨é€ è½¦ç½¢äº†ã€‚</p></blockquote><p>æ‰€ä»¥è‡ªå·±åœ¨åç«¯ç®—æ˜¯å­¦æœ‰ä½™åŠ›çš„æƒ…å†µä¸‹ï¼Œå¼€å¯äº†å‰ç«¯çš„åŸºç¡€å­¦ä¹ ï¼Œè‡ªå·±è™½ç„¶åœ¨å¤§å­¦æ—¶å€™ï¼Œä¹Ÿç®—äº†è§£è¿‡å‰ç«¯çš„ä¸€äº›çŸ¥è¯†ï¼Œæ‰€ä»¥ç›´æ¥ä¸Šæ‰‹ vue æ¡†æ¶ï¼Œè¿™æ ·ç¡®å®ä¸ç¬¦åˆä¸€èˆ¬æ€§çš„è§„å¾‹ï¼Œåœ¨æ­¤è¿˜æ˜¯<strong>ä¸å»ºè®®å¤§å®¶ä¸Šæ‰‹ç›´æ¥ä»æ¡†æ¶å¼€å§‹ï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°èµ°æ…¢ä¸€äº›ï¼Œå¯¹äºè‡ªå·±çš„ä¸ªäººæˆé•¿æ›´å¥½</strong>ã€‚</p><p>åƒæˆ‘çš„æ•°æ®ç»“æ„ä¸ç®—æ³•ä»¥åŠä¸¤å¹´çš„ 408 å­¦ä¹ ï¼Œè™½ç„¶è€ƒå‡ºçš„è€ƒç ”æˆç»©ä¸ç†æƒ³ï¼Œä½†æ˜¯ä¹Ÿç®—è¿™æ–¹é¢æ¯”è¾ƒæ‰å®çš„å±‚é¢ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›æ¼æ´ï¼Œä¸è¿‡å¤§çº²è¿˜æ˜¯æ²¡é—®é¢˜ã€‚è¿™æ ·ä¸¤å¹´çš„å­¦ä¹ ï¼Œå¸¦ç»™è‡ªå·±ä¸“ä¸šåŸºç¡€ä¸Šçš„æå‡ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚</p><p>æ€»ä¹‹ï¼ŒåŸºç¡€ä¸€å®šæ˜¯ç‹é“ï¼Œè‡ªå·±æœ€å¿«é€Ÿçš„æå‡é˜¶æ®µï¼Œç†åº”æ˜¯ç®—æ³•çš„å­¦ä¹ äº†ï¼Œæ‰€ä»¥åˆå­¦è€…å°†ç®—æ³•å­¦ä¹ æ‰å®ï¼Œæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªç¯èŠ‚ã€‚</p><h2 id="19-å‘¨"><a href="#19-å‘¨" class="headerlink" title="19 å‘¨"></a>19 å‘¨</h2><p>19 å‘¨ä¸»è¦æ˜¯äº”æœˆä¸€æ—¥ï¼ŒåŠ³åŠ¨èŠ‚ã€é’å¹´èŠ‚æ”¾å‡ï¼Œæ‰€ä»¥è‡ªå·±ä¼‘æ¯äº†ä¸‰å¤©ï¼ŒæœŸé—´ä¸»è¦æ˜¯çœ‹ <strong>ç‹å¾·å³°æ•™æˆçš„ â€œä¸­è¥¿æ–¹æ–‡åŒ–å·®å¼‚çš„æºå¤´â€ï¼Œä»¥åŠä»–å¯¹ä½›æ³•çš„è®²è¿°ã€‚</strong></p><p>é—²æš‡ä¹‹ä½™æ‰èƒ½æ€è€ƒï¼Œäººè¶Šå¿™çš„æ—¶é—´ï¼Œæƒ³æ³•å°±è¶Šçº¯ç²¹ï¼šè„‘ä¸­åªæœ‰æŠŠæ´»å¹²å¥½ã€‚ä¸­å›½ç¤¾ä¼šå¦‚ç‹æ•™æˆæ‰€è¯´ï¼šä»ä¸€ä¸ªæ™®éç‰©è´¨ä¸æ»¡è¶³çš„æ—¶ä»£ï¼Œèµ°å…¥ä¸€ä¸ªæ™®éç²¾ç¥ä¸å®‰å®çš„æ—¶ä»£ã€‚ä¸­å›½äººå¦‚ä½•å»ç†è§£è‡ªå·±ä»·å€¼ï¼Œå¦‚ä½•æ‰¾åˆ°è‡ªå·±å®‰èº«ç«‹å‘½çš„åœ°æ–¹ã€‚</p><h2 id="20-å‘¨è®¡åˆ’"><a href="#20-å‘¨è®¡åˆ’" class="headerlink" title="20 å‘¨è®¡åˆ’"></a>20 å‘¨è®¡åˆ’</h2><p>æœªæ¥è¿˜æ˜¯ä»¥è‡ªå·±çš„è®¡åˆ’ä¸ºä¸»ï¼Œå¤šæ–¹é¢è¿›è¡Œå­¦ä¹ ä¸æå‡ï¼Œä¸ä»…åªæ˜¯æŠ€æœ¯æ–¹å‘ä¸Šï¼Œæ²Ÿé€šèƒ½åŠ›ã€äººæ–‡ç¤¾ç§‘ã€ç”³è®º + è¡Œæµ‹ã€‚å…¨æ–¹é¢çš„ç´ è´¨æå‡ï¼Œå¯¹è‡ªå·±å¸¦æ¥çš„æ•ˆæœï¼Œæ›´åŠ é€‚åˆäººä½œä¸ºäººè€Œå­˜åœ¨ã€‚</p><hr><p>æœ€è¿‘å‡ å‘¨ï¼Œå¯¹è‡ªå·±å†™åšå®¢çš„å†…å®¹æœ‰æ‰€è´¨ç–‘ï¼Œæ¯•ç«Ÿè‡ªå·±å†™åšå®¢çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†åŠ æ·±è‡ªå·±å¯¹çŸ¥è¯†çš„ç†è§£ï¼ŒæŠ€èƒ½çš„ç†Ÿç»ƒã€‚</p><p>è€Œçœ‹åˆ°è‡ªå·±ä»¥å‰çš„åšå®¢ï¼Œè´¨é‡ä¸å†…å®¹ï¼Œå¯èƒ½åˆå­¦çš„æ—¶å€™ï¼Œè¿˜èƒ½å‹‰å‹‰å¼ºå¼ºçš„æ¥å—ï¼Œåˆ°ç°åœ¨ä¸€çœ‹ï¼Œæ’ç‰ˆä¸å¥½ã€å†…å®¹è´¨é‡ä¹Ÿä¸ç®—é«˜ï¼Œç»´æŠ¤æ›´æ–°å°±æ›´ä¸ç”¨è¯´äº†ã€‚</p><p>é™¤äº†åŸºç¡€ä¹‹å¤–ï¼Œä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯éœ€è¦å³æ—¶è¿›è¡Œæ›´æ–°çš„ã€‚å°±åƒ web æ¡†æ¶ä¸€æ ·ï¼Œä¸€æ®µæ—¶é—´æ²¡æœ‰ä½¿ç”¨ï¼Œå°±å¯èƒ½ bug æ»¡å¤©é£ã€‚å¦‚æœä¸åŠæ—¶è¿›è¡Œç»´æŠ¤ï¼Œé‚£ä¹ˆä¸€æ–¹é¢ç”¨æˆ·ä¼šå¿«é€Ÿæµå¤±ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¼šå¯¼è‡´å¤±å»å¯¹å¾…é¡¹ç›®ä»£ç è´¨é‡çš„æ„ŸçŸ¥ï¼ŒæŠ€èƒ½å°±ä¸å†æ˜¯æŠ€èƒ½ï¼Œè€Œæ˜¯çŸ¥è¯†ç½¢äº†ã€‚</p><p>æ‰€ä»¥ï¼Œæœ€è¿‘å‡ å‘¨ï¼Œä¸ä¼šå†ç»§ç»­æ’°å†™æ–°çš„åšå®¢ï¼Œè®² GMPã€å†…å­˜æ¨¡å‹ã€åƒåœ¾å›æ”¶ã€go å¹¶å‘çš„å†…å®¹ï¼Œåœ¨æ‰©å……æ‰©å……ï¼Œå¯¹è‡ªå·±ç†è§£äº†ï¼Œä½†æ˜¯æœªèƒ½å®ç°çš„åŠŸèƒ½å³æ—¶çš„è¿›è¡Œå®ç°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go è¯­è¨€ä¸­çš„ channel å­¦ä¹ </title>
    <link href="/2022/05/05/go/concurrency/channel/"/>
    <url>/2022/05/05/go/concurrency/channel/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸»è¦å­¦ä¹  Go è¯­è¨€ä¸­ channel æ•°æ®ç»“æ„ä½¿ç”¨ï¼Œä»¥åŠå·¥ä½œè¿‡ç¨‹ä¸­çš„é¿å‘ã€‚æ–‡ç« ä¸­çš„ä»£ç ä¸»è¦å‚è€ƒæå®¢æ—¶é—´ go å¹¶å‘ç¼–ç¨‹ï¼Œå¦‚æœ‰éœ€è¦æŸ¥çœ‹å…¶è¯¦ç»†å†…å®¹ï¼Œè¯·å‰å»è´­ä¹°ï¼</p></blockquote><h2 id="channel-ä½¿ç”¨æ–¹å‘ä¸Šçš„é¿å‘"><a href="#channel-ä½¿ç”¨æ–¹å‘ä¸Šçš„é¿å‘" class="headerlink" title="channel ä½¿ç”¨æ–¹å‘ä¸Šçš„é¿å‘"></a>channel ä½¿ç”¨æ–¹å‘ä¸Šçš„é¿å‘</h2><p>è™½ç„¶ Go çš„å¼€å‘è€…æåŠ›æ¨èä½¿ç”¨ channelã€‚ä½†æ˜¯é€šè¿‡å¤§å®¶çš„å·¥ç¨‹åŒ–é“è·¯ä¸Šçš„æ¢ç´¢ï¼Œ channel å¹¶ä¸æ˜¯å¤„ç†å¹¶å‘é—®é¢˜çš„æ™®é€‚æ€§çš„ä½¿ç”¨æ–¹æ³•ï¼Œæœ‰æ—¶å€™ä½¿ç”¨ä¼ ç»Ÿçš„å¹¶å‘åŸè¯­æ›´ç®€å•ï¼Œè€Œä¸”ä¸å®¹æ˜“å‡ºé”™ã€‚</p><p>æ‰€ä»¥åœ¨ä½¿ç”¨å¹¶å‘åŸè¯­æ—¶å€™ï¼Œä¸€èˆ¬éµå¾ªä»¥ä¸‹å‡ ç§è®¾ç½®æ–¹å¼:</p><blockquote><p>1ã€å…±äº«èµ„æºçš„å¹¶å‘è®¿é—®ä½¿ç”¨ä¼ ç»Ÿå¹¶å‘åŸè¯­</p><p>2ã€å¤æ‚çš„ä»»åŠ¡ç¼–æ’å’Œæ¶ˆæ¯ä¼ é€’ä½¿ç”¨ channel</p><p>3ã€æ¶ˆæ¯é€šçŸ¥æœºåˆ¶ä½¿ç”¨ channelï¼Œé™¤éåªæƒ³ signal ä¸€ä¸ª goroutineï¼Œæ‰ä½¿ç”¨ Cond</p><p>4ã€ç®€å•ç­‰å¾…æ‰€æœ‰ä»»åŠ¡çš„å®Œæˆç”¨ WaitGroupï¼Œä¹Ÿæœ‰ channel çš„æ¨å´‡è€…ç”¨ channelï¼Œéƒ½å¯ä»¥</p><p>5ã€éœ€è¦å’Œ select è¯­å¥ç»“åˆï¼Œä½¿ç”¨ channel</p><p>6ã€éœ€è¦å’Œè¶…æ—¶é…åˆæ—¶ï¼Œä½¿ç”¨ channel å’Œ context</p></blockquote><h2 id="channel-å…·ä½“ä½¿ç”¨çš„æ–¹å¼"><a href="#channel-å…·ä½“ä½¿ç”¨çš„æ–¹å¼" class="headerlink" title="channel å…·ä½“ä½¿ç”¨çš„æ–¹å¼"></a>channel å…·ä½“ä½¿ç”¨çš„æ–¹å¼</h2><p>1ã€åŠ¨æ€å¤„ç†ä¸å®šæ•°é‡çš„ channel ï¼Œä½¿ç”¨ reflect.Select å‡½æ•°ï¼Œå°† channel å½“æˆå‚æ•°ä¼ å…¥ï¼Œå…·ä½“æ¡ˆä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> ch1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>    <span class="token keyword">var</span> ch2 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>    <span class="token comment">// åˆ›å»ºSelectCase</span>    <span class="token keyword">var</span> cases <span class="token operator">=</span> <span class="token function">createCases</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch2<span class="token punctuation">)</span>    <span class="token comment">// æ‰§è¡Œ10æ¬¡select</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        chosen<span class="token punctuation">,</span> recv<span class="token punctuation">,</span> ok <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>cases<span class="token punctuation">)</span>        <span class="token keyword">if</span> recv<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// recv case</span>            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"recv:"</span><span class="token punctuation">,</span> cases<span class="token punctuation">[</span>chosen<span class="token punctuation">]</span><span class="token punctuation">.</span>Dir<span class="token punctuation">,</span> recv<span class="token punctuation">,</span> ok<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">// send case</span>            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"send:"</span><span class="token punctuation">,</span> cases<span class="token punctuation">[</span>chosen<span class="token punctuation">]</span><span class="token punctuation">.</span>Dir<span class="token punctuation">,</span> ok<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">createCases</span><span class="token punctuation">(</span>chs <span class="token operator">...</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>SelectCase <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> cases <span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>SelectCase    <span class="token comment">// åˆ›å»ºrecv case</span>    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ch <span class="token operator">:=</span> <span class="token keyword">range</span> chs <span class="token punctuation">&#123;</span>        cases <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>cases<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>SelectCase<span class="token punctuation">&#123;</span>            Dir<span class="token punctuation">:</span>  reflect<span class="token punctuation">.</span>SelectRecv<span class="token punctuation">,</span>            Chan<span class="token punctuation">:</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ›å»ºsend case</span>    <span class="token keyword">for</span> i<span class="token punctuation">,</span> ch <span class="token operator">:=</span> <span class="token keyword">range</span> chs <span class="token punctuation">&#123;</span>        v <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>        cases <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>cases<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>SelectCase<span class="token punctuation">&#123;</span>            Dir<span class="token punctuation">:</span>  reflect<span class="token punctuation">.</span>SelectSend<span class="token punctuation">,</span>            Chan<span class="token punctuation">:</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">,</span>            Send<span class="token punctuation">:</span> v<span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> cases<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¸Šè¿°ä»£ç å…ˆä½¿ç”¨ createCases å‡½æ•°åˆ†åˆ«ä¸ºæ¯ä¸ª channel ç”Ÿæˆäº† recv case å’Œ send caseï¼Œå¹¶è¿”å›ä¸€ä¸ª reflect.SelectCase æ•°ç»„ã€‚</p><p>ç„¶åï¼Œé€šè¿‡ä¸€ä¸ªå¾ªç¯ 10 æ¬¡çš„ for å¾ªç¯æ‰§è¡Œ reflect.Select ä» cases ä¸­ä¼ªéšæœºçš„é€‰æ‹©ä¸€ä¸ª case æ‰§è¡Œã€‚</p><p>ç¬¬ä¸€æ¬¡è‚¯å®šæ˜¯ send caseï¼Œå› ä¸ºæ­¤æ—¶ channel è¿˜æ²¡æœ‰å…ƒç´ ï¼Œrecv è¿˜ä¸å¯ç”¨ã€‚ç­‰ channel ä¸­æœ‰äº†æ•°æ®ä»¥åï¼Œrecv case å°±å¯ä»¥è¢«é€‰æ‹©äº†ã€‚è¿™å°±å¯ä»¥å¤„ç†ä¸å®šæ•°é‡çš„ channel ã€‚</p><p>2ã€ç»å…¸çš„æ¶ˆæ¯ä¼ é€’æ¡ˆä¾‹</p><blockquote><p>æœ‰ 4 ä¸ª goroutineï¼Œç¼–å·ä¸º 1ã€2ã€3ã€4ã€‚æ¯ç§’é’Ÿä¼šæœ‰ä¸€ä¸ª goroutine æ‰“å°å‡ºå®ƒè‡ªå·±çš„ç¼–å·ï¼Œè¦æ±‚ä½ ç¼–å†™ç¨‹åºï¼Œè®©è¾“å‡ºçš„ç¼–å·æ€»æ˜¯æŒ‰ç…§ 1ã€2ã€3ã€4ã€1ã€2ã€3ã€4â€¦â€¦è¿™ä¸ªé¡ºåºæ‰“å°å‡ºæ¥ã€‚</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> Token <span class="token keyword">struct</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">newWorker</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">,</span> ch <span class="token keyword">chan</span> Token<span class="token punctuation">,</span> nextCh <span class="token keyword">chan</span> Token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">&#123;</span>        token <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch         <span class="token comment">// å–å¾—ä»¤ç‰Œ</span>        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// idä»1å¼€å§‹</span>        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>        nextCh <span class="token operator">&lt;-</span> token    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    chs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">chan</span> Token<span class="token punctuation">&#123;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> Token<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> Token<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> Token<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> Token<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ›å»º4ä¸ªworker</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">go</span> <span class="token function">newWorker</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> chs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> chs<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//é¦–å…ˆæŠŠä»¤ç‰Œäº¤ç»™ç¬¬ä¸€ä¸ªworker</span>    chs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;-</span> <span class="token keyword">struct</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>      <span class="token keyword">select</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä»¤ç‰Œç±»å‹ Tokenï¼Œå…¶ç»“æ„ä¸ºç©ºçš„ structï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨ç©ºç»“æ„ä½“è¿›è¡Œæ¶ˆæ¯çš„é€šçŸ¥ï¼</p><p>æ¥ç€å®šä¹‰ä¸€ä¸ªåˆ›å»º worker çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šä»å®ƒè‡ªå·±çš„ chan ä¸­è¯»å–ä»¤ç‰Œã€‚å“ªä¸ª goroutine å–å¾—äº†ä»¤ç‰Œï¼Œå°±å¯ä»¥æ‰“å°å‡ºè‡ªå·±ç¼–å·ã€‚</p><p>å› ä¸ºéœ€è¦æ¯ç§’æ‰“å°ä¸€æ¬¡æ•°æ®ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è®©å®ƒä¼‘çœ  1 ç§’åï¼Œå†æŠŠä»¤ç‰Œäº¤ç»™å®ƒçš„ä¸‹å®¶ã€‚æ¥ç€ï¼Œåœ¨ç¬¬ 16 è¡Œå¯åŠ¨æ¯ä¸ª worker çš„ goroutineï¼Œå¹¶åœ¨ç¬¬ 20 è¡Œå°†ä»¤ç‰Œå…ˆäº¤ç»™ç¬¬ä¸€ä¸ª worker</p><p>è¿™æ ·ï¼Œå°±ä¼šä¿è¯ç¨‹åºçš„è¿è¡Œæ˜¯ 1ã€2ã€3ã€4 çš„é¡ºåºè¾“å‡ºã€‚</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>channel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 17 å‘¨æ€»ç»“</title>
    <link href="/2022/04/24/summary/22-4-24/"/>
    <url>/2022/04/24/summary/22-4-24/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬å‘¨æ•ˆç‡æœ‰æ‰€ä¸Šå‡</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬å‘¨å°è¯•ä½¿ç”¨å…¨æ ˆçš„æ–¹å¼å»å®è·µé¡¹ç›®ï¼Œå‰ç«¯ä½¿ç”¨ React ä¸­ ant design proï¼Œåç«¯ä½¿ç”¨ java ä¸‰å¤§ç»„ä»¶ï¼Œä¹‹åå¦‚æœæœ‰éœ€æ±‚ï¼Œé‡æ„ä¼šé€‰æ‹© goã€‚</p><p>1ã€ä½¿ç”¨ ssm æ¡†æ¶è¿›è¡Œå¼€å‘åŸºæœ¬çš„åšæ³•ä¸ go è¯­è¨€ä¸€è‡´ï¼Œå¯¹æ¯”ä¸¤ç§è¯­è¨€ï¼š</p><blockquote><p>ä½¿ç”¨ java è¿›è¡Œä¸šåŠ¡å¼€å‘ï¼Œæ¯” go å¼€å‘æ•ˆç‡å¿«æ·å¾ˆå¤š: åŒ…æ‹¬ä¾èµ–ç®¡ç†ã€ä½¿ç”¨æ³¨è§£è¿è¡Œç­‰ï¼Œgo mod ç®¡ç†åŒ…çš„æ–¹å¼ï¼Œè¿˜æ˜¯æ¬ ç¼ºä¸€äº›ç«å€™ã€‚</p><p>å°±ä¸ªäººè€Œè¨€ï¼Œè¿˜æ˜¯å–œæ¬¢ä½¿ç”¨ go è¯­è¨€è¿›è¡Œæ ¸å¿ƒä¸šåŠ¡çš„å¼€å‘ï¼Œæ¯”å¦‚å¾®æœåŠ¡çš„ç»„ä»¶ç­‰ã€‚</p></blockquote><p>2ã€go ä¸­çš„å¾®æœåŠ¡æ¨¡å—å¤§çº²ã€å¼‚å¸¸å¤„ç†ä¸¤æ¨¡å—æ¦‚å¿µå­¦ä¹ å®Œæ¯•ï¼Œéœ€è¦è¿›è¡Œç›¸åº”çš„å®ç°ï¼Œgo-zero ä¸ kratos åœ¨æœ‰äº†æ‰å®çš„ç†è®ºåŸºç¡€ä¹‹åå¯ä»¥å­¦ä¹ èµ·æ¥äº†ï¼</p><h2 id="ä¸‹ä¸€å‘¨è®¡åˆ’"><a href="#ä¸‹ä¸€å‘¨è®¡åˆ’" class="headerlink" title="ä¸‹ä¸€å‘¨è®¡åˆ’"></a>ä¸‹ä¸€å‘¨è®¡åˆ’</h2><p>1ã€å¾®æœåŠ¡çš„æ¦‚å¿µæ•´ç†ï¼Œç°åœ¨åªåšäº†ä¸€ä¸ªå¤§çº²çš„å†…å®¹ï¼Œç›¸åº”ç»†èŠ‚éƒ¨åˆ†éœ€è¦è¿›ä¸€æ­¥çš„å¡«å……ã€‚</p><p>2ã€Go è¯­è¨€å¾®æœåŠ¡æ¨¡å—:å¹¶è¡Œç¼–ç¨‹ã€goå·¥ç¨‹åŒ–å®è·µä¸¤ä¸ªæ¨¡å—å­¦ä¹ ã€‚</p><p>3ã€è®¾è®¡æ¨¡å¼å­¦ä¹ ç†è§£ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go è¯­è¨€ä¸­çš„é”™è¯¯å¤„ç†</title>
    <link href="/2022/04/19/go/microservice/error/"/>
    <url>/2022/04/19/go/microservice/error/</url>
    
    <content type="html"><![CDATA[<blockquote><p>é€šè¿‡æ¨¡å—åŒ–ç»„ä»¶çš„æ–¹å¼ï¼Œå­¦ä¹  Go è¯­è¨€çš„å¾®æœåŠ¡</p></blockquote><h2 id="Go-è¯­è¨€çš„é”™è¯¯å¤„ç†"><a href="#Go-è¯­è¨€çš„é”™è¯¯å¤„ç†" class="headerlink" title="Go è¯­è¨€çš„é”™è¯¯å¤„ç†"></a>Go è¯­è¨€çš„é”™è¯¯å¤„ç†</h2><p>Go è¯­è¨€ä¸­çš„ error å®šä¹‰å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> <span class="token builtin">error</span> <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>    <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>åœ¨ Go 1.13 ç‰ˆæœ¬ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯ <code>errors.New()</code> æ¥è¿›è¡Œè¿”å›ä¸€ä¸ª error å¯¹è±¡æŒ‡é’ˆï¼Œç›¸åº”çš„æºç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">New</span><span class="token punctuation">(</span>text <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token operator">&amp;</span>errorString<span class="token punctuation">&#123;</span>text<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// errorString is a trivial implementation of error.</span><span class="token keyword">type</span> errorString <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>    s <span class="token builtin">string</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å…³äº Go ä¸­çš„æŒ‡é’ˆä¸ C ä¸­æŒ‡é’ˆå¤§è‡´ç›¸åŒï¼Œéƒ½æ˜¯æŒ‡å‘æŸå—å†…å­˜åœ°å€å€¼ï¼Œå¯ä»¥é€šè¿‡ * è§£å¼•ç”¨çš„æ–¹å¼è¿›è¡Œä½¿ç”¨ã€‚è‡³äºæ­¤å¤„ä¸ºä»€ä¹ˆé”™è¯¯ç±»å‹éœ€è¦è¿”å›ä¸€ä¸ªæŒ‡é’ˆå˜é‡ï¼Œå¦‚ä¸‹è§£é‡Šï¼š</p><blockquote><p>ä¸»è¦æ˜¯é˜²æ­¢å› ä¸ºç›¸åŒçš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ï¼Œå¯¼è‡´é”™è¯¯ç±»å‹åŒºåˆ«ä¸å‡†è€Œå¯¼è‡´çš„é—®é¢˜</p></blockquote><p>å¯èƒ½ç¬¬ä¸€æ¬¡å¬ä¼šéš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬é€šè¿‡ä»£ç æ¥è§£é‡Šï¼Œæ¥çœ‹ä»¥ä¸‹çš„ä»£ç ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>    <span class="token string">"errors"</span>    <span class="token string">"fmt"</span><span class="token punctuation">)</span><span class="token keyword">type</span> errorString <span class="token builtin">string</span><span class="token keyword">func</span> <span class="token punctuation">(</span>e errorString<span class="token punctuation">)</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">string</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">New</span><span class="token punctuation">(</span>text <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">errorString</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> ErrorName <span class="token operator">=</span> <span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"EOF"</span><span class="token punctuation">)</span><span class="token keyword">var</span> ErrorStructType <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"EOF"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> ErrorName <span class="token operator">==</span> <span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"EOF"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Named Type Error"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> ErrorStructType <span class="token operator">==</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"EOF"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Struct Type Error"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä»¥ä¸Šä»£ç è¾“å‡ºçš„æ˜¯ <code>Named Type Error</code>ï¼Œå› ä¸º <code>var ErrorStructType = errors.New(&quot;EOF&quot;)</code> ä¸ <code>if ErrorStructType == errors.New(&quot;EOF&quot;)</code> è™½ç„¶å­—ç¬¦ä¸²çš„å€¼ç›¸åŒï¼Œä½†æ˜¯å› ä¸ºè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆåœ°å€ï¼Œåœ°å€ä¸åŒçš„æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œå½“ç„¶ä¹Ÿä¸åŒã€‚æ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦è¿”å›æŒ‡é’ˆçš„åŸå› ã€‚</p><p>å…¶ä¸­ <code>panic</code> ä¸ <code>error</code> çš„åŒºåˆ«ï¼Œä¸»è¦æ˜¯ <code>error</code> ç±»å‹å®šä¹‰ä»…ä»…åªä½œä¸ºå€¼ç±»å‹è¿›è¡Œå¤„ç†ï¼Œå…¶æŠ›å‡ºé”™è¯¯ï¼Œè¯æ˜ä¸šåŠ¡è¿›è¡Œåˆ°æ­¤å¤„ï¼Œæœ‰é”™è¯¯ï¼Œä½†æ˜¯ä¸å½±å“å…¨å±€ï¼Œç¨‹åºå‘˜åœ¨åç»­èƒ½è¿›è¡Œå¤„ç†ã€‚</p><p>è€Œ <code>panic</code> ä¸€èˆ¬è¡¨ç¤ºä¸å¯æ¢å¤ç±»çš„é”™è¯¯ï¼Œæ¯”å¦‚æ ˆæº¢å‡ºã€ç´¢å¼•è¶Šç•Œç­‰ç¨‹åºå‘˜åœ¨åç»­æ— æ³•è¿›è¡Œå¤„ç†çš„é—®é¢˜ï¼Œå¿…é¡»ä¿®æ”¹ä»£ç æ‰èƒ½è§£å†³é—®é¢˜ã€‚</p><h2 id="é”™è¯¯ç±»å‹"><a href="#é”™è¯¯ç±»å‹" class="headerlink" title="é”™è¯¯ç±»å‹"></a>é”™è¯¯ç±»å‹</h2><p>ä¸€èˆ¬é”™è¯¯ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§:</p><p>1ã€<code>Sentinel Error</code> é¢„å®šä¹‰çš„é”™è¯¯ï¼Œå¦‚ <code>io.EOF</code>ã€<code>syscall.ENOENT</code>ã€‚ä½¿ç”¨é¢„å®šä¹‰çš„é”™è¯¯ç›¸å½“çš„ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥å°½å¯èƒ½é¿å…ä½¿ç”¨é¢„å®šä¹‰çš„é”™è¯¯ï¼Œå¦‚æœå®åœ¨è¦ä½¿ç”¨ï¼Œéœ€è¦è”ç³»èµ„æ·±çš„ç¨‹åºå‘˜ï¼Œè¿›è¡Œ <code>code review</code> ã€‚</p><p>2ã€<code>Error types</code> ä½¿ç”¨ <code>error interface</code> æ¥å£çš„è‡ªå®šä¹‰ç±»å‹ï¼Œå®šä¹‰åå¯ä»¥åŒ…è£…åº•å±‚çš„é”™è¯¯ï¼Œæä¾›æ›´å¤šçš„ä¸Šä¸‹æ–‡ä¸å †æ ˆçš„ä¿¡æ¯ï¼Œæ–¹ä¾¿ç¨‹åºå‘˜è¿›è¡Œè°ƒè¯•ã€å®šä½é—®é¢˜ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ç§ interface æ¥å£è¿›è¡Œå®ç°çš„ API éœ€è¦å°† error å˜æˆ public å­—æ®µï¼Œä¼šå¯¼è‡´å’Œè°ƒç”¨è€…äº§ç”Ÿå¼ºè€¦åˆï¼Œä»è€Œå¯¼è‡´ API å˜å¾—è„†å¼±ã€‚</p><p>æ‰€ä»¥è¿˜æ˜¯å¾—å°½é‡é¿å…ä½¿ç”¨ <code>error types</code></p><p>3ã€<code>Opaque errors</code>  æœ€ä¸ºçµæ´»çš„é”™è¯¯å¤„ç†ï¼Œä¸»è¦æ˜¯åªè¿”å›é”™è¯¯ï¼Œä½†æ˜¯é”™è¯¯å†…éƒ¨ä¸é€æ˜ï¼Œä¸€èˆ¬å»ºè®® API çš„è®¾è®¡ï¼Œå¯¹å¤–åªæš´éœ²ä¸€ä¸ª error ç±»å‹çš„è¿”å›å€¼å³å¯ï¼</p><h2 id="go-1-13-ç‰ˆæœ¬å‰çš„é”™è¯¯å¤„ç†"><a href="#go-1-13-ç‰ˆæœ¬å‰çš„é”™è¯¯å¤„ç†" class="headerlink" title="go 1.13 ç‰ˆæœ¬å‰çš„é”™è¯¯å¤„ç†"></a>go 1.13 ç‰ˆæœ¬å‰çš„é”™è¯¯å¤„ç†</h2><p>ä¸€èˆ¬çš„é”™è¯¯å¤„ç†æ¨¡å¼åŸºæœ¬ä¸Šæ˜¯ <code>if err != nil &#123;&#125;</code> è¿™ç§å¸¸è§çš„æ¨¡å¼ã€‚</p><p>æ‰€ä»¥æ­¤å¤„åšä¸»åªå†™ï¼Œåšä¸»å»ºè®®çš„äº‹æƒ…ï¼š</p><p>1ã€æ— ç¬¬ä¸‰æ–¹åº“åä½œçš„æ—¶å€™ï¼Œç®€å•ä½¿ç”¨ <code>errors.New()</code> æˆ–è€… <code>errors.Errorf()</code> ä¸¤ä¸ªå‡½æ•°è¿›è¡Œæ–¹æ³•çš„å¤„ç†ã€‚</p><p>2ã€å¦‚æœéœ€è¦é…åˆ github å¼€æºç¬¬ä¸‰æ–¹åŒ…ä»¥åŠå…¬å¸ä¸­å°ç»„ä»¶å†…éƒ¨çš„åŒ…ï¼Œä½¿ç”¨ <code>errors.Wrap()</code> ä¸ <code>errors.Wrapf()</code> ä¿å­˜å †æ ˆä¿¡æ¯ï¼Œæœ€ç»ˆé›†ä¸­åŒ–è¾“å‡ºæ‰€æœ‰æ—¥å¿—ï¼Œè€Œä¸æ˜¯é‡åˆ°é”™è¯¯å°±æ‰“å°æ—¥å¿—ã€‚</p><h2 id="go-1-13-ç‰ˆæœ¬åçš„é”™è¯¯å¤„ç†"><a href="#go-1-13-ç‰ˆæœ¬åçš„é”™è¯¯å¤„ç†" class="headerlink" title="go 1.13 ç‰ˆæœ¬åçš„é”™è¯¯å¤„ç†"></a>go 1.13 ç‰ˆæœ¬åçš„é”™è¯¯å¤„ç†</h2><p>go åœ¨ 1.13 ç‰ˆæœ¬ç»™ <code>errors</code> åŒ…æ–°å¢äº†ä¸¤ä¸ªå‡½æ•°æ–¹æ³•ï¼š</p><blockquote><p>errors.Is() ä¸ errors.As()</p></blockquote><p>å¹¶åœ¨ <code>fmt</code> åŒ…ä¸­ä¹Ÿæ–°å¢äº† <code>fmt.Errorf()</code> å‡½æ•°æ–¹æ³•ã€‚</p><p>ç”¨äºå‘é”™è¯¯ä¸­æ·»åŠ é”™è¯¯å­—æ®µï¼Œå ä½ç¬¦ä¸º <code>%w</code>ï¼Œç”¨äºæ”¯æŒä»¥ä¸Šä¸¤ä¸ª <code>errors</code> æ–¹æ³•ã€‚å…·ä½“ä½¿ç”¨æ¡ˆä¾‹å¦‚ä¸‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">err <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"access denied: %w"</span><span class="token punctuation">,</span> ErrPermission<span class="token punctuation">)</span><span class="token keyword">if</span> errors<span class="token punctuation">.</span><span class="token function">Is</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> ErrPermission<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="go-æ—¥å¿—é”™è¯¯å¤„ç†æ³¨æ„äº‹é¡¹"><a href="#go-æ—¥å¿—é”™è¯¯å¤„ç†æ³¨æ„äº‹é¡¹" class="headerlink" title="go æ—¥å¿—é”™è¯¯å¤„ç†æ³¨æ„äº‹é¡¹"></a>go æ—¥å¿—é”™è¯¯å¤„ç†æ³¨æ„äº‹é¡¹</h2><p>1ã€å…³äº <code>log.Fatal()</code> ä½¿ç”¨åªæ¨èåœ¨ go é¡¹ç›® init å‡½æ•°ä¸­ä½¿ç”¨ï¼Œæˆ–è€…main å‡½æ•°å†…åˆå§‹åŒ–é…ç½®å¤±è´¥æ—¶å€™ä½¿ç”¨ï¼å› ä¸º <code>log.Fatal()</code> å‡½æ•°ä¼šè°ƒç”¨ <code>os.Exit(1)</code>ï¼Œæ­¤ç§æƒ…å†µä¸‹ä¼šå¯¼è‡´ç¨‹åºç›´æ¥é€€å‡ºï¼Œdefer å‡½æ•°éƒ½ä¸ä¼šæ‰§è¡Œï¼Œä¸åˆ©äºç¨‹åºæ’æŸ¥é—®é¢˜ï¼</p><h2 id="uber-go-guide-é”™è¯¯å¤„ç†"><a href="#uber-go-guide-é”™è¯¯å¤„ç†" class="headerlink" title="uber_go_guide é”™è¯¯å¤„ç†"></a>uber_go_guide é”™è¯¯å¤„ç†</h2><p>1ã€è‹¥è°ƒç”¨è€…éœ€è¦è‡ªå·±å¤„ç†å…¶ä¸­æŠ›å‡ºçš„é”™è¯¯ï¼Œé‡‡ç”¨ error.As() æˆ– error.Is() å‡½æ•°åˆé€‚ã€‚</p><p>2ã€é”™è¯¯å¦‚æœä¸éœ€è¦åŒ¹é…ï¼Œåˆ™å¦‚æœæ˜¯é™æ€å­—ç¬¦ä¸²ï¼Œåˆ™ä½¿ç”¨ errors.New è¿›è¡ŒæŠ›å‡ºå³å¯ï¼Œè‹¥æ˜¯åŠ¨æ€å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œåˆ™ä½¿ç”¨ fmt.Errorf æˆ–è€…è‡ªå®šä¹‰çš„é”™è¯¯ã€‚</p><table><thead><tr><th align="center">é”™è¯¯åŒ¹é…ï¼Ÿ</th><th align="center">é”™è¯¯æ¶ˆæ¯</th><th align="center">æŒ‡å¯¼</th></tr></thead><tbody><tr><td align="center">No</td><td align="center">static</td><td align="center">errors.New</td></tr><tr><td align="center">No</td><td align="center">dynamic</td><td align="center">fmt.Errorf</td></tr><tr><td align="center">Yes</td><td align="center">static</td><td align="center">top-level var with errors.New</td></tr><tr><td align="center">Yes</td><td align="center">dynamic</td><td align="center">custom error type</td></tr></tbody></table><h3 id="å‚è€ƒ-Uber-Go-è¯­è¨€ç¼–ç è§„èŒƒ"><a href="#å‚è€ƒ-Uber-Go-è¯­è¨€ç¼–ç è§„èŒƒ" class="headerlink" title="å‚è€ƒ Uber Go è¯­è¨€ç¼–ç è§„èŒƒ"></a>å‚è€ƒ <a href="https://github.com/xxjwxc/uber_go_guide_cn#Errors">Uber Go è¯­è¨€ç¼–ç è§„èŒƒ</a></h3>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>microservice</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 16 å‘¨æ€»ç»“</title>
    <link href="/2022/04/17/summary/22-4-17/"/>
    <url>/2022/04/17/summary/22-4-17/</url>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™å‡ å‘¨ä¸»è¦å­¦ä¹ å¾®æœåŠ¡ï¼Œé¡ºä¾¿ç»§ç»­å­¦ä¹  Go web ä½¿ç”¨çš„ç»„ä»¶</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸Šå‘¨ä¸»è¦æ˜¯å­¦ä¹ äº† twitter å…¬å¸çš„åˆ†å¸ƒå¼ ID ç”Ÿæˆçš„é›ªèŠ±ç®—æ³•ä»¥åŠå¾®æœåŠ¡çš„ä¸€äº›æ¦‚å¿µï¼Œè·Ÿæ¶æ„ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ï¼šæ¯”å¦‚å•ä½“æ¶æ„ &#x3D;&gt; æ¨¡å—åŒ–æ¶æ„ &#x3D;&gt; å¾®æœåŠ¡æ¶æ„çš„æ¼”è¿›ã€rpc æ¡†æ¶çš„æŠ€æœ¯é€‰å‹è€ƒé‡ã€API ç½‘å…³çš„åˆ’åˆ†ã€é¢å‘å‰ç«¯åº”ç”¨çš„åç«¯æœåŠ¡ç­‰ã€‚</p><p>ä¸¾ä¸¤ä¸ªå­¦ä¹ çš„å°ä¾‹å­ï¼š</p><p>1ã€API ä¸¤ç§è®¾è®¡æ¨¡å¼ï¼šåˆ†ä¸º<code>é¢å‘èµ„æºå†…ç½‘ä¸é¢å‘ä¸šåŠ¡åœºæ™¯</code>ä¸¤ç§ç±»å‹ã€‚</p><p>2ã€MicroService çš„åˆ’åˆ†</p><ul><li><p>é€šè¿‡ä¸šåŠ¡èŒèƒ½è¿›è¡Œåˆ’åˆ† &#x3D;&gt; åˆ†éƒ¨é—¨ï¼šå¦‚å”®å‰ã€å”®ä¸­ã€å”®å</p></li><li><p>é€šè¿‡èƒŒæ™¯ä¸Šä¸‹æ–‡è¿›è¡Œæ‹†åˆ† &#x3D;&gt; DDD çš„æ‹†åˆ†æ–¹å¼ã€‚</p></li></ul><p>DDD æ˜¯ domin drive development çš„æ¦‚å¿µï¼Œå¤§å®¶éƒ½çŸ¥é“æ¦‚å¿µï¼Œä½†æ˜¯å®ç°è½åœ°éƒ½ä¸æ˜¯ç‰¹åˆ«ç†æƒ³</p><h2 id="ä¸‹ä¸€å‘¨è®¡åˆ’"><a href="#ä¸‹ä¸€å‘¨è®¡åˆ’" class="headerlink" title="ä¸‹ä¸€å‘¨è®¡åˆ’"></a>ä¸‹ä¸€å‘¨è®¡åˆ’</h2><p>1ã€æ€»ç»“å¾®æœåŠ¡çš„æ¦‚å¿µï¼Œæ•´ç†æˆåšå®¢æ–‡é›†ï¼Œå¾®æœåŠ¡åŒ–éœ€è¦å¾ˆé•¿çš„æ—¶é—´ä»¥åŠé˜Ÿä¼çš„åŠªåŠ›ä¸é¢†å¯¼çš„æ”¯æŒã€‚</p><p>2ã€ç»§ç»­å­¦ä¹  Go è¯­è¨€å¾®æœåŠ¡çš„å…·ä½“æ¨¡å—ï¼Œæ¯”å¦‚å¼‚å¸¸å¤„ç†æ¨¡å—ã€æ—¥å¿—æ¨¡å—ç­‰ï¼Œå»ºè®®å¯ä»¥å‚è€ƒæå®¢æ—¶é—´çš„ Go è¿›é˜¶è®­ç»ƒè¥çš„è®¡åˆ’ï¼</p><p>3ã€Go çš„ç¬¬ä¸‰æ–¹çš„ç»„ä»¶ï¼Œä»¥åŠå‡†å¤‡å­¦ä¹ ä¸€äº›å…¶ä»–çš„çŸ¥è¯†ï¼Œ70% çš„æ—¶é—´æ”¾åœ¨å­¦ä¹ æ—¥åä¸ Go è¯­è¨€ç›¸å…³çš„çŸ¥è¯†ï¼Œå‰©ä¸‹çš„æ—¶é—´éœ€è¦å­¦ä¹ å…¶ä»–é¢†åŸŸã€å…¶ä»–çš„è¡Œä¸šçš„çŸ¥è¯†ï¼Œæ°¸è¿œéœ€è¦æœ‰ plan B è®¡åˆ’ï¼Œå› ä¸ºè¿™ä¸ªè¡Œä¸šçš„ç¡® 35 å²è¢«ä¼˜åŒ–æ˜¯äº‹å®ï¼Œå¤šæ‰‹å‡†å¤‡æ€»æ˜¯å¥½çš„ã€‚</p><hr><h2 id="4-æœˆ-20-æ—¥æ‘˜æŠ„"><a href="#4-æœˆ-20-æ—¥æ‘˜æŠ„" class="headerlink" title="4 æœˆ 20 æ—¥æ‘˜æŠ„"></a>4 æœˆ 20 æ—¥æ‘˜æŠ„</h2><p>1ã€æå‡è‡ªå·±çš„ â€œå…ç–«åŠ›â€</p><p>æœºä½“å…ç–«åŠ›ã€å¿ƒé‡Œå…ç–«åŠ›ã€è´¢åŠ¡å…ç–«åŠ›ã€ä»·å€¼å…ç–«åŠ›ï¼Œæˆ˜èƒœå›°éš¾ï¼Œéœ€è¦æå‡æ‰€æœ‰å…ç–«åŠ›ã€‚</p><p>2ã€æ˜ç¡®çš„çŸ­æœŸç›®æ ‡</p><p>å­¦ä¹ åœˆå±‚çš„åˆ’åˆ†ä¸€èˆ¬ä¸ºä¸‰ç§ï¼šèˆ’é€‚åŒºã€å­¦ä¹ åŒºã€å›°éš¾åŒºã€‚è·³å‡ºè‡ªå·±çš„èˆ’é€‚åŒºï¼Œèµ°å…¥å­¦ä¹ åŒºï¼Œè¿™æ ·è¡Œä¸ºä¸ä¼šå¤ªéš¾ï¼Œæ‰€ä»¥è·¯å¾—ä¸€æ­¥ä¸€æ­¥èµ°ã€‚</p><p>3ã€ç•ªèŒ„æ—¶é’Ÿå‘¨æœŸ</p><p>ä½¿ç”¨ 25 åˆ†é’Ÿå·¥ä½œå­¦ä¹ ã€5 åˆ†é’Ÿä¼‘æ¯çš„æ—¶é—´ï¼Œè¿™æ ·çš„æ—¶é—´ä½¿ç”¨èµ·æ¥ä¼šæ›´åŠ çš„é«˜æ•ˆã€‚<br>è€Œä¸”éœ€è¦è½¬å˜è‡ªå·±çš„å­¦ä¹ æ–¹å¼ï¼Œå­¦å¤šå°‘ä¸é‡è¦ï¼ŒçŸ¥è¯†çš„ç®¡ç†ä¸è¾“å‡ºéå¸¸é‡è¦ã€‚</p><p>4ã€è¾“å‡ºå­¦ä¹ æ–¹æ³•</p><blockquote><p>1ã€å­¦ä¹ åˆ°ä»€ä¹ˆ</p><p>2ã€æœ‰ä»€ä¹ˆæ€è€ƒ</p><p>3ã€å‡†å¤‡æ€ä¹ˆåš</p></blockquote><p>ä»¥æ€ç»´å¯¼å›¾åŒ–çš„å½¢å¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é›ªèŠ±ç®—æ³•</title>
    <link href="/2022/04/11/middleware/snowflake/"/>
    <url>/2022/04/11/middleware/snowflake/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸»è¦å­¦ä¹  Twitter å¼€æºçš„é›ªèŠ±ç®—æ³•</p></blockquote><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>é›ªèŠ±ç®—æ³•æ˜¯ Twitter å…¬å¸å¼€æºçš„ 64 bit æ•´æ•°ç»„æˆçš„åˆ†å¸ƒå¼ ID, å¹¶ä¸”åœ¨å•æœºä¸Šé€’å¢ï¼</p><p>snowflake-64 bit å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/images/middleware/snowflake.png" alt="snowflake"></p><p>å¦‚å›¾ï¼Œ<br>1ã€é›ªèŠ±ç®—æ³•é»˜è®¤å·¦èµ·ç¬¬ä¸€ä½åº”è¯¥æ˜¯ 0, ç¬¬ä¸€ä½åœ¨å®é™…ä¸­å¹¶æ— ä»»ä½•ä½œç”¨ã€‚</p><p>2ã€ä»ç¬¬ä¸€ä½ä¹‹åçš„ 41 ä½éƒ½æ˜¯æ—¶é—´æˆ³ï¼Œå•ä½ä¸º ms, èƒ½å®¹çº³ 69 å¹´çš„æ—¶é—´ã€‚ä»¥æŸä¸ªæ—¶é—´ç‚¹ä¸ºåŸºå‡†, åŸºå‡†å¯ä»¥è‡ªè¡Œè®¾ç½®, åç§»é‡ä¸ºå…¶ä¸­çš„ 41 ä½çš„æ•°å€¼ã€‚</p><p>3ã€ç¬¬ 43 - 52 ä½, åä½æ˜¯å·¥ä½œæœºå™¨çš„ ID å·, å› ä¸ºæ˜¯åˆ†å¸ƒå¼çš„ç®—æ³•, æ‰€ä»¥åº”è¯¥æ”¯æŒå¤šå°æœºå™¨ã€‚ä»å·¦å¼€å§‹çš„äº”ä½è¡¨ç¤ºæ•°æ®ä¸­å¿ƒçš„ ID, åäº”ä½è¡¨ç¤ºå·¥ä½œèŠ‚ç‚¹çš„ ID, æœ€å¤šå®¹çº³ 1024 ä¸ªèŠ‚ç‚¹ã€‚</p><p>4ã€å‰©ä¸‹ 12 ä½ä¸ºåºåˆ—å·, è®°å½•åŒæ¯«ç§’å†…äº§ç”Ÿä¸åŒçš„ IDã€‚æ¯ä¸ªèŠ‚ç‚¹æ¯æ¯«ç§’ä» 0 å¼€å§‹ä¸æ–­ç´¯åŠ , æœ€å¤šç´¯åŠ  4095ã€‚</p><p>æ•… 1 ms å†…æœ€å¤šäº§ç”Ÿ 1024 x 4096 &#x3D; $2^{22}$ ä¸ªä¸åŒçš„ ID å·</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="1ã€bwmarrin-snowflake"><a href="#1ã€bwmarrin-snowflake" class="headerlink" title="1ã€bwmarrin&#x2F;snowflake"></a>1ã€<a href="https://github.com/bwmarrin/snowflake">bwmarrin&#x2F;snowflake</a></h3><p>Go è¯­è¨€çš„åŸç”Ÿé›ªèŠ±ç®—æ³•å®ç°</p><h3 id="2ã€sony-sonyflake"><a href="#2ã€sony-sonyflake" class="headerlink" title="2ã€sony&#x2F;sonyflake"></a>2ã€<a href="https://github.com/sony/sonyflake">sony&#x2F;sonyflake</a></h3><p>sony å…¬å¸å®ç°çš„ sonyflake, åœ¨ sonyflake çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼ŒåŸºæœ¬å®ç°çš„åŸç†è·Ÿ snowflake å·®ä¸å¤šï¼Œå¦‚ä¸‹å›¾</p><p><img src="/images/middleware/sonyflake.png" alt="sonyflake"></p><p>sonyflake ä¸»è¦æ˜¯ä¿®æ”¹äº†æ—¶é—´æˆ³ï¼Œè®¡é‡å•ä½å˜ä¸ºäº† 10 msï¼Œæ‰€ä»¥å¯è®°å½•çš„æ—¶é—´å»¶é•¿ä¸º 174 å¹´ï¼Œsequence ID è·Ÿä¹‹å‰çš„å®šä¹‰ä¸€è‡´ï¼ŒMachine ID å³æ˜¯èŠ‚ç‚¹çš„ ID å€¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>snowflake</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 15 å‘¨æ€»ç»“</title>
    <link href="/2022/04/10/summary/22-4-10/"/>
    <url>/2022/04/10/summary/22-4-10/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ…¢æ…¢ç§¯ç´¯ï¼Œä¸èƒ½æ€¥</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1ã€ä¸Šå‘¨æˆæœå¹¶ä¸å¤§ï¼Œgo-zero-look-look éƒ¨ç½²æˆåŠŸï¼ŒåŠ ä¸Šçœ‹èµ·äº†<strong>é‡æ„</strong>çš„ä¹¦ï¼Œé‡æ„çš„ç†å¿µä¸ TDD çš„æ€æƒ³ï¼Œçš„ç¡®éƒ½æ˜¯è½¯ä»¶è®¾è®¡çš„åŸºæœ¬åŠŸã€‚å¥½å¥½å­¦å¥½è½¯ä»¶å·¥ç¨‹çš„æ€æƒ³ï¼Œå¹¶åº”ç”¨åˆ°å®è·µï¼</p><p>2ã€SQL åˆå¤ä¹ äº†ä¸€éï¼Œgo-zero-look-look çš„éƒ¨ç½²å‘ç‚¹ï¼Œä¸»è¦åœ¨ MySQL ä¸€å—ï¼ŒåŸºäºæœ¨ç›®å‰çš„åŸºæœ¬æƒ…å†µï¼Œä¸åº”è¯¥ä½¿ç”¨å›¾å½¢ç•Œé¢ï¼Œå…ˆå¥½å¥½å†™ SQL è¯­å¥è¿›è¡Œä½¿ç”¨ï¼</p><h2 id="ä¸‹ä¸€å‘¨è®¡åˆ’"><a href="#ä¸‹ä¸€å‘¨è®¡åˆ’" class="headerlink" title="ä¸‹ä¸€å‘¨è®¡åˆ’"></a>ä¸‹ä¸€å‘¨è®¡åˆ’</h2><p>åˆç»§ç»­å›å½’åˆ° go-web æœ¬èº«ï¼Œgo-web çš„ä¸€äº›ç¬¬ä¸‰æ–¹çš„ç»„ä»¶éœ€è¦è¿›è¡Œç†Ÿæ‚‰ï¼</p><p>1ã€<a href="https://github.com/spf13/viper">viper é…ç½®å·¥å…·</a>ã€<a href="https://github.com/uber-go/zap">zap æ—¥å¿—</a></p><p>2ã€go è¯­è¨€æ“ä½œ MySQLã€Redis çš„ç¬¬ä¸‰æ–¹åŒ…ï¼š<a href="https://github.com/jmoiron/sqlx">sqlx</a>ã€<a href="https://github.com/go-redis">go-redis</a></p><p>3ã€å¾æ˜Šè€å¸ˆä½¿ç”¨ Java è¿›è¡Œ TDD æ€æƒ³çš„ä¼ æ’­ï¼Œè‡ªå·±æ˜¯ java ä¸ç†Ÿæ‚‰äº†ï¼Œä½†æ˜¯æƒ³åˆ°è‡ªå·±èº«ä¸ºç¨‹åºå‘˜ï¼Œéœ€è¦å¿«é€Ÿå­¦ä¹ çŸ¥è¯†ï¼Œæ‰€ä»¥ java å½“æˆå·¥å…·ç”¨ï¼Œä¸å–œæ¬¢å®ƒï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½æŠ—æ‹’ï¼</p><p>4ã€æ¯æ—¥ä¸€é“ç®—æ³•é¢˜ç›®ï¼Œå…¥å¤§å‚ï¼Œè¿˜æ˜¯éœ€è¦å†™ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TDD å®è·µ</title>
    <link href="/2022/04/04/go/TDD/TDD-2/"/>
    <url>/2022/04/04/go/TDD/TDD-2/</url>
    
    <content type="html"><![CDATA[<blockquote><p>TDD çš„é¡¹ç›®é©±åŠ¨</p></blockquote><h2 id="TDD-å…·ä½“åŸåˆ™"><a href="#TDD-å…·ä½“åŸåˆ™" class="headerlink" title="TDD å…·ä½“åŸåˆ™"></a>TDD å…·ä½“åŸåˆ™</h2><p>1ã€å½“ä¸”ä»…å½“å­˜åœ¨å¤±è´¥çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ‰å¼€å§‹ç¼–å†™ç”Ÿäº§ä»£ç </p><p>2ã€æ¶ˆé™¤é‡å¤(å¾æ˜Šè€å¸ˆï¼šæ¶ˆé™¤åå‘³é“)</p><p>ç»å…¸çš„çº¢&#x2F;ç»¿&#x2F;é‡æ„(Red&#x2F;Green&#x2F;Refactoring)</p><blockquote><p>çº¢ï¼šç¼–å†™ä¸€ä¸ªå¤±è´¥çš„å°æµ‹è¯•ï¼Œç”šè‡³å¯ä»¥æ˜¯æ— æ³•ç¼–è¯‘çš„æµ‹è¯•ï¼›</p><p>ç»¿ï¼šè®©è¿™ä¸ªæµ‹è¯•å¿«é€Ÿé€šè¿‡ï¼Œç”šè‡³ä¸æƒœçŠ¯ä¸‹ä»»ä½•ç½ªæ¶ï¼›</p><p>é‡æ„ï¼šæ¶ˆé™¤ä¸Šä¸€æ­¥ä¸­äº§ç”Ÿçš„æ‰€æœ‰é‡å¤ï¼ˆåå‘³é“ï¼‰ã€‚</p></blockquote><h2 id="TDD-å·¥ä½œæµç¨‹"><a href="#TDD-å·¥ä½œæµç¨‹" class="headerlink" title="TDD å·¥ä½œæµç¨‹"></a>TDD å·¥ä½œæµç¨‹</h2><p>å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œè€å¸ˆå»ºè®®ä½¿ç”¨ä»»åŠ¡åˆ†è§£æ³•ï¼Œä½œä¸º TDD çš„æ ¸å¿ƒè¦ç´ ï¼š</p><blockquote><p>1ã€å…ˆæ„æ€è½¯ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼Œç„¶åæŠŠæ¡å¯¹å¤–çš„æ¥å£æ–¹å‘</p><p>2ã€å¤§è‡´çš„æ„æ€æ–¹å‘ï¼Œåˆ’åˆ†ç»„ä»¶ä»¥åŠç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œå¦‚æœæ²¡æœ‰å¤´ç»ªï¼Œä¹Ÿå¯ä»¥ä¸åˆ’åˆ†</p><p>3ã€æ ¹æ®éœ€æ±‚çš„åŠŸèƒ½æè¿°æ‹†åˆ†åŠŸèƒ½ç‚¹ï¼ŒåŠŸèƒ½ç‚¹è¦è€ƒè™‘æ­£ç¡®è·¯å¾„ä¸è¾¹ç•Œæ¡ä»¶</p><p>4ã€æ ¹æ®ç»„ä»¶ä¸ç»„ä»¶çš„å…³ç³»ï¼Œå°†åŠŸèƒ½åˆ’åˆ†åˆ°ç»„ä»¶ä¸­</p><p>5ã€é’ˆå¯¹æ‹†åˆ†å†™æµ‹è¯•ï¼Œç„¶åè¿›å…¥çº¢&#x2F;ç»¿&#x2F;é‡æ„æ¨¡å¼</p></blockquote><p><img src="/images/go/TDD-2.jpg" alt="TDD-2"></p><h2 id="2022-6-9æ—¥æ–°å¢"><a href="#2022-6-9æ—¥æ–°å¢" class="headerlink" title="2022-6-9æ—¥æ–°å¢"></a>2022-6-9æ—¥æ–°å¢</h2><ul><li><p>1ã€é€šè¿‡å­¦ä¹  TDDï¼Œå‘ç°å¤šä½™çš„ä»£ç ä¼šç»™å›¢é˜Ÿå¢åŠ ç¼–è¯‘æˆæœ¬ã€è·‘ç”¨ä¾‹çš„æ—¶é—´æˆæœ¬ï¼ˆè¿™ä¸¤é¡¹å½±å“ä¸å¤§ï¼‰ï¼Œæœ€é‡è¦çš„æ˜¯å½±å“ç†è§£çš„æˆæœ¬ã€‚</p></li><li><p>2ã€å¥½çš„æµ‹è¯•ï¼Œå°±åº”è¯¥é€šè¿‡æµ‹è¯•ç”¨ä¾‹å°±èƒ½æ¸…æ™°çš„ç†è§£ä¸šåŠ¡é€»è¾‘ã€‚TDD çš„è¯´æ³•æ˜¯å†™ä¸å‡ºæµ‹è¯•ä»£ç ï¼Œå°±æ˜¯ä¸èƒ½ç†è§£æ•´ä¸ªä¸šåŠ¡éœ€æ±‚ã€‚ç†è§£ä¸šåŠ¡éœ€æ±‚ä¸éœ€è¦é€šè¿‡ä¸€è¡Œä¸€è¡Œçš„çœ‹ä»£ç è¿›è¡Œç†è§£ï¼</p></li><li><p>TDD å¯¹ç¨‹åºå‘˜æ¥è¯´æ˜¯ä¸€ç§å†…åŠŸä¿®ç‚¼ï¼Œé€šè¿‡ TDD ä¼šå¯¹è‡ªå·±çš„æŒæ¡çš„çŸ¥è¯†è¿›è¡Œé‡ç°ï¼Œæ¯”å¦‚è¯­è¨€ç‰¹æ€§ã€è®¾è®¡æ¨¡å¼ã€é‡æ„æ‰‹æ³•ä»¥åŠå¯¹ä¸šåŠ¡çš„ç†è§£ã€‚</p></li><li><p>TDDæ˜¯ä¸€ç§å¯¹åšäº‹æ–¹æ³•çš„æè‡´æ‹†åˆ†ï¼Œä¸€æ¬¡åªåšä¸€ä»¶äº‹ï¼Œæ€è€ƒä¸šåŠ¡é€»è¾‘æ—¶å°±ä¸è€ƒè™‘å®ç°å’Œä»£ç åå‘³é“ï¼›ç¼–å†™ä¸šåŠ¡ä»£ç æ—¶ï¼Œä¹Ÿä»…è€ƒè™‘èƒ½é€šè¿‡ç”¨ä¾‹çš„é€»è¾‘ï¼›è€Œé‡æ„æ—¶ï¼Œä¹Ÿæ˜¯ä¸èƒ½æ”¹å˜åŸæ¥çš„ä»£ç é€»è¾‘çš„ã€‚é€šè¿‡ä¸€ä¸ªä¸ªæå°ç²’åº¦çš„æ“ä½œï¼Œå®ç°æœ€ç»ˆæ•´ä½“çš„åè°ƒã€‚</p></li><li><p>ç¨‹åºå‘˜éœ€è¦å¯¹è‡ªå·±çš„ç¼–ç¨‹çš„æ‰‹è‰ºè¿›è¡ŒåŒ è‰ºçš„æ‰“ç£¨ï¼Œæ¯”å¦‚ä»£ç çš„é²æ£’æ€§ï¼Œå°±æ˜¯ä¿®æ”¹ä¸€ä¸ªæ¨¡å—å†…éƒ¨çš„ä»£ç åï¼Œéœ€è¦ä¿®æ”¹å…¶ä»–çš„æ¨¡å—å¤šä¸å¤šã€‚å¦‚æœä¸å¤šï¼Œè¯æ˜code çš„é²æ£’æ€§è‰¯å¥½ï¼Œåä¹‹å¦‚æœéœ€è¦ä¿®æ”¹å¤§é‡çš„æ¨¡å—ï¼Œåˆ™è¯æ˜ä¸å¥½ã€‚</p></li></ul><h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><p>å‘ç°è‡ªå·±èŠ±åœ¨ TDD çš„æ—¶é—´ä¸Šå°‘äº†ï¼Œæ‰€ä»¥ä¸ºäº†ä¿è¯è‡ªå·±çš„ä»£ç è´¨é‡ä»¥åŠå­¦ä¹ çš„æ–¹å¼ï¼Œå†³å®šéœ€è¦èŠ±æ›´å¤šçš„æ—¶é—´åœ¨ TDD ä¸Šï¼Œè¿›è¡Œæ€è€ƒã€‚</p><p>é¡¹ç›®é€‰ç”¨ Java å…ˆè·Ÿç€è€å¸ˆçš„ä»£ç æ€è·¯èµ°ï¼Œå†é’ˆå¯¹ Go è¯­è¨€è¿›è¡Œè‡ªå·±çš„é¡¹ç›®å®ç°ï¼Œå¦‚æœåªæ˜¯è‡ªå·±ä»è€å¸ˆçš„é¡¹ç›®å‡ºå‘å»æ¨¡ä»¿è€å¸ˆçš„ Java é£æ ¼å»å†™ Goï¼Œåªä¼šåƒä¸€é“èœä¸€æ ·â€œä¸²å‘³â€è€Œå˜å¾—éš¾åƒã€‚</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TDD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 14 å‘¨æ€»ç»“</title>
    <link href="/2022/04/03/summary/22-4-3/"/>
    <url>/2022/04/03/summary/22-4-3/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åšæŒåšé•¿æœŸä¸»ä¹‰è€…ï¼Œè·µè¡Œè‡ªå·±çš„è§‚ç‚¹ï¼Œè¾“å…¥ä¸è¾“å‡ºéƒ½é‡è¦ï¼</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1ã€ä¸Šå‘¨å†™äº†ä¸€ä¸ª HTTP çš„æœåŠ¡å™¨æ¥å£ï¼Œé‡æ–°æ‹¾èµ·å¤§å­¦å­¦ä¹ çš„ä¸€äº› HTTP æœåŠ¡å™¨çš„åŸºç¡€çŸ¥è¯†ä¸ä¸€äº› Golang å®˜æ–¹åŒ…ï¼</p><p>2ã€å­¦ä¹ äº† MySQL çš„ä¸¤ç§æ—¥å¿—çš„å…·ä½“åŒºåˆ«ï¼šredo-log ä¸ bin-logï¼ŒMySQL çš„èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•ï¼Œä¸»é”®ç´¢å¼•ä¸æ™®é€šç´¢å¼•ç­‰ï¼Œå…·ä½“ä¹Ÿè¯·çœ‹ MySQL çš„åšå®¢ã€‚</p><p>3ã€å­¦ä¹  TDDï¼Œå¼€å§‹å†™ç¬¬ä¸€ä¸ª TDD çš„å…·ä½“é¡¹ç›®ï¼šå‘½ä»¤è¡Œå‚æ•°è§£æï¼Œå…·ä½“è¯·çœ‹ TDD çš„é‚£ä¸€ç¯‡åšå®¢ï¼</p><h2 id="ä¸‹ä¸€å‘¨è®¡åˆ’"><a href="#ä¸‹ä¸€å‘¨è®¡åˆ’" class="headerlink" title="ä¸‹ä¸€å‘¨è®¡åˆ’"></a>ä¸‹ä¸€å‘¨è®¡åˆ’</h2><p>æœ¬å‘¨çš„å†…å®¹å­¦ä¹ å¹¶ä¸å¤šï¼Œè€Œä¸”å¤§éƒ¨åˆ†çš„æ—¶é—´ï¼Œå¿˜è®°è‡ªå·±å†å¹²ä»€ä¹ˆäº‹æƒ…äº†ï¼Œå¥½åƒå¹²äº†ä¸€äº›äº‹æƒ…ï¼Œä¹Ÿå¥½åƒæ²¡å¹²ï¼Œå¯èƒ½æ—¥æ›´æ›´èƒ½è®°å½•è‡ªå·±çš„æ—¥å­ï¼Œä½†æ˜¯å¯ä»¥çŸ¥é“çš„æ˜¯ Test-Driven-Development è‡ªå·±çš„ç¡®å¾ˆè®¤å¯ï¼</p><p>1ã€ç¨‹åºå‘˜ä¸ä»…è¦é˜…è¯»é¡¹ç›®ã€é˜…è¯»æ–‡æ¡£ï¼Œè¯»ä¹¦ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚ç±»ä¼¼äº<strong>ä»£ç æ•´æ´ä¹‹é“ã€æ¶æ„è®¾è®¡ä¹‹é“ã€è½¯ä»¶æ¶æ„è®¾è®¡åŸåˆ™</strong>ç­‰é«˜ç»´å±‚æ¬¡çš„ä¹¦ä¹Ÿéœ€è¦é˜…è¯»ï¼ç”µå­ä¹¦ä¸ªäººæ„Ÿè§‰ï¼Œæ–¹ä¾¿ï¼Œä½†æ˜¯é˜…è¯»çš„è´¨é‡å¹¶æœªèƒ½è¾¾åˆ°çº¸è´¨ä¹¦çš„æ•ˆæœï¼Œè€Œä¸”è‡ªå·±åœ¨å¤§å­¦æœŸé—´é˜…è¯»çš„ç›¸åº”æŠ€æœ¯çº¸è´¨ä¹¦ç±å¤ªå°‘äº†ï¼æ‰€ä»¥æ¯å¹´è¦å¤šèŠ±ç‚¹é’±åœ¨è‡ªå·±çš„æŠ€æœ¯ä¹¦ç±ä¸Šï¼Œå¤šè¯»ä¸€äº›ç»å…¸çš„è½¯ä»¶è®¾è®¡ä¹¦ç±ï¼Œè½¯ä»¶å¼€å‘æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªè®¾è®¡çš„è¿‡ç¨‹ï¼Œåˆ›é€ åŠ›çš„å…·ä½“ä½“ç°è¿˜æ˜¯åœ¨ç»éªŒä¸Šã€‚</p><p>2ã€å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè‡ªå·±å¾ˆæœ‰å¯èƒ½é‡åˆ°å‡ ä¸ªç»†å°çš„çŸ¥è¯†ç‚¹æ— æ³•æå®šï¼Œå†™ä»£ç ä¸éœ€è¦å¤šä¹…ï¼Œè°ƒè¯• + æ ¼å¼çš„æ•´ç†æ˜¯æ—¶é—´å æ¯”è¾ƒå¤§çš„éƒ¨åˆ†ï¼æ—¥åéœ€è¦å…ˆè¿›è¡Œä¼ªä»£ç ä¸ test çš„æ–‡ä»¶æ’°å†™ï¼Œå†™å®Œååœ¨å¼€å§‹æ­£å¼çš„ä»£ç å¼€å‘ï¼Œèº«ä¸ºç¨‹åºå‘˜ï¼Œå¯¹ä»£ç æœ¬èº«ä¹Ÿéœ€è¦æ•¬ç•ï¼</p><p>3ã€Golang å®˜æ–¹çš„ package åŒ…éœ€è¦æ·±å…¥ç ”ç©¶ä¸€ä¸‹ï¼ç¬¬ä¸‰æ–¹çš„åŒ…ä¸åº“æ–‡ä»¶å¯ä»¥ç­‰å¾…å·¥ä½œä¸šåŠ¡éœ€è¦çš„æ—¶é—´å»ä½¿ç”¨ä¸ç ”ç©¶ï¼ŒTDD åšå¥½çš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦è¿›è¡Œå®è·µé©±åŠ¨å¼€å‘ï¼Œå…·ä½“çš„æ¡ˆä¾‹æ˜¯å…ˆä½¿ç”¨ï¼Œå†é€šè¿‡æŸ¥çœ‹æºä»£ç çš„æ–¹å¼ç†è§£å…¶ä¸­çš„è®¾è®¡æ€æƒ³ä¸åŸç†ï¼åŒ…æ‹¬æ¶æ„è®¾è®¡ã€å¾®æœåŠ¡ã€è®¾è®¡æ¨¡å¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Golang å¼€å‘ä¸€ä¸ª HTTP Web æœåŠ¡å™¨/å®¢æˆ·ç«¯</title>
    <link href="/2022/03/31/go/concurrency/HTTP/"/>
    <url>/2022/03/31/go/concurrency/HTTP/</url>
    
    <content type="html"><![CDATA[<p class="note note-primary">ä¹‹å‰çš„ zinx å­¦ä¹ ï¼Œæ˜¯åŸºäº TCP/UDP çš„ socket åè®®è¿›è¡Œç¼–å†™ï¼Œè€Œæœ¬æ¬¡è¦å®ç°çš„æ˜¯åŸºäº HTTP åè®®å¼€å‘ä¸€ä¸ª Web æœåŠ¡å™¨ç«¯ä¸å®¢æˆ·ç«¯ï¼</p><h2 id="1ã€è¦æ±‚"><a href="#1ã€è¦æ±‚" class="headerlink" title="1ã€è¦æ±‚"></a>1ã€è¦æ±‚</h2><p>æœåŠ¡å™¨ç«¯è¦æ±‚ï¼š</p><ul><li>1ã€æœåŠ¡ç«¯ç»´æŠ¤ä¸€ä¸ªå†…å­˜æ•°æ®ç»“æ„ï¼Œæ‰€æœ‰æ•°æ®è¿›ç¨‹é‡å¯ä¸¢å¤±ï¼Œä¸åšæ•°æ®æŒä¹…åŒ–ï¼Œä¸è€ƒè™‘å†…å­˜å®¹é‡é—®é¢˜</li><li>2ã€æœåŠ¡ç«¯å®ç°ä¸€ä¸ªç½‘ç»œ API æ¥å£ï¼Œå®¢æˆ·ç«¯å‘è¯¥ API å‘é€ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œè¯·æ±‚æ•°æ®æ˜¯ä¸€ä¸ª string çš„ä¿¡æ¯</li><li>3ã€æœåŠ¡ç«¯è¯¥ API æ”¶åˆ°è¯·æ±‚åå“åº”ä¸€ä¸ª []string çš„ä¿¡æ¯ï¼Œè¿”å›ä¹‹å‰å‘é€è¿‡çš„æ‰€æœ‰ stringï¼Œå½“æ¬¡è¯·æ±‚å‘é€çš„ string ä¸€å®šåœ¨æœ€åï¼Œä¸å…³å¿ƒæ˜¯å¦é‡å¤</li></ul><p>ç¤ºä¾‹ï¼š</p><blockquote><p>ç¬¬ä¸€æ¬¡è¯·æ±‚å‘é€ï¼šâ€aâ€ï¼Œå“åº”: []string{â€œaâ€}</p><p>ç¬¬äºŒæ¬¡è¯·æ±‚å‘é€ï¼šâ€bâ€ï¼Œå“åº”: []string{â€œaâ€, â€œbâ€}</p><p>ç¬¬ä¸‰æ¬¡è¯·æ±‚å‘é€ï¼šâ€aâ€ï¼Œå“åº”: []string{â€œaâ€, â€œbâ€, â€œaâ€}</p><p>æ³¨æ„æœåŠ¡ç«¯ä»£ç éƒ¨åˆ†ï¼Œä»»ä½•æƒ…å†µä¸‹å‡ä¸èƒ½é€€å‡ºè¿›ç¨‹ã€‚</p></blockquote><p>å®¢æˆ·ç«¯è¦æ±‚ï¼š</p><ul><li><p>1ã€å®¢æˆ·ç«¯å¿…é¡»æ˜¯ Golang å‡½æ•°ï¼ˆè¯¥å‡½æ•°åé¢ç®€ç§° BcjClient ï¼‰ï¼Œè°ƒç”¨è¯¥æœåŠ¡ç«¯çš„ API æ¥å£</p></li><li><p>2ã€è¯¥å®¢æˆ·ç«¯å‡½æ•°è¾“å…¥å‚æ•°ä¸ºï¼šstringï¼Œè¾“å‡ºå‚æ•°ä¸ºï¼š []stringï¼Œå’Œ error<br>å®¢æˆ·ç«¯å‡½æ•°æ˜¯ä¸ªfunction&#x2F;å‡½æ•°ï¼Œä¸æ˜¯method&#x2F;æ–¹æ³•</p></li><li><p>3ã€æ³¨æ„å®¢æˆ·ç«¯å‡½æ•°ä¸šåŠ¡ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä»»ä½•æƒ…å†µä¸‹å‡ä¸èƒ½é€€å‡ºè¿›ç¨‹ã€‚</p></li><li><p>4ã€å®¢æˆ·ç«¯å‡½æ•°çš„ç±»å‹å¿…é¡»ä¸¥æ ¼åŒ¹é…ã€‚</p></li></ul><p>æºç è¦æ±‚ï¼š</p><ul><li><p>1ã€ä»£ç è¿è¡Œç»“æœåº”å½“æ­£ç¡®</p></li><li><p>2ã€ä¸åº”è¯¥æœ‰ data race ( race condition&#x2F;ç«äº‰æ¡ä»¶&#x2F;æ•°æ®ç«äº‰ )ã€‚å¤šçº¿ç¨‹å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ç«¯æ—¶ï¼Œä¸åº”å½“å‡ºç°ä»»ä½•2ä¸ªå®¢æˆ·ç«¯å¾—åˆ°çš„åŒæ ·å“åº”çš„å¯èƒ½æ€§ã€‚</p></li><li><p>3ã€éœ€è¦æ»¡è¶³ Database transactionï¼ˆæ•°æ®åº“äº‹åŠ¡ï¼‰çš„ Serializabilityï¼ˆå¯ä¸²è¡Œæ€§ï¼‰è¦æ±‚ï¼Œ(æ³¨æ„ï¼šGolang çš„ data race å·¥å…·åªèƒ½æ‰¾åˆ°éƒ¨åˆ† data race æƒ…å†µã€‚)</p></li><li><p>4ã€ä»£ç ä»£ç ä¸å…è®¸å¿½ç•¥é”™è¯¯ï¼Œè€Œä¸”åªèƒ½è°ƒç”¨å®˜æ–¹æ ‡å‡†åº“ï¼Œä¸èƒ½åŒ…å«å…¶ä»–ç¬¬ä¸‰æ–¹ä»£ç (æ¯”å¦‚ github.com&#x2F;xxxï¼Œæ¯”å¦‚ â€œgolang.org&#x2F;x&#x2F;sync&#x2F;xxâ€ )ã€‚åªæœ‰ GOROOT&#x2F;src ä¸‹é¢çš„åº“ç®—å®˜æ–¹åº“ï¼Œå…¶ä»–éƒ½ä¸ç®—å®˜æ–¹åº“ã€‚</p></li><li><p>5ã€å®ç°åº”å½“ç®€æ´ï¼Œä»£ç å¯è¯»æ€§ä¸èƒ½è¿‡å·®</p></li></ul><h2 id="2ã€è®¾è®¡æ€è·¯"><a href="#2ã€è®¾è®¡æ€è·¯" class="headerlink" title="2ã€è®¾è®¡æ€è·¯"></a>2ã€è®¾è®¡æ€è·¯</h2><p>1ã€http æœåŠ¡ï¼ŒåŸºäº http åè®®è§„åˆ™å®ç°ï¼Œå¹¶é socket åè®®è§„åˆ™è¿›è¡Œå®ç°</p><p>2ã€web è¯·æ±‚ï¼Œrestful æ ‡å‡†ä¸‹ï¼Œé‡‡ç”¨ POST è¿›è¡Œå®¢æˆ·ç«¯çš„ web æœåŠ¡è¯·æ±‚</p><p>3ã€å¼€å‘ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ—¶æœåŠ¡å™¨ç»´æŠ¤çš„å†…å­˜æ•°æ®ç»“æ„é‡‡ç”¨ sync.Mapï¼Œé‡‡ç”¨ client ä¸è®¾ç½®ç”¨æˆ·åç§°ï¼Œç»Ÿä¸€è®¾ç½® token å€¼ä¸º Clientï¼Œè¿”å›å®¢æˆ·ç«¯æ•°æ®ä¸º string ç±»å‹ï¼Œå¹¶é€šè¿‡ç®€å•çš„ç©ºæ ¼å­—ç¬¦ä¸² â€œ â€œ è¿›è¡Œåˆ†ç¦»æ¯ä¸€ä¸ª []string ç±»å‹çš„å…ƒç´ ã€‚</p><p>4ã€(æœªå®Œæˆ)ç¬¬äºŒä¸ªç‰ˆæœ¬å®¢æˆ·ç«¯è‡ªè®¾åç§°ä¸º token å€¼ï¼Œé€šè¿‡ header åŒ…å¤´çš„ token å€¼æ¥å¯¹å®¢æˆ·ç«¯è¿›è¡ŒåŒºåˆ†ï¼Œè¿™ä¸ª token å€¼çš„ç»´æŠ¤æ”¾ç½®äºå®¢æˆ·ç«¯ï¼Œç†è®ºä¸Šä¸ºä¿è¯æ•°æ®å®‰å…¨ï¼Œåº”è¯¥æ”¾ç½®äºæœåŠ¡å™¨ã€‚ï¼ˆ 2025 å¹´å†æ¥çœ‹ï¼Œåªéœ€è¦æœåŠ¡å™¨ç«¯é’ˆå¯¹äº token è¿›è¡Œæ ¡éªŒå³å¯ï¼Œjwt çš„è®¾ç½®å³ä¸ºæœåŠ¡å™¨ç«¯ä¸ä¿å­˜ tokenï¼Œç”±å®¢æˆ·ç«¯è‡ªè¡Œç»´æŠ¤ï¼Œå½“ç„¶è¿™é‡Œå¯ä»¥é‡‡ç”¨åŒ token çš„è®¾è®¡æ–¹æ³•ï¼Œåœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œ redis å­˜å‚¨ï¼Œå½“ç„¶è®¾è®¡ä¹Ÿæ˜¯æœ‰å®‰å…¨æ€§é£é™©çš„ï¼Œä½†æ˜¯ä¸€èˆ¬æ€§ä¼ä¸šä¹Ÿä¸ä¼šéœ€è¦å®‰å…¨æ€§é«˜åˆ°æ­¤ä¸­è®¾è®¡ç¨‹åº¦ï¼‰</p><h2 id="å¼€å‘çš„ç»†èŠ‚"><a href="#å¼€å‘çš„ç»†èŠ‚" class="headerlink" title="å¼€å‘çš„ç»†èŠ‚"></a>å¼€å‘çš„ç»†èŠ‚</h2><blockquote><p>1ã€Go è¯­è¨€å¾ˆé€‚åˆä½¿ç”¨<strong>æµ‹è¯•é©±åŠ¨å¼€å‘</strong>ï¼Œåœ¨å·¥æœŸç¼©çŸ­çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¸é€‚ç”¨TDDï¼Œè€Œåœ¨å·¥æœŸå……è¶³çš„æƒ…å†µä¸‹ï¼Œå¼€å‘è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œé€»è¾‘çš„æ¢³ç†ï¼Œé€»è¾‘æ¢³ç†å¥½ä¹‹åå†å¼€å§‹ä»£ç çš„æ’°å†™ï¼Œä¸Šæ¥å°±å†™ä»£ç éƒ½æ˜¯æƒ³åˆ°å“ªé‡Œå†™åˆ°å“ªé‡Œï¼Œè¿™ç§ä¹ æƒ¯ä¸å¥½ï¼Œ<strong>æœ€åˆé€‚çš„æ–¹æ³•æ˜¯å…ˆä½¿ç”¨æ³¨é‡Šå†™å¥½ç›¸åº”çš„éœ€æ±‚é€»è¾‘ï¼Œå†å†™ä»£ç ï¼Œå¯¹äºé€»è¾‘æ€è€ƒå¾ˆå®ç”¨</strong>ï¼</p><p>2ã€åœ¨åš string å­—ç¬¦ä¸²å­˜å‚¨æˆ []string ç±»å‹çš„åˆ‡ç‰‡çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯ç¨‹åºä¹Ÿéœ€è¦ä½¿ç”¨ä¸€ä¸ª []string ç±»å‹è¿›è¡Œä¿å­˜ï¼Œä½†æ˜¯æœåŠ¡å™¨å›æ˜¾ç»™å®¢æˆ·ç«¯æ˜¯ä»¥ io.writer å®ç°çš„ writer æ¥å£è¿”å› []byte æµçš„æ•°æ®ï¼Œ<strong>è€Œ []string ç›´æ¥è½¬ä¸º []byte æµæ•°æ®å½¢å¼ï¼Œä¹‹åå®¢æˆ·ç«¯å¯¹äºæ ¼å¼çš„å¤„ç†è¾ƒä¸ºéº»çƒ¦</strong>ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ []string ç±»å‹ï¼Œé€šè¿‡æ‹¼æ¥ä¸€ä¸ª string ä¼ è¾“ç»™å®¢æˆ·ç«¯ï¼Œæˆ‘é€‰æ‹© []string ä¸­é—´åˆ†å‰²å­—ç¬¦ä¸ºç©ºæ ¼å­—ç¬¦ ã€‚å®¢æˆ·ç«¯æ¥å—åˆ°è¿™ä¸ªstringç±»å‹çš„å­—ç¬¦ä¸²åï¼Œä½¿ç”¨ strings.Split() å‡½æ•°ï¼Œä»¥ç©ºæ ¼å­—ç¬¦è¿›è¡Œåˆ†å‰²ã€‚</p><p>3ã€ä¸ºäº†è§£å†³å®¢æˆ·ç«¯å…ˆäºæœåŠ¡å™¨ç«¯å¯åŠ¨æ—¶é—´ä¸åŒï¼Œå¯¼è‡´çš„å®¢æˆ·ç«¯ Dail æœåŠ¡å™¨ç«¯å‘ç”Ÿç«¯å£æ‹’ç»é”™è¯¯ï¼Œé‡‡ç”¨ for å¾ªç¯æäº¤POSTè¯·æ±‚ï¼Œç›´åˆ°è¯·æ±‚å»ºç«‹æˆåŠŸåï¼Œå† break for å¾ªç¯ã€‚</p><p>4ã€bug fix: é˜²æ­¢ç¨‹åºpanic æ‰ï¼Œmutex.unlock å¹¶æœªé‡Šæ”¾ï¼Œæ‰€ä»¥é‡‡ç”¨ defer m.Unlock åˆé€‚</p></blockquote><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p>åœ¨æœåŠ¡å™¨ç«¯ï¼Œ<strong>ä½¿ç”¨ sync.Map æ•°æ®ç»“æ„å¯¹ä¼ è¾“çš„å­—ç¬¦ä¸²è¿›è¡Œå­˜å‚¨ï¼Œé˜²æ­¢è¿›è¡Œå¹¶å‘è®¿é—®ä¸å¹¶å‘å­˜å‚¨</strong>ï¼Œä½†æ˜¯ç”±äºè‡ªå·±åœ¨å¹¶å‘çš„èƒ½åŠ›åŠŸåº•ä¸è¶³ï¼Œå¯¼è‡´è™½ç„¶è®¾è®¡æ˜¯ sync.Map æ§åˆ¶ï¼Œä½†ä»å­˜åœ¨ data race çš„æƒ…å†µï¼Œæ— å¥ˆä¹‹ä¸‹è¿˜æ˜¯å¯¹ä¸€æ•´æ®µè¿›è¡Œäº†åŠ é”å¤„ç†ï¼Œå…¶å®ä¹Ÿèƒ½ä½¿ç”¨å…¨å±€çš„ channel è¿›è¡Œå¤„ç†ã€‚ä½†æ˜¯è¿™éƒ½ä¸æœ€åˆè‡ªå·±æƒ³è¦ä¸€æ­¥å®ç°æ‹’ç»æ•°æ®çš„ç«äº‰æ€§è®¿é—®çš„è®¾è®¡ç†å¿µå†²çªï¼Œæš‚æ—¶ä¹Ÿæ²¡æƒ³åˆ°å¾ˆå¥½çš„è§£å†³åŠæ³•ï¼ç­‰æ—¥åå†å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼</p><h3 id="ä»£ç é™„ä»¶"><a href="#ä»£ç é™„ä»¶" class="headerlink" title="ä»£ç é™„ä»¶"></a>ä»£ç é™„ä»¶</h3><p>å®¢æˆ·ç«¯ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> gohttp<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"bytes"</span><span class="token string">"fmt"</span><span class="token string">"io"</span><span class="token string">"io/ioutil"</span><span class="token string">"net/http"</span><span class="token string">"strings"</span><span class="token string">"time"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">BcjClient</span><span class="token punctuation">(</span>writer <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">var</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Response<span class="token keyword">for</span> <span class="token punctuation">&#123;</span>client <span class="token operator">:=</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>Client<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>req<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">NewRequest</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>MethodPost<span class="token punctuation">,</span><span class="token string">"http://127.0.0.1:8999/v1"</span><span class="token punctuation">,</span>bytes<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>writer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span>req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Token"</span><span class="token punctuation">,</span> <span class="token string">"Client"</span><span class="token punctuation">)</span>req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"content-Type"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span>r<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"err: %s\n"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span>Body io<span class="token punctuation">.</span>ReadCloser<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token boolean">_</span> <span class="token operator">=</span> Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>content<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err<span class="token punctuation">&#125;</span><span class="token comment">//å°†ä¼ å…¥çš„å­—ç¬¦ä¸²å˜æˆå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œå¹¶é™¤å»æœ€åçš„æ¢è¡Œæ ¼å¼é—®é¢˜ï¼</span>ToVisual <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span>ToVisual <span class="token operator">=</span> ToVisual<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>ToVisual<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment">/*fmt.Printf("%s\n", ToVisual)*/</span><span class="token keyword">return</span> ToVisual<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">&#125;</span><span class="token comment">/*func main() &#123;scanner := bufio.NewScanner(os.Stdin)for scanner.Scan() &#123;BcjClient(scanner.Text())&#125;&#125;*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>æœåŠ¡å™¨ç«¯ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> gohttp<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"io/ioutil"</span><span class="token string">"net/http"</span><span class="token string">"sync"</span><span class="token punctuation">)</span><span class="token keyword">var</span> cache sync<span class="token punctuation">.</span>Map<span class="token keyword">var</span> m sync<span class="token punctuation">.</span>Mutex<span class="token keyword">func</span> <span class="token function">ClientHandler</span><span class="token punctuation">(</span>writer http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> req <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> req<span class="token punctuation">.</span>Method <span class="token operator">!=</span> <span class="token string">"POST"</span> <span class="token punctuation">&#123;</span><span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>writer<span class="token punctuation">,</span> <span class="token string">"Request is not POST! please send POST request!"</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">&#125;</span>token <span class="token operator">:=</span> req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"Token"</span><span class="token punctuation">)</span>body<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span><span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>writer<span class="token punctuation">,</span> <span class="token string">"read body err, %v\n"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">&#125;</span>m<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">defer</span> m<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>GetFromCache<span class="token punctuation">,</span> ok <span class="token operator">:=</span> cache<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token keyword">if</span> ok <span class="token punctuation">&#123;</span>GetFromCache <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>GetFromCache<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token function">string</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">...</span><span class="token punctuation">)</span>cache<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> GetFromCache<span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span>cache<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token function">string</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>GetFromCache<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>change <span class="token operator">:=</span> GetFromCache<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token keyword">var</span> ToClient <span class="token builtin">string</span><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> change <span class="token punctuation">&#123;</span>ToClient <span class="token operator">+=</span> vToClient <span class="token operator">+=</span> <span class="token string">" "</span><span class="token punctuation">&#125;</span><span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>writer<span class="token punctuation">,</span> <span class="token string">"%s\n"</span><span class="token punctuation">,</span> ToClient<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTTP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL åŸç†</title>
    <link href="/2022/03/29/middleware/mysql2/"/>
    <url>/2022/03/29/middleware/mysql2/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ç†è§£æ€è€ƒé¡¹ç›®ï¼ŒåŸç†å…ˆè¡Œï¼Œå®è·µåœ¨å</p></blockquote><h2 id="1ã€redo-log-ä¸-bin-log-ä¸¤ç§æ—¥å¿—åŒºåˆ«"><a href="#1ã€redo-log-ä¸-bin-log-ä¸¤ç§æ—¥å¿—åŒºåˆ«" class="headerlink" title="1ã€redo-log ä¸ bin-log ä¸¤ç§æ—¥å¿—åŒºåˆ«"></a>1ã€redo-log ä¸ bin-log ä¸¤ç§æ—¥å¿—åŒºåˆ«</h2><p>é¦–å…ˆï¼Œredo-log ä¸ bin-log ä¸¤ç§æ—¥å¿—æ˜¯ InnoDB æ•°æ®åº“å¼•æ“ä¸ºäº†æ»¡è¶³äº‹åŠ¡çš„æŒä¹…æ€§ä¸åŸå­æ€§å¼•å…¥äº†çš„ï¼Œå…¶ä¸­ï¼Œredo-log æ˜¯ InnoDB çš„ç‰¹æ€§ï¼Œbin-log æ˜¯mysql ä¸­ server å±‚çš„æ—¥å¿—ã€‚</p><h3 id="redo-log-æ—¥å¿—"><a href="#redo-log-æ—¥å¿—" class="headerlink" title="redo-log æ—¥å¿—"></a>redo-log æ—¥å¿—</h3><blockquote><p>åœ¨æ›´æ–°ä¸€æ¡è®°å½•æ—¶ï¼Œå…ˆå°†å…¶å…ˆå†™å…¥ redo-log ä¸­ï¼Œç„¶åæ›´æ–°å†…å­˜ï¼Œæ­¤æ—¶çš„è®°å½•å°±ç®—æ›´æ–°å®Œæ¯•ã€‚ç­‰å¾…æ•°æ®åº“å¼•æ“ç©ºé—²æ—¶ï¼Œå†å°†å…¶æ›´æ–°è‡³ç£ç›˜ä¸­ã€‚</p><p>è€Œ redo-log å¤§å°å›ºå®šï¼Œç”± innodb_log_file_size è®¾ç½®å¤§å°å’Œ innodb_log_files_in_group è®¾ç½®ä¸ªæ•°ï¼Œè‹¥è¦ä¿®æ”¹ï¼Œåˆ™éœ€é‡å¯æœåŠ¡ã€‚</p><p>ä¸€æ—¦æ›´æ–°çš„æ•°æ®æ¡æ•°è¾¾åˆ° redo-log æ—¥å¿—è®°å½•æ•°çš„ä¸Šé™ï¼Œæ•°æ®åº“å¼•æ“åˆ™å…ˆåœæ­¢æ‰‹ä¸­çš„æ´»ï¼Œå°†ä¸€éƒ¨åˆ†çš„ redo-log æ—¥å¿—ä¸­çš„æ•°æ®æ›´æ–°å…¥ç£ç›˜ï¼Œå†ç»§ç»­è¿è¡Œã€‚</p></blockquote><p>æœ¬è´¨ä¸Šæ¥è¯´ï¼Œredo-log å°±æ˜¯ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º(åŸå›¾æ¥è‡ªæå®¢æ—¶é—´ä¸“æ )ï¼š<br><img src="/images/SQL/redo_log.png" alt="redo-log"><br>å…¶ä¸­ witer_pos ä¸ºå½“å‰è®°å½•æ—¥å¿—çš„åœ°å€ï¼Œcheckpoint ä¸ºå½“å‰è¦æ“¦é™¤çš„åœ°å€ï¼Œæ“¦é™¤è®°å½•å‰éœ€è¦å°†è®°å½•æ›´æ–°åˆ°æ•°æ®åº“æ–‡ä»¶ã€‚</p><p>write_pos å’Œ checkpoint ä¹‹é—´çš„æ˜¯ redo-log ç©ºä½™çš„åœ°å€å—ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚å¦‚æœ write pos è¿½ä¸Š checkpoint å³æ˜¯ redo-log è®°å½•æ“ä½œå·²æ»¡ï¼Œä¸èƒ½å†æ‰§è¡Œæ–°çš„æ›´æ–°ï¼Œéœ€è¦æ•°æ®åº“å¼•æ“å…ˆæ“¦é™¤ä¸€äº›è®°å½•ã€‚</p><p>redo-log å¯ä»¥é˜²æ­¢å› ä¸ºæ•°æ®åº“å¼‚å¸¸é‡å¯ï¼Œè€Œå¯¼è‡´æäº¤è®°å½•ä¸¢å¤±çš„é—®é¢˜ â€“ è¿™ç§ç‰¹æ€§ç§°ä¸º â€œcrash-safeâ€</p><h3 id="bin-log-æ—¥å¿—"><a href="#bin-log-æ—¥å¿—" class="headerlink" title="bin-log æ—¥å¿—"></a>bin-log æ—¥å¿—</h3><blockquote><p>å…ˆä»‹ç»ä¸€ä¸‹ bin-log æ—¥å¿—çš„èƒŒæ™¯ï¼š</p><p>æœ€å¼€å§‹çš„æ—¶å€™ï¼ŒMySQL ä¸­æ²¡æœ‰ InnoDB æ•°æ®åº“å¼•æ“ï¼Œå…¶è‡ªå¸¦çš„å¼•æ“ä¸º MyISAMï¼Œè€Œ MyISAM æ²¡æœ‰ â€œcrash-safeâ€ çš„èƒ½åŠ›ï¼Œbin-log æ—¥å¿—åªæ˜¯å½’æ¡£è®°å½•çš„åŠŸèƒ½</p></blockquote><p>ç°åœ¨æ¥åŒºåˆ«ä¸€ä¸‹è¿™ä¸¤ç§æ—¥å¿—ï¼š</p><ul><li><p>1ã€redo-log æ˜¯ <strong>InnoDB å¼•æ“ç‰¹æœ‰</strong> çš„ï¼›<br>   bin-log æ˜¯ MySQL çš„ Server å±‚å®ç°çš„ï¼Œæ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p></li><li><p>2ã€redo-log æ˜¯ <strong>ç‰©ç†æ—¥å¿—</strong>ï¼Œè®°å½• â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šçš„ä¿®æ”¹â€ ï¼›<br>   bin-log æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„ <strong>åŸå§‹é€»è¾‘</strong>ï¼›æ¯”å¦‚ â€œç»™ ID&#x3D;2 è¿™ä¸€è¡Œçš„ c å­—æ®µåŠ  1 â€œã€‚</p></li><li><p>3ã€redo-log æ˜¯ <strong>å¾ªç¯å†™çš„ï¼Œç©ºé—´å›ºå®š</strong>ï¼›<br>    bin-log æ˜¯ä»¥ <strong>è¿½åŠ </strong> çš„æ–¹å¼å†™å…¥çš„ã€‚â€œè¿½åŠ å†™â€ æ˜¯ bin-log æ–‡ä»¶è¾¾åˆ°ä¸€å®šå¤§å°åï¼Œä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª bin-log æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶ä¸ä¼šè¦†ç›–ä»¥å‰çš„æ—¥å¿—ã€‚</p></li></ul><p>æ‰€ä»¥å¯å¾—åˆ°ä»¥ä¸‹ç»“è®º:</p><blockquote><p>1ã€redo-log çš„å†™ç›˜æ—¶é—´ä¼šç›´æ¥å½±å“ç³»ç»Ÿçš„ååï¼Œæ‰€ä»¥ redo-log çš„æ•°æ®é‡è¦å°½é‡å°‘ã€‚</p><p>2ã€ç”±äºç³»ç»Ÿå´©æºƒçš„ä¸ç¡®å®šæ€§ï¼Œé‡å¯é‡æ”¾ redo-log æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¸ä¼šçŸ¥é“ï¼Œredo-log ä¸­çš„é‚£ä¸ª page é¡µå·²ç»ä¿®æ”¹å…¥ç£ç›˜ï¼Œæ‰€ä»¥ redo-log çš„é‡æ”¾å¿…é¡»å¯ä»¥é‡å…¥ç£ç›˜ã€‚</p><p>3ã€ä¸€èˆ¬æ¥è¯´ï¼Œ<strong>å»ºè®®ä¸€ä¸ª redo-log åªæ¶‰åŠä¸€ä¸ªå†…å­˜ page é¡µæ¥è¿›è¡Œä¿®æ”¹</strong>ï¼Œè¿™æ ·å°±å¯ä»¥å…¼é¡¾é€»è¾‘æ—¥å¿—ä¸ç‰©ç†æ—¥å¿—çš„ä¼˜åŠ¿ï¼</p></blockquote><p>è€Œ redo-log æäº¤æ˜¯æœ‰ä¸¤ä¸ªé˜¶æ®µçš„ï¼š<strong>prepare å’Œ commit é˜¶æ®µ</strong>ã€‚</p><p>è€Œä¹‹æ‰€ä»¥è¿›è¡Œä¸¤ä¸ªé˜¶æ®µçš„æäº¤ï¼Œä¹Ÿæ˜¯ä¸ºäº†è¾¾åˆ° â€œcrash-safeâ€ çš„ç›®çš„ã€‚</p><h3 id="æƒ…æ™¯"><a href="#æƒ…æ™¯" class="headerlink" title="æƒ…æ™¯"></a>æƒ…æ™¯</h3><p>å‡è®¾ redo-log éƒ½æ˜¯ä¸€æ¬¡æ€§æäº¤ï¼Œä¸åˆ†ä¸¤ä¸ªé˜¶æ®µï¼Œæ­¤æ—¶æˆ‘ä»¬å¯¹ä¸€ä¸ªå­—æ®µ c å€¼è¿›è¡Œæ›´æ–°ï¼Œè®© c å€¼ä»å½“å‰çš„ 0ï¼Œæ›´æ–°ä¸º 1ã€‚</p><p>æƒ…æ™¯1ï¼šæˆ‘ä»¬å…ˆå†™ redo-log åå†™ bin-logã€‚å‡è®¾åœ¨ redo log å†™å®Œï¼Œbinlog å¹¶æœªå†™å®Œæ—¶ï¼ŒMySQL è¿›ç¨‹å¼‚å¸¸é‡å¯ã€‚</p><blockquote><p>redo log å†™å®Œä¹‹åï¼Œè™½ç„¶ç³»ç»Ÿå´©æºƒä¹Ÿèƒ½å°† MySQL å¼‚å¸¸å¯åŠ¨å‰çš„æ•°æ®æ¢å¤å›æ¥ã€‚ä½†æ˜¯ bin-log å¹¶æœªå†™å®Œï¼Œæ­¤æ—¶è®°å½•çš„ bin-log æ–‡ä»¶å°±æ²¡æœ‰è®°å½•ä¹‹å‰æ“ä½œçš„è¯­å¥ã€‚</p><p>å› æ­¤ï¼Œåœ¨ä¹‹åå¤‡ä»½æ—¥å¿—çš„ bin-log ä¹Ÿæ²¡æœ‰ç›¸åº”çš„æ“ä½œè¯­å¥ã€‚è€Œè‹¥æˆ‘ä»¬éœ€è¦æ¢å¤ä¸´æ—¶åº“ï¼Œç”±äº bin-log è®°å½•çš„è¯­å¥ä¸¢å¤±ï¼Œä¸´æ—¶åº“æ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œ c çš„å€¼å°±æ˜¯ 0ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚</p></blockquote><p>æƒ…æ™¯2ï¼šæˆ‘ä»¬å…ˆå†™ bin-logï¼Œåå†™ redo-log å‡è®¾åœ¨ binlog å†™å®Œï¼Œredo-log å¹¶æœªå†™å®Œæ—¶ï¼ŒMySQL è¿›ç¨‹å¼‚å¸¸é‡å¯ã€‚</p><blockquote><p>å¦‚æœåœ¨ bin-log å†™å®Œä¹‹åï¼Œç³»ç»Ÿå´©æºƒï¼Œç”±äº bin-log ä¸å…·å¤‡ â€œcrash-safeâ€ çš„åŠŸèƒ½ï¼Œè€Œ redo-log æ²¡å†™ï¼Œæ‰€ä»¥å´©æºƒæ¢å¤ä»¥åè¿™ä¸ªäº‹åŠ¡æ— æ•ˆã€‚</p><p>ä½†æ˜¯ bin-log é‡Œé¢å·²ç»è®°å½•äº†â€c ä» 0 æ”¹ä¸º 1â€ çš„æ—¥å¿—ã€‚æ‰€ä»¥åœ¨ä¹‹åç”¨ bin-log æ¢å¤ä¸´æ—¶åº“æ—¶ï¼Œå°±ä¼šå¤šå‡ºä¸€ä¸ªäº‹åŠ¡ï¼Œæ¢å¤å‡ºæ¥çš„ c çš„å€¼å°±æ˜¯ 1ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚</p></blockquote><p>æ‰€ä»¥ä¸¤é˜¶æ®µæäº¤å°±æ˜¯è®©è¿™ redo-log ä¸ bin-log ä¸¤ä¸ªçŠ¶æ€ä¿æŒé€»è¾‘ä¸Šçš„ä¸€è‡´ã€‚</p><p>é’ˆå¯¹äºå¼‚å¸¸é‡å¯ï¼Œåœ¨ MySQL è®¾ç½®ä¸­çš„ <code>innodb_flush_log_at_trx_commit</code>ã€<code>sync_binlog</code> å‡è®¾ç½®ä¸º 1ï¼Œèƒ½ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ä¸ bin-log æ–‡ä»¶ä¸ä¸¢å¤±</p><h3 id="ä¸€äº›è¡¥å……"><a href="#ä¸€äº›è¡¥å……" class="headerlink" title="ä¸€äº›è¡¥å……"></a>ä¸€äº›è¡¥å……</h3><p>1ã€MySQL çš„ bin-log å®Œæ•´æ€§</p><blockquote><p>MYSQL çš„ bin-log æ‹¥æœ‰å®Œæ•´çš„å½¢å¼ï¼š</p><p>1ã€statement æ ¼å¼ï¼Œæœ€åä¼šæœ‰ COMMIT;</p><p>2ã€row æ ¼å¼ï¼Œæœ€åä¼šæœ‰ XID event;</p><p>3ã€MySQL 5.6.5 ç‰ˆæœ¬åä¹Ÿå¼•å…¥äº† bin-log checksum ç”¨äºéªŒè¯ bin-log å†…å®¹çš„æ­£ç¡®æ€§ï¼Œæ‰€ä»¥ä¸€æ—¦ bin-log æ‰€åœ¨çš„ç£ç›˜å‡ºç°æ•…éšœï¼Œå¯ä»¥é€šè¿‡éªŒè¯ checksum æ¥ç¡®å®šå‡†ç¡®æ€§ï¼</p></blockquote><p>2ã€å…³äº bin-log å¤‡ä»½å»ºè®®</p><p>ä¸€èˆ¬æ€§å»ºè®®æ˜¯ä¸€å‘¨ä¸€å¤‡ä»½ä¸ä¸€æ—¥ä¸€å¤‡ä»½è¿›è¡Œé€‰æ‹©ã€‚çœ‹ä¸šåŠ¡çš„è¯„ä¼°ï¼Œæ¯”å¦‚ RTO (æ¢å¤ç›®æ ‡æ—¶é—´) æŒ‡æ ‡ï¼Œä¸€å‘¨ä¸€å¤‡ä»½å­˜å‚¨æˆæœ¬å°ï¼Œä½†æ˜¯ RTO é•¿ï¼Œè€Œä¸€æ—¥ä¸€å¤‡ä»½ï¼ŒRTO æ—¶é—´å°ï¼Œä½†æ˜¯å­˜å‚¨çš„æˆæœ¬å¤§ã€‚</p><h2 id="2ã€äº‹åŠ¡ä¸­çš„éš”ç¦»æ€§"><a href="#2ã€äº‹åŠ¡ä¸­çš„éš”ç¦»æ€§" class="headerlink" title="2ã€äº‹åŠ¡ä¸­çš„éš”ç¦»æ€§"></a>2ã€äº‹åŠ¡ä¸­çš„éš”ç¦»æ€§</h2><p>äº‹åŠ¡æ¦‚å¿µï¼šæ•°æ®åº“åœ¨æ“ä½œæ•°æ®æ—¶ï¼Œä¸ºäº†ä¿è¯å…¶é€»è¾‘çš„ä¸€è‡´æ€§çš„æœ€å°çš„å•ä½ï¼Œå³æ˜¯äº‹åŠ¡ã€‚</p><blockquote><p>äº‹åŠ¡çš„ç‰¹æ€§ï¼š<strong>A (Atomicity)ã€C (Consistency)ã€I (Isolation)ã€D (Durablity)</strong> å³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§;</p></blockquote><p>å› æ­¤ï¼Œäº‹åŠ¡æ˜¯ä¿æŒé€»è¾‘ä¸€è‡´æ€§ã€å¯æ¢å¤æ€§çš„é‡è¦æ–¹æ³•ï¼Œè€Œé”æ˜¯ä¿è¯äº‹åŠ¡çš„å®Œæ•´æ€§ä¸å¹¶å‘æ€§çš„é‡è¦æ¦‚å¿µï¼</p><p>æœ¬æ¬¡ä¸»è¦è®²å†…å®¹ä¸ºéš”ç¦»æ€§ã€‚</p><h3 id="éš”ç¦»æ€§çš„æ¦‚å¿µ"><a href="#éš”ç¦»æ€§çš„æ¦‚å¿µ" class="headerlink" title="éš”ç¦»æ€§çš„æ¦‚å¿µ"></a>éš”ç¦»æ€§çš„æ¦‚å¿µ</h3><p>éš”ç¦»æ€§çš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†<strong>åŒºåˆ†å¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ‰§è¡Œçš„é¡ºåºé—®é¢˜</strong>ï¼Œæ¯”å¦‚å¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ‰§è¡Œæ—¶ï¼Œå‡ºç°è„è¯»ã€ä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»ç­‰ã€‚</p><blockquote><p>è„è¯»ï¼šè¯»å–åˆ°å…¶ä»–çš„äº‹ç‰©æœªæäº¤çš„æ•°æ®ï¼›</p><p>ä¸å¯é‡å¤è¯»ï¼šå‰åè¯»å–è®°å½•å†…å®¹ä¸ä¸€è‡´ï¼›</p><p>å¹»è¯»ï¼šå‰åè¯»å–è®°å½•æ•°é‡ä¸ä¸€è‡´ã€‚</p></blockquote><p>æ‰€ä»¥éš”ç¦»æ€§é’ˆå¯¹äºä»¥ä¸Šçš„æƒ…å†µï¼Œåˆ†æˆå¦‚ä¸‹å‡ ä¸ªçº§åˆ«çš„éš”ç¦»ï¼š<strong>è¯»æœªæäº¤ã€è¯»æäº¤ã€å¯é‡å¤è¯»ä¸ä¸²è¡ŒåŒ–</strong></p><ul><li><p>1ã€è¯»æœªæäº¤ï¼šä¸€ä¸ªäº‹ç‰©è¿˜æœªæäº¤ï¼Œå…¶æ‰€åšçš„å˜æ›´å¯ä»¥è¢«å…¶ä»–äº‹åŠ¡è¯»å–</p></li><li><p>2ã€è¯»æäº¤ï¼šä¸€ä¸ªäº‹åŠ¡æäº¤ä¹‹åï¼Œå…¶æ‰€åšçš„å˜æ›´æ‰èƒ½è¢«å…¶ä»–äº‹åŠ¡è¯»å–</p></li><li><p>3ã€å¯é‡å¤è¯»ï¼šä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œæœªæäº¤æ—¶å…¶æ‰€åšçš„å˜æ›´å¯¹å…¶ä½™äº‹åŠ¡ä¸å¯è§ï¼</p></li><li><p>4ã€ä¸²è¡ŒåŒ–ï¼šå¯¹ä¸€ä¸ªè®°å½•è¿›è¡ŒåŠ è¯»å†™é”ï¼Œè‹¥å…¶å‘ç”Ÿå†²çªï¼Œåè®¿é—®çš„äº‹åŠ¡éœ€è¦ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p></li></ul><p>ä¸Šé¢å››ç§æƒ…å†µï¼Œå¹¶è¡Œæ€§é€æ­¥é™ä½ï¼Œä½†æ˜¯å®‰å…¨æ€§é€æ­¥å‡é«˜ï¼</p><p>Oracle æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯è¯»æäº¤ï¼Œæ‰€ä»¥ä» Oracle æ•°æ®åº“è¿ç§»åˆ° MySQL æ•°æ®åº“ä¸­ï¼Œéœ€è¦è®¾ç½® MySQL çš„å¯åŠ¨å‚æ•° <code>transaction-isolation</code> çš„å€¼è®¾ç½®æˆ <strong>READ-COMMITTED</strong></p><p>MySQL æ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Œä½†æ˜¯å¯é‡å¤è¯»ä¼šå¯¼è‡´å¹»è¯»çš„æƒ…å†µ</p><h3 id="éš”ç¦»æ€§çš„å®ç°"><a href="#éš”ç¦»æ€§çš„å®ç°" class="headerlink" title="éš”ç¦»æ€§çš„å®ç°"></a>éš”ç¦»æ€§çš„å®ç°</h3><p>åœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œä¸ºäº†æ§åˆ¶å¹¶å‘æ‰§è¡Œçš„è¯­å¥çš„é¡ºåºï¼Œå¼•å…¥äº†å¤šç‰ˆæœ¬åˆ†å¸ƒå¼æ§åˆ¶ MVCC (Mutiversion Concurrency Control)ã€‚</p><p>å…¶å…·ä½“å†…å®¹å¯ä»¥æ¦‚å†µå¦‚ä¸‹ï¼šæ¯æ¡è®°å½•åœ¨æ›´æ–°çš„æ—¶å€™éƒ½ä¼šåŒæ—¶è®°å½•ä¸€æ¡å›æ»šæ—¥å¿—ï¼šundo-logï¼ŒåŒä¸€æ¡è®°å½•åœ¨ç³»ç»Ÿä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªç‰ˆæœ¬ã€‚æŠ½è±¡ä¸å¥½ç†è§£ï¼Œå¯ä»¥çœ‹ä¸‹å›¾ï¼š</p><p><img src="/images/SQL/MySQL-isolation1.png" alt="isolation"></p><p>è‹¥æˆ‘ä»¬éœ€è¦å°†å½“å‰ 4 çš„å€¼æ¢å¤åˆ° 1 æ—¶ï¼Œéœ€è¦æ‰§è¡Œ 3 æ¬¡ undo-log å›æ»šã€‚</p><p>è€Œå½“ç³»ç»Ÿä¸­ä¸å­˜åœ¨æ¯”å›æ»šæ—¥å¿—æ›´æ—©çš„ read-view æ—¶ï¼Œundo-log åˆ™ä¼šè¢«åˆ é™¤ã€‚</p><p>ä»¥ä¸Šå›¾ä¸ºä¾‹å­ï¼Œå½“ read-viewA è§†å›¾è¢«åˆ é™¤åï¼Œå°† 3 æ”¹ä¸º 2 ä¹‹å‰çš„ undo-log å³ä¼šè¢«åˆ é™¤ã€‚</p><p>æ‰€ä»¥è¯´ä¸€èˆ¬å¼€å‘æ—¶ï¼ŒMySQL æ•°æ®å±‚çš„äº‹åŠ¡å°½é‡é¿å…è¿‡é•¿ã€‚</p><h3 id="äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼"><a href="#äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼" class="headerlink" title="äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼"></a>äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼</h3><p>MySQL ä¸­çš„äº‹åŠ¡å¯åŠ¨æ–¹å¼ä¸€èˆ¬ä¸ºä¸¤ç§</p><blockquote><p>1ã€æ˜¾å¼å¯åŠ¨ï¼šä½¿ç”¨ begin æˆ– start transactionã€‚ é…å¥—çš„è¯­å¥ä¸º commitã€‚å›æ»šè¯­å¥ä¸º rollback</p><p>2ã€set autocommit &#x3D; 0, æ­¤å‘½ä»¤ä¼šå°†çº¿ç¨‹è‡ªåŠ¨å…³æ‰ï¼Œåªæœ‰æ‰‹åŠ¨æ‰§è¡Œä¸Šè¿°ä¸¤ç§é…å¥—çš„è¯­å¥ï¼Œæ‰èƒ½è¿›è¡Œä¸€ä¸ªäº‹åŠ¡çš„æäº¤ï¼Œæˆ–è€…æ–­å¼€è¿æ¥æ—¶æäº¤</p></blockquote><p>æ‰€ä»¥å»ºè®®ä½¿ç”¨ <strong>set autocommit &#x3D; 1</strong>ï¼Œé€šè¿‡æ˜¾å¼è¯­å¥æ¥å¯åŠ¨äº‹åŠ¡ï¼Œè€Œ commit å‘½ä»¤ä¸€èˆ¬ä½¿ç”¨ <strong>commit work and chain</strong> å‘½ä»¤ï¼Œå³æäº¤å¹¶ä¸”å¯åŠ¨ä¸‹ä¸€ä¸ªäº‹åŠ¡ã€‚å¸¦æ¥çš„æ•ˆæœæ˜¯ä»ç¨‹åºå¼€å‘çš„è§’åº¦å¯ä»¥æ˜ç¡®çš„çŸ¥é“æ¯ä¸ªè¯­å¥æ˜¯å¦å­˜åœ¨äºäº‹åŠ¡ä¸­ï¼</p>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 12 - 13 å‘¨æ€»ç»“</title>
    <link href="/2022/03/27/summary/22-3-28/"/>
    <url>/2022/03/27/summary/22-3-28/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸Šä¸¤å‘¨æ²¡å†™å‘¨æ€»ç»“ï¼Œå†™å‘¨æ€»ç»“è¿˜æ˜¯æŒºæœ‰æ•ˆçš„ï¼Œè‡³å°‘è¾“å…¥ä¸è¾“å‡ºèƒ½å¤Ÿç†é¡ºï¼Œå°†é€»è¾‘é¡ºååˆ†æ¸…æ™°ã€‚</p></blockquote><h2 id="12-å‘¨"><a href="#12-å‘¨" class="headerlink" title="12 å‘¨"></a>12 å‘¨</h2><blockquote><p>1ã€APISIX ç½‘å…³çš„ç›¸å…³çŸ¥è¯†å­¦ä¹ </p><p>2ã€Redis çš„é¢è¯•æ¦‚å¿µå­¦ä¹ </p><p>3ã€sync åŒ…ä¸­çš„ Pool(åç¨‹æ± çš„å­¦ä¹ )</p></blockquote><p>ä»¤ç‰Œæ¡¶ã€æ¼æ¡¶ç®—æ³•çš„å­¦ä¹ ï¼ŒåŒ…æ‹¬ TDD çš„äº†è§£ã€æ€è€ƒåˆ°ç°åœ¨çš„å®è·µï¼Œéƒ½æŒºæœ‰æ”¶è·çš„ã€‚</p><h2 id="13-å‘¨"><a href="#13-å‘¨" class="headerlink" title="13 å‘¨"></a>13 å‘¨</h2><blockquote><p>1ã€Docker çš„å¤ä¹ </p><p>2ã€GeekingTime TDD å®è·µ + Learn TDD In Go çš„å­¦ä¹ </p><p>3ã€ç®—æ³•é¢˜ç›®ç»ƒä¹ ä»¥åŠ gin æ¡†æ¶çš„æ·±å…¥ï¼Œå­¦ä¹  web è·¯ç”±çš„è·¯ç”±åŒ¹é…ç®—æ³•ï¼Œä»¥åŠå­¦ä¹ æå®¢å…”å…”çš„ 7days è¯¾ç¨‹ï¼Œå°æœ‰æ”¶è·ï¼Œä½†æ˜¯ä¸æˆä½“ç³»ï¼Œæ‰€ä»¥æš‚æ—¶ä¸æ”¾ä¸‹è¿™ä¸ªè¯¾ç¨‹</p></blockquote><h2 id="14-å‘¨"><a href="#14-å‘¨" class="headerlink" title="14 å‘¨"></a>14 å‘¨</h2><p>æ‰“ç®—ç»§ç»­å­¦ä¹  TDDï¼Œè¿›è¡Œ TDD çš„å®è·µï¼Œç”±äºè‡ªå·±çš„æ¯•ä¸šè®¾è®¡æ˜¯åšè·¯é¢è¯­ä¹‰åˆ†å‰²çš„å›¾åƒç®—æ³•æ¨¡å—çš„è½åœ°ï¼Œä¹Ÿæ˜¯å¤ç°å›½å¤–çš„è®ºæ–‡ï¼Œå¹¶é€šè¿‡è¿ç§»å­¦ä¹ æ¨¡å‹çš„æ–¹å¼è¿›è¡Œæ”¹è¿›ï¼Œä½†æ˜¯æ— æ³•è§£å†³è¿‡æ‹Ÿåˆçš„é—®é¢˜ã€‚</p><p>å¯¼è‡´ç°åœ¨å¤„äºä¸€ä¸ªæ¯”è¾ƒå°´å°¬çš„çŠ¶æ€ï¼šç®—æ³•å­¦çš„ä¸æ€ä¹ˆæ ·ï¼Œå¼€å‘ä¹Ÿæ²¡å­¦å¾—å¤ªå¥½ã€‚æ‰€ä»¥æš‚æ—¶çš„æƒ³æ³•æ˜¯è‡ªå·±å°±æ˜¯ç»§ç»­ç»´æŠ¤æ›´æ–°å¤§ä¸‰åšè¯¾ç¨‹è®¾è®¡çš„ Go web é¡¹ç›®ï¼ŒæŠŠä¸ªäººåšå®¢ç³»ç»Ÿæ”¹ä¸ºç¤¾åŒºç³»ç»Ÿï¼Œç„¶ååŠ å…¥æ–°å­¦ä¹ çš„çŸ¥è¯†ï¼šåŒ…æ‹¬ TDDï¼Œåšä¸€äº›å•å…ƒæµ‹è¯•ï¼Œå¹¶ä¸”æƒ³ä¸€æƒ³å¦‚ä½•è¿›è¡Œé«˜å¹¶å‘çš„æ¨¡æ‹Ÿæƒ…èŠ‚ï¼Œè¾¹å­¦ä¹ å˜æ”¹ï¼Œå¸Œæœ›èƒ½åœ¨go æœåŠ¡å™¨çš„é“è·¯ä¸Šæ›´å¼ºã€‚</p><blockquote><p>åŒæ—¶ï¼Œç®—æ³•åˆ·é¢˜ä¹Ÿä¸èƒ½è½ä¸‹ï¼Œè¦ç»§ç»­é«˜é¢‘ç®—æ³•çš„åˆ·é¢˜ï¼Œåˆ·é¢˜çš„ç›®çš„æ˜¯ä¸ºäº†ç»´æŒè‡ªå·±çš„è§£å†³é—®é¢˜çš„æ€ç»´ï¼</p></blockquote><hr><p>3-30 æ—¥<br>è¿™å‡ æ—¥åœ¨æ€è€ƒåšé¡¹ç›®çš„ä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚è‡ªå·±è¿˜æ˜¯åœ¨å­¦ä¹ go webï¼Œä½†æ˜¯æ€æ¥æƒ³å»ï¼Œè§‰å¾— go-web é¡¹ç›®ä¸åº”è¯¥æ˜¯ç°åœ¨è¿™ä¸ªé˜¶æ®µçš„é‡ç‚¹ï¼Œç°åœ¨è‡ªå·±çš„é˜¶æ®µï¼šæ²¡æœ‰çœŸæ­£çš„ä¼ä¸šçº§é¡¹ç›®å®æˆ˜çš„ç»å†ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨å¾®æœåŠ¡çš„æ¡†æ¶è¿›è¡Œå¾®æœåŠ¡å¼€å‘çš„ç»å†ï¼Œè€Œ web é¡¹ç›®çš„å«é‡‘é‡å¹¶ä¸é«˜ï¼Œè€Œä¸” web é¡¹ç›®åœ¨ä¼ä¸šå·¥ä½œä¸­ï¼Œæ‰€åº”ç”¨çš„åœºæ™¯ä¹Ÿä¸æ˜¯é‡ç‚¹ï¼Œæ‰€ä»¥é‡ç‚¹ç°åœ¨åº”è¯¥åœ¨äº‘ä¸Šï¼ŒåŒ…æ‹¬è¿™é‡Œæ¨èä¸€ä¸ªåšä¸»ï¼Œä¹Ÿæ˜¯æˆ‘å¾ˆä½©æœçš„å¤§ä½¬ï¼š<a href="https://space.bilibili.com/179520437">äººæœˆèŠIT</a>ï¼Œè™½ç„¶å…³æ³¨å¤§ä½¬ï¼Œæ²¡å¤šä¹…ï¼Œä½†æ˜¯é€šè¿‡å¤§ä½¬çš„ä¸€äº›è§†é¢‘ï¼Œ<a href="https://www.toutiao.com/c/user/token/MS4wLjABAAAAwpxCtvXDIzP9iOFpmBYKxC2Vu6qIKtDCPW2iylT3bxc/?source=tuwen_detail&log_from=1d90843f6ac6d_1648563756220">ä»Šæ—¥å¤´æ¡çš„æ–‡ç« </a>ï¼Œä¸ä»–å†™ä½œåå‡ å¹´çš„ä¸ªäººåšå®¢ï¼Œå‘ç°ä»–çš„ä¸ªäººæ€æƒ³ä¸ä¸ªäººçš„æŠ€æœ¯ä¸šåŠ¡æ°´å¹³éƒ½éå¸¸é«˜ã€‚æ¨èå¤§å®¶å‰å»å­¦ä¹ ã€äº¤æµï¼</p><p>ä¹Ÿæ˜¯ä»å¤§ä½¬é‚£ï¼Œå­¦ä¹ åˆ°äº†ç›¸åº”çš„å¾®æœåŠ¡ã€äº‘ä¸­é—´çš„ä¸€äº›ç†å¿µï¼Œç»“åˆè‡ªå·±ç°çŠ¶ï¼šé¡¹ç›®çš„ä¸»è¦æ–¹å‘åº”è¯¥æ”¾å…¥å¾®æœåŠ¡é‚£ä¸€å—ï¼Œæ‰€ä»¥åœ¨äº†è§£å‡ ä¸ªå¾®æœåŠ¡æ¡†æ¶åï¼Œå¼€å§‹å¯¹ go-zero å¾®æœåŠ¡è¿›è¡Œç›¸åº”çš„å­¦ä¹ ï¼</p><p>1ã€å…ˆä»å…¶ä¸­çš„ä¾‹å­å¼€å§‹å­¦ä¹ ï¼Œ<a href="https://github.com/zeromicro/zero-examples">ç½‘å€ç‚¹å‡»æ­¤å¤„å³å¯</a></p><p>2ã€ä¹‹åç ”ç©¶æºç çš„æ—¶å€™ï¼Œé‡‡ç”¨å¦‚ä¸‹çš„æ–¹æ³•ï¼š<br><img src="/images/go/readSourceCode.png" alt="readSoucreCode"></p><p>3ã€æ¯æ—¥æœ‰å¿…è¦å»è¯»è¯»å¤§ä½¬çš„è§‚ç‚¹ã€åšå®¢ï¼Œè¿™æ ·æ‰èƒ½ç«™åœ¨å‰è¾ˆã€å·¨äººçš„è‚©è†€ä¸Šå»æ€è€ƒé—®é¢˜ï¼</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go Test çš„ä¸€ä¸ªå°å‘</title>
    <link href="/2022/03/26/go/basic/go-test/"/>
    <url>/2022/03/26/go/basic/go-test/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä½¿ç”¨ TDD çš„æ¨¡å¼é©±åŠ¨è‡ªå·±ç¼–å†™æµ‹è¯•é©±åŠ¨å¼€åï¼Œä½¿ç”¨goland è°ƒè¯•è¿‡ç¨‹ä¸­å‡ºç°çš„ä¸€äº›å°é—®é¢˜ï¼Œåšä¸€äº›è®°å½•</p></blockquote><h2 id="å¦‚ä½•è§£å†³-undefined-function"><a href="#å¦‚ä½•è§£å†³-undefined-function" class="headerlink" title="å¦‚ä½•è§£å†³ undefined function"></a>å¦‚ä½•è§£å†³ undefined function</h2><p>é¦–å…ˆåœ¨ç¡®ä¿è‡ªå·±çš„æµ‹è¯•ä»£ç ä¸ä¸»å¹²ä»£ç åœ¨åŒä¸€ä¸ªè½¯ä»¶åŒ…ä¸‹ã€‚æœ€åˆé€‚åŠæ³•é‡‡ç”¨å‘½ä»¤è¡Œè°ƒè¯•ï¼Œä½†æ˜¯å¦‚æœæ˜¯å–œæ¬¢ä½¿ç”¨ goland è°ƒè¯•ï¼Œé‚£ä¹ˆåœ¨ go test æ¨¡æ¿éœ€è¦æŠŠç›®å½•æ”¹æˆè½¯ä»¶åŒ…ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œæˆ–è€…æ˜¯æŠŠç›®å½•ä¸‹æ–‡ä»¶å…¨éƒ¨æ·»åŠ ä¸Šï¼ˆä¸å»ºè®®ï¼‰ã€‚</p><p><img src="/images/go/go-test.png" alt="markdown"></p><h2 id="Go-mod-init-packagename"><a href="#Go-mod-init-packagename" class="headerlink" title="Go mod init packagename"></a>Go mod init packagename</h2><p>æ¥ç€ä¸Šä¸€ä¸ªé—®é¢˜ï¼Œgoland è¿›è¡Œ go test æµ‹è¯•ï¼Œå¾ˆéš¾ç”¨çš„åŸå› ï¼Œæ˜¯å› ä¸ºè‡ªå·±åœ¨ go mod init çš„æ—¶å€™ï¼Œå¹¶æœªä½¿ç”¨ä¸€ä¸ªåˆç†çš„åç§°ï¼Œæ¯”å¦‚ä½¿ç”¨çš„ exampleï¼Œè€Œåœ¨ function.go ä¸­å¯¼å…¥çš„åŒ…æ˜¯ function nameï¼Œå¯¼è‡´ go mod æ¨¡å¼å¹¶æœªå¾ˆå¥½çš„åˆ©ç”¨ï¼Œæ‰€ä»¥go mod name å»ºè®®ä¸æ–‡ä»¶å¤¹çš„åŒ…åä¸€è‡´ï¼Œè¿™æ ·ä¸å®¹æ˜“å‡ºç°é”™è¯¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go-test</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TDD æ¦‚å¿µä»‹ç»ä¸å­¦ä¹ è¯¾ç¨‹</title>
    <link href="/2022/03/25/go/TDD/TDD-1/"/>
    <url>/2022/03/25/go/TDD/TDD-1/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨æ¥è§¦ TDD (æµ‹è¯•é©±åŠ¨å¼€å‘) ä¹‹åï¼Œå‘ç°è‡ªå·±çš„ç¡®å¾ˆèƒ½è®¤åŒæµ‹è¯•é©±åŠ¨å¼€å‘çš„ç†å¿µã€‚æ‰€ä»¥åœ¨åŠ ä¸Šæå®¢æ—¶é—´ä¸­æœ‰å¾æ˜Šè€å¸ˆæ–°å¼€çš„ä¸€é—¨è¯¾ç¨‹ï¼Œæ‰€ä»¥å°±å¼€å§‹è‡ªå·±çš„ TDD å­¦ä¹ ä¹‹é™†</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é¦–å…ˆæ¨èä¸¤ä¸ªè¯¾ç¨‹ï¼š</p><p>1ã€å¾æ˜Šè€å¸ˆçš„æ–°è¯¾ï¼š<a href="https://time.geekbang.org/column/intro/100109401?tab=catalog">TDD é¡¹ç›®å®æˆ˜ 70 è®²</a>ã€‚</p><p>2ã€go è¯­è¨€çš„æ•™ç¨‹ï¼š<a href="https://studygolang.gitbook.io/learn-go-with-tests/">Learn-go-with-test</a>ï¼Œå»ºè®®èƒ½å°½é‡è¿›è¡Œè‹±æ–‡é˜…è¯»ï¼Œå°±é˜…è¯»è‹±æ–‡åŸç‰ˆã€‚</p><h2 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h2><p>1ã€éƒ‘çƒ¨è€å¸ˆçš„ä¸“æ ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹</p><p>2ã€ã€Šæµ‹è¯•é©±åŠ¨å¼€å‘çš„è‰ºæœ¯ã€‹</p><p>3ã€ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ä¸ ã€Šä¿®æ”¹ä»£ç çš„è‰ºæœ¯ã€‹</p><h2 id="ä¸Šæ‰‹è®­ç»ƒ"><a href="#ä¸Šæ‰‹è®­ç»ƒ" class="headerlink" title="ä¸Šæ‰‹è®­ç»ƒ"></a>ä¸Šæ‰‹è®­ç»ƒ</h2><p>å¯ä»¥æŸ¥çœ‹åšä¸»æ¨èçš„ github ä»“åº“ï¼ŒæŸ¥çœ‹ TDD å…·ä½“çš„æµç¨‹æ˜¯æ€ä¹ˆæ ·è¿›è¡Œçš„ï¼Œä»¥åŠ TDD ä¸ºä»€ä¹ˆèƒ½é©±åŠ¨ç¨‹åºå‘˜è¿›è¡Œé«˜æ•ˆçš„å¼€å‘ï¼</p><blockquote><p>github: <a href="https://github.com/longyue0521/TDD-In-Go/commits/main">Alexdown çš„ github ä»“åº“</a></p></blockquote><p>ä¸‹å›¾æ˜¯ alexdown çš„è¯„è®ºï¼Œä¸ªäººè§‰å¾—èƒ½æ”¶è·æŒºå¤š</p><p><img src="/images/go/TDD1.png" alt="TDD1"></p><h2 id="5-æœˆ-21-æ—¥å›çœ‹"><a href="#5-æœˆ-21-æ—¥å›çœ‹" class="headerlink" title="5 æœˆ 21 æ—¥å›çœ‹"></a>5 æœˆ 21 æ—¥å›çœ‹</h2><p>TDD çš„ç¡®é‡è¦ï¼Œä½†æ˜¯ç”±äºè‡ªå·±çš„å·¥ç¨‹èƒ½åŠ›å¹¶æœªåˆ°è¾¾è€å¸ˆæ‰€è¯´çš„é‚£ç§é«˜åº¦ï¼Œæ‰€ä»¥è¯´è‡ªå·±åŸºç¡€èƒ½åŠ›å­˜åœ¨ä¸€å®šçš„é—®é¢˜ï¼Œå¾—éœ€è¦ä¸€ç‚¹çš„å‰ç½®çŸ¥è¯†ï¼Œæ¯”å¦‚çœ‹ uncle Bob çš„ clean code ã€è½¯ä»¶å·¥ç¨‹ä¸Šçš„çŸ¥è¯†ï¼Œéƒ½æ˜¯å¯¹è‡ªå·±çš„èŒä¸šå‘å±•éå¸¸é‡è¦çš„ï¼</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TDD</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go è¯­è¨€ä¸­çš„ sync.Pool å­¦ä¹ </title>
    <link href="/2022/03/20/go/concurrency/Pool/"/>
    <url>/2022/03/20/go/concurrency/Pool/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ä¸ºåœ¨å­¦ä¹ æå®¢æ—¶é—´çš„ go å¹¶å‘ç¼–ç¨‹çš„å­¦ä¹ ç¬”è®°ï¼Œå…·ä½“è¯¦ç»†å†…å®¹è¯·çœ‹æå®¢æ—¶é—´å®˜æ–¹çš„ä¸“æ â€“go å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾</p></blockquote><p>Go è¯­è¨€æ˜¯è‡ªå¸¦åƒåœ¾å›æ”¶æœºåˆ¶çš„ï¼Œå…·ä½“æ¼”å˜è¿‡ç¨‹å¯ä»¥çœ‹åšä¸»å†™çš„å¦ä¸€ç¯‡åšå®¢ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸ç”¨åƒ C&#x2F;C++ ä¸€æ ·ï¼Œåˆ›å»ºå¯¹è±¡çš„åŒæ—¶ï¼Œä½¿ç”¨å®Œéœ€è¦åˆ é™¤&#x2F;ææ„å¯¹è±¡ï¼Œé˜²æ­¢å› ä¸ºç©ºæŒ‡é’ˆå¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚</p><p>ä½†æ˜¯ Garbage Collect æœºåˆ¶æ–¹ä¾¿æ–¹ä¾¿çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥çš„ä¸€å®šçš„æ€§èƒ½éšæ‚£ï¼Œæ¯”å¦‚ STW æœºåˆ¶ä»ç„¶å­˜åœ¨ï¼Œæˆ‘ä»¬å¤§é‡åœ¨å †ä¸Šåˆ›å»ºçš„å¯¹è±¡ï¼Œä¼šå½±å“åƒåœ¾å›æ”¶æ ‡è®°çš„æ—¶é—´ã€‚</p><p>æ‰€ä»¥åœ¨ Go è¯­è¨€ä¸­ï¼Œæ€§èƒ½ä¼˜åŒ–çš„æ–¹å‘ä¸€èˆ¬æ˜¯é‡‡ç”¨å¯¹è±¡æ± çš„æ–¹å¼ï¼ŒæŠŠä¸ç”¨çš„å¯¹è±¡å›æ”¶èµ·æ¥ï¼Œé¿å…è¢«åƒåœ¾å›æ”¶æ‰ã€‚åŒæ ·çš„ï¼Œç±»ä¼¼äºæ•°æ®åº“ã€TCPç­‰é•¿è¿æ¥ï¼Œä¹Ÿæ˜¯ä¿å­˜åœ¨å¯¹è±¡æ± ä¸­ï¼Œå¯ä»¥å¤§é‡å‡å°‘ä¸šåŠ¡çš„è€—æ—¶ï¼å¯¹åº”ç”¨ç¨‹åºæ•´ä½“æ€§èƒ½ä¹Ÿæœ‰ä¸€ä¸ªæå‡ã€‚</p><h2 id="1ã€sync-Pool"><a href="#1ã€sync-Pool" class="headerlink" title="1ã€sync.Pool"></a>1ã€sync.Pool</h2><p>é¦–å…ˆéœ€è¦æˆ‘ä»¬ç†è§£ sync.Pool çš„ä¸¤ä¸ªæ¦‚å¿µ</p><blockquote><p>sync.Pool æ•°æ®ç±»å‹æ˜¯ï¼šç‹¬ç«‹è®¿é—®çš„ä¸´æ—¶å¯¹è±¡ï¼Œæœ¬èº«æ˜¯<strong>çº¿ç¨‹å®‰å…¨</strong>çš„ï¼Œèƒ½è¿›è¡Œå¹¶å‘è¯»å–å…¶ä¸­çš„å¯¹è±¡ï¼</p><p>sync.Pool ä¹Ÿæ˜¯ä¸èƒ½è¿›è¡Œå¤åˆ¶ä½¿ç”¨çš„ï¼</p></blockquote><h2 id="2ã€sync-Pool-çš„ä½¿ç”¨æ–¹æ³•"><a href="#2ã€sync-Pool-çš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2ã€sync.Pool çš„ä½¿ç”¨æ–¹æ³•"></a>2ã€sync.Pool çš„ä½¿ç”¨æ–¹æ³•</h2><p>sync.Pool ä»…æœ‰ä¸‰ç§æ–¹æ³•ï¼šNew()ã€Get()ã€Put()</p><h3 id="1ã€New"><a href="#1ã€New" class="headerlink" title="1ã€New()"></a>1ã€New()</h3><blockquote><p>sync.Pool ä¸­çš„ New() æ˜¯ func() any ç±»å‹ï¼Œå…¶ä¸­ any åœ¨æºç ä¸­ç”¨ interface{} è¡¨ç¤ºã€‚</p><p>New æ–¹æ³•çš„ä½¿ç”¨åœºæ™¯ä¸ºï¼šåœ¨è°ƒç”¨ Pool çš„ Get æ–¹æ³•å¹¶ä¸èƒ½ä»æ± å­ä¸­è·å–ç©ºé—²å…ƒç´ åï¼Œå°±ä¼šåˆ›å»ºæ–°çš„å…ƒç´ </p></blockquote><h3 id="2ã€Get"><a href="#2ã€Get" class="headerlink" title="2ã€Get()"></a>2ã€Get()</h3><blockquote><p>è°ƒç”¨æ­¤æ–¹æ³•ä¼šå°†ä¸€ä¸ª Pool ä¸­çš„ä¸€ä¸ªå…ƒç´ å–èµ°ï¼Œè¿”å›å€¼å¯ä»¥ä¸º nil å€¼ï¼Œæ‰€ä»¥ä½¿ç”¨æ­¤æ–¹æ³•éœ€è¦å¯¹è¿”å›å€¼è¿›è¡Œåˆ¤æ–­ã€‚</p></blockquote><h3 id="3ã€Put"><a href="#3ã€Put" class="headerlink" title="3ã€Put()"></a>3ã€Put()</h3><blockquote><p>æ­¤æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªå…ƒç´ è¿”å›ç»™ Pool, Pool ä¼šå°†æ­¤å…ƒç´ ä¿å­˜åœ¨æ± ä¸­ï¼Œè€Œä¸”å¯ä»¥å¤ç”¨ï¼Œä½†æ˜¯å¦‚æœå€¼æ˜¯ nilï¼Œåˆ™ Pool ä¼šå¿½ç•¥æ­¤å€¼ã€‚</p></blockquote><h2 id="3ã€sync-Pool-çš„åº”ç”¨åœºæ™¯"><a href="#3ã€sync-Pool-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="3ã€sync.Pool çš„åº”ç”¨åœºæ™¯"></a>3ã€sync.Pool çš„åº”ç”¨åœºæ™¯</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¾ˆç»å…¸çš„åœºæ™¯å³æ˜¯ buffer æ± ï¼Œå¦‚ hugo ä¸­çš„ bufpoolï¼Œå³å¯çœ‹åˆ°ä»¥ä¸‹ä¸€æ®µä»£ç </p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> buffers <span class="token operator">:=</span> sync<span class="token punctuation">.</span>Pool <span class="token punctuation">&#123;</span>    New <span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">New</span><span class="token punctuation">(</span>bytes<span class="token punctuation">.</span>Buffer<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">GetBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>bytes<span class="token punctuation">.</span>Buffer <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> buffers<span class="token punctuation">.</span>Get<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>bytes<span class="token punctuation">.</span>Buffer<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">PutBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>buf <span class="token operator">*</span>bytes<span class="token punctuation">.</span>Buffer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    buf<span class="token punctuation">.</span><span class="token function">Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    buffers<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ç„¶è€Œåœ¨ä¸Šè¿°çš„ä»£ç ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</p><p>å› ä¸ºå–å‡º bytes.Buffer åï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå‘æ­¤ buffer ä¸­å¢åŠ å¤§é‡çš„ byte æ•°æ®ï¼Œæ­¤æ—¶çš„ slice å®¹é‡å¯èƒ½ä¼šæ‰©å¤§åˆ°å¦ä¸€ä¸ªé‡çº§çš„ç»´åº¦ã€‚</p><p>è€Œæ­¤æ—¶æˆ‘ä»¬åœ¨å°†å…¶æ”¾å…¥ Pool ä¸­ï¼Œslice å®¹é‡ä¸æ”¹å˜çš„æƒ…å†µä¸‹ï¼Œç”±äº Pool å›æ”¶çš„æœºåˆ¶ï¼Œè¿™äº›å¤§çš„ buffer å°±ä¸ä¼šè¢«å›æ”¶ï¼Œè€Œæ˜¯ä¸€ç›´ç•™åœ¨ Pool æ± ä¸­ï¼Œå ç”¨ç€è®¡ç®—æœºçš„å†…å­˜ã€‚</p><h2 id="4ã€sync-Pool-çš„å®ç°"><a href="#4ã€sync-Pool-çš„å®ç°" class="headerlink" title="4ã€sync.Pool çš„å®ç°"></a>4ã€sync.Pool çš„å®ç°</h2><p>Go 1.13 ä¹‹å‰çš„ç‰ˆæœ¬å®ç°çš„ sync.Pool å®ç°æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><blockquote><p>1ã€æ¯æ¬¡ GC éƒ½ä¼šå›æ”¶å…¶ä¸­åˆ›å»ºçš„å¯¹è±¡ï¼›</p><p>2ã€åº•å±‚å®ç°é‡‡ç”¨äº†ï¼šmutexï¼Œè€Œåœ¨ä¹‹å‰çš„åšå®¢ mutex å­¦ä¹ ä¸­ï¼Œå¯ä»¥çŸ¥é“ï¼Œå¯¹ mutex é”è¿›è¡Œå¹¶å‘æ“ä½œï¼Œåœ¨é”ç«äº‰ç›¸å½“æ¿€çƒˆçš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´æ€§èƒ½çš„æ€¥å‰§ä¸‹é™ã€‚</p></blockquote><p>æ‰€ä»¥ go å›¢é˜Ÿåœ¨ go è¯­è¨€çš„1.13 ç‰ˆæœ¬çš„ä¸­ï¼Œé’ˆå¯¹ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜ï¼Œåšå‡ºäº†å¤§é‡çš„ä¼˜åŒ–(è¿™ä¹Ÿæ˜¯ go è¯­è¨€ä¸å»ºè®®æˆ‘ä»¬åœ¨å¤§é‡çš„å¹¶å‘ä¸­ä½¿ç”¨é”)ã€‚æ‰€ä»¥å…¶ä¸­çš„ä¸€ç§ä¼˜åŒ–æ–¹å¼å°±æ˜¯ Pool ä¸­ä¸ä½¿ç”¨é”ã€‚</p><h2 id="å¥½ç”¨çš„ç¬¬ä¸‰æ–¹-sync-Pool-åº“"><a href="#å¥½ç”¨çš„ç¬¬ä¸‰æ–¹-sync-Pool-åº“" class="headerlink" title="å¥½ç”¨çš„ç¬¬ä¸‰æ–¹ sync.Pool åº“"></a>å¥½ç”¨çš„ç¬¬ä¸‰æ–¹ sync.Pool åº“</h2><p>1ã€<a href="https://github.com/valyala/bytebufferpool">bytebufferpool</a></p><blockquote><p>fasthttp ä½œè€… valyala æä¾›çš„ä¸€ä¸ª buffer æ± ï¼ŒåŸºæœ¬åŠŸèƒ½å’Œ sync.Pool ç›¸åŒ</p></blockquote><p>åº•å±‚ä½¿ç”¨ sync.Pool å®ç°çš„ï¼ŒåŒ…æ‹¬ä¼šæ£€æµ‹æœ€å¤§çš„ bufferï¼Œè¶…è¿‡æœ€å¤§å°ºå¯¸çš„ bufferï¼Œå°±ä¼šè¢«ä¸¢å¼ƒã€‚</p><p>æ­¤å®˜æ–¹çš„åº“æä¾›äº†æ ¡å‡†ï¼ˆcalibrateï¼Œç”¨æ¥åŠ¨æ€è°ƒæ•´åˆ›å»ºå…ƒç´ çš„æƒé‡ï¼‰çš„æœºåˆ¶ï¼Œå¯ä»¥åŠ¨æ€åœ°è°ƒæ•´ Pool çš„ defaultSize å’Œ maxSizeã€‚</p><p>2ã€<a href="https://github.com/oxtoacart/bpool">oxtoacart&#x2F;bpool</a></p><p>3ã€<a href="https://github.com/fatih/pool">fatih&#x2F;pool</a></p><p><a href="https://time.geekbang.org/column/article/301716">æ›´å¤šè¯¦ç»†çš„å†…å®¹å¯ä»¥å»å¤§ä½¬çš„è¯¾ç¨‹ä¸­æŸ¥çœ‹</a>ï¼Œä¸ªäººè§‰å¾—æ˜¯ Go å¹¶å‘ç¼–ç¨‹è¯¾ç¨‹ä¸­ï¼Œè®²çš„æœ€å¥½ï¼Œæœ€å€¼å¾—æ·±å…¥ç ”ç©¶çš„è¯¾ç¨‹ï¼</p><p>å¤§éƒ¨åˆ†çš„Work Pool éƒ½æ˜¯é€šè¿‡ channel æ¥ç¼“å­˜ä»»åŠ¡çš„ï¼Œå› ä¸º channel èƒ½å¾ˆå¥½çš„å®ç°å¹¶å‘çš„ä¿æŠ¤ï¼Œé˜²æ­¢æ•°æ®å› ä¸ºå¹¶å‘è®¿é—®æ‰€é€ æˆçš„ data raceï¼</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¦‚å¤§ä½¬æ‰€ç»™çš„å›¾ï¼š<br><img src="/images/go/pool2.png" alt="pool2"></p><blockquote><p>pool æ˜¯ä¸€ä¸ªé€šç”¨æ€§çš„æ¦‚å¿µï¼Œç”¨äºè§£å†³å¯¹è±¡é‡ç”¨ä¸é¢„å…ˆåˆ†é…çš„ä¸€ä¸ªå°ç”¨çš„ä¼˜åŒ–æ‰‹æ®µï¼Œå½“ç„¶æˆ‘è‡ªå·±è¿˜æœªæ›¾ä½¿ç”¨è¿‡ï¼Œä½†æ˜¯ç±»ä¼¼æ•°æ®åº“è¿æ¥ã€HTTP çš„ API è¯·æ±‚ä¸­å·²ç»å°è£…ä½¿ç”¨äº† Pool äº†ã€‚</p></blockquote><p>å¦‚æœåœ¨ç¨‹åºä¸­ GC è€—æ—¶ç‰¹åˆ«é«˜ï¼Œå¤§é‡ç›¸åŒçš„ç±»å‹çš„ä¸´æ—¶å¯¹è±¡ä¸æ–­è¿›è¡Œåˆ›å»ºä¸é”€æ¯ï¼Œå¯ä»¥è€ƒè™‘é€šè¿‡ä½¿ç”¨ sync.Pool å¯¹å…¶è¿›è¡Œä¼˜åŒ–æ”¹è‰¯ï¼</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sync</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ…è°ˆ Redis ä¸­é—´ä»¶</title>
    <link href="/2022/03/18/middleware/redis1/"/>
    <url>/2022/03/18/middleware/redis1/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ä¸»è¦æ˜¯æ€»ç»“è‡ªå·±å­¦ä¹  Redis ä¸­é—´ä»¶çš„ç»éªŒï¼Œæ•™ç¨‹æ¥æºäº<a href="https://www.bilibili.com/video/BV1S54y1R7SB">bç«™ç‹‚ç¥è¯´ java çš„ redis æ•™ç¨‹</a></p></blockquote><h2 id="1ã€Redis-æ¦‚å¿µ"><a href="#1ã€Redis-æ¦‚å¿µ" class="headerlink" title="1ã€Redis æ¦‚å¿µ"></a>1ã€Redis æ¦‚å¿µ</h2><p>1ã€Redis æ˜¯åŸºäºè®¡ç®—æœºå†…å­˜çš„æ•°æ®åº“ï¼Œä¸€èˆ¬ç§°ä¸ºç¼“å­˜æ•°æ®åº“ï¼Œç”±äºæ²¡æœ‰å›ºå®šçš„è¡¨ç»“æ„ä¸å…³ç³»ï¼Œä¹Ÿå« NoSQL (Not Only SQL) æ•°æ®åº“ã€‚</p><p>2ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Redisï¼š</p><ul><li>1ã€æ•°æ®çš„çˆ†å‘å¢é•¿</li><li>2ã€æ²¡æœ‰å›ºå®šå…³ç³»çš„æ•°æ®</li></ul><p>3ã€æœ€æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œå®˜æ–¹ä¸å»ºè®®ç›´æ¥åœ¨ win ä¸Šä½¿ç”¨æ“ä½œ redis ï¼Œè€Œæ˜¯ä½¿ç”¨ WSL2 Linux å­ç³»ç»Ÿè¿›è¡Œ redis çš„å¼€å‘ã€‚</p><p>4ã€redis å¸¸è§ä½¿ç”¨åœºæ™¯</p><ul><li>1ã€å†…å­˜ç¼“å­˜</li><li>2ã€ä¸æƒ³ä½¿ç”¨ kafkaï¼Œå¯ä»¥ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—è€Œå­˜åœ¨</li><li>3ã€åšç”µå•†çš„çƒ­ç‚¹æ•°æ®ä¿å­˜ï¼Œå› ä¸ºå¯ä»¥è®¾ç½® TTLã€‚</li><li>4ã€æœ‹å‹åœˆç‚¹èµ</li><li>5ã€åšç§’æ€çš„åº“å­˜</li></ul><h2 id="2ã€Redis-bench-mark-test"><a href="#2ã€Redis-bench-mark-test" class="headerlink" title="2ã€Redis bench-mark test"></a>2ã€Redis bench-mark test</h2><p>ä½¿ç”¨å®˜æ–¹è‡ªå¸¦çš„ redis-benchmark å·¥å…·è¿›è¡Œå‹åŠ›æµ‹è¯•ï¼Œå…¶ä¸­<br>-h ï¼šhost ï¼Œå¯ä»¥æ˜¯æœ¬åœ°ï¼Œä¹Ÿèƒ½æ˜¯è¿œç¨‹è¿›è¡Œå‹åŠ›æµ‹è¯•<br>-p ï¼športï¼Œå³ç«¯å£å·<br>-c ï¼šconnectionï¼Œè¿æ¥çš„ç†Ÿç»ƒï¼ŒåŸºæœ¬ä¸Šè¿æ¥éƒ½æ˜¯åŸºäº tcp&#x2F;socket çš„ã€‚<br>-nï¼šè·Ÿæ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦å·®ä¸å¤šï¼Œå³æŒ‡å®šæ¯ä¸€ä¸ªè¿æ¥æ•°çš„è¯·æ±‚æ¬¡æ•°ã€‚</p><p><code>redis-benchmark  -h localhost -p 6379 -c 100 -n 10000</code></p><p>å¦‚æœéœ€è¦ä¿å­˜å†ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œä¹Ÿèƒ½ä½¿ç”¨ <code>redis-benchmark  -h localhost -p 6379 -c 100 -n 10000 &gt; redis.log</code> å‘½ä»¤</p><h2 id="3ã€Redis-åŸºæœ¬çŸ¥è¯†è¯´æ˜"><a href="#3ã€Redis-åŸºæœ¬çŸ¥è¯†è¯´æ˜" class="headerlink" title="3ã€Redis åŸºæœ¬çŸ¥è¯†è¯´æ˜"></a>3ã€Redis åŸºæœ¬çŸ¥è¯†è¯´æ˜</h2><p>redis é»˜è®¤æœ‰ 16 ä¸ªæ•°æ®åº“ï¼Œé»˜è®¤æ˜¯ç¬¬ 0 ä¸ªæ•°æ®åº“ã€‚</p><p>redis çš„å‘½ä»¤å¤§å°å†™ä¸æ•æ„Ÿï¼Œè€Œå…¶ä¸­çš„ key - value å¤§å°å†™æ•æ„Ÿã€‚å¸¸è§çš„å‘½ä»¤æœ‰ï¼š</p><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">æ•ˆæœ</th></tr></thead><tbody><tr><td align="left">select</td><td align="left">åˆ‡æ¢æ•°æ®åº“</td></tr><tr><td align="left">dbsize</td><td align="left">æŸ¥çœ‹æ•°æ®åº“å¤§å°</td></tr><tr><td align="left">flushdb</td><td align="left">æ¸…ç©ºå½“å‰æ•°æ®åº“æ‰€æœ‰ K-V å€¼</td></tr><tr><td align="left">flushall</td><td align="left">æ¸…ç©º redis æ•°æ®åº“ä¸­æ‰€æœ‰ K-V å€¼</td></tr></tbody></table><p>redis çš„é™åˆ¶è·Ÿ cpu çš„æ€§èƒ½æ— å…³ï¼Œæ€§èƒ½ä¸»è¦å—åˆ¶äºç¡¬ä»¶çš„å†…å­˜ä¸ç½‘ç»œå¸¦å®½ã€‚</p><h2 id="4ã€Redis-ä¸­äº”å¤§åŸºæœ¬ç±»å‹"><a href="#4ã€Redis-ä¸­äº”å¤§åŸºæœ¬ç±»å‹" class="headerlink" title="4ã€Redis ä¸­äº”å¤§åŸºæœ¬ç±»å‹"></a>4ã€Redis ä¸­äº”å¤§åŸºæœ¬ç±»å‹</h2><h3 id="String-ç±»å‹"><a href="#String-ç±»å‹" class="headerlink" title="String ç±»å‹"></a>String ç±»å‹</h3><p>string ç±»å‹ä¸­å¸¸è§çš„å‡ ç§å‘½ä»¤ï¼š</p><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">æ•ˆæœ</th></tr></thead><tbody><tr><td align="left">keys *</td><td align="left">æŸ¥è¯¢æ‰€æœ‰çš„ key å€¼</td></tr><tr><td align="left">type key</td><td align="left">æŸ¥çœ‹ key çš„ç±»å‹</td></tr><tr><td align="left">exist key</td><td align="left">æ˜¯å¦å­˜åœ¨ key</td></tr><tr><td align="left">append key value</td><td align="left">å‘ key ç±»å‹æ·»åŠ æ•°æ®</td></tr><tr><td align="left">incr key</td><td align="left">key çš„ value åŸå­æ€§ + 1</td></tr><tr><td align="left">decr key</td><td align="left">key çš„ value åŸå­æ€§ - 1</td></tr><tr><td align="left">incrby key [numbers]</td><td align="left">key çš„ value åŸå­æ€§ + numbers</td></tr><tr><td align="left">decrby key [numbers]</td><td align="left">key çš„ value åŸå­æ€§ - numbers</td></tr><tr><td align="left">expire key [second]</td><td align="left">è®¾ç½® key çš„è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤æ˜¯ç§’æ•°</td></tr><tr><td align="left">getrange key start end</td><td align="left">å– key çš„ value ä» start åˆ° end</td></tr><tr><td align="left">setrange key offset val</td><td align="left">è®¾ç½® key çš„ value çš„ offset ä½åæ›¿æ¢ä¸º val</td></tr><tr><td align="left">ttl key</td><td align="left">æŸ¥çœ‹ key å‰©ä½™è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤æ˜¯ç§’æ•°</td></tr><tr><td align="left">setex key expire value</td><td align="left">è®¾ç½® key value ä»¥åŠè¿‡æœŸæ—¶é—´ expire</td></tr><tr><td align="left">setnx key value</td><td align="left">å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½® valueï¼Œå­˜åœ¨åˆ™è®¾ç½®å¤±è´¥ï¼ˆåˆ†å¸ƒå¼é”ä½¿ç”¨ï¼Œä¹è§‚é”ï¼‰</td></tr><tr><td align="left">getset key value</td><td align="left">å…ˆå¾—åˆ° key å†è®¾ç½® key value</td></tr></tbody></table><p>getset å‘½ä»¤æœ‰ç‚¹ç±»ä¼¼äº CompareAndSwap è¿™ç§ç±»å‹çš„å€¼ã€‚</p><p>åŒç†ï¼Œè¿˜æœ‰ mset ã€mget ä¸ºæ‰¹é‡è®¾ç½®ï¼ˆéåŸå­æ€§ï¼‰ï¼Œmsetnxã€msetex ç­‰ï¼ˆåŸå­æ€§æ“ä½œï¼‰</p><p>åœ¨ redis ä¸­ï¼Œå¦‚æœè¦è®¾è®¡ä¸€ç§å°è£…ç±»å‹çš„å¯¹è±¡ï¼Œè¯­æ³•å¯ä»¥å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>1ã€set user:1 {name:zhangsan, age : 18}</p><p>2ã€set user:1:name zhangsan user:1:age 18</p><p>string å¸¸è§çš„ä½¿ç”¨åœºæ™¯ä¸ºï¼š</p><ul><li>1ã€è®¡æ•°å™¨</li><li>2ã€ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡</li><li>3ã€ç²‰ä¸æ•°</li><li>4ã€å¯¹è±¡ç¼“å­˜å­˜å‚¨</li></ul><h3 id="Listç±»å‹"><a href="#Listç±»å‹" class="headerlink" title="Listç±»å‹"></a>Listç±»å‹</h3><p>List ç±»å‹ä¸­å¸¸è§çš„å‡ ç§å‘½ä»¤ï¼š</p><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">æ•ˆæœ</th></tr></thead><tbody><tr><td align="left">keys *</td><td align="left">æŸ¥è¯¢æ‰€æœ‰çš„ key å€¼</td></tr><tr><td align="left">lpush [listname] value</td><td align="left">å°† value æ’å…¥ [listname] é˜Ÿå¤´</td></tr><tr><td align="left">lrange [listname] start end</td><td align="left">æŸ¥çœ‹ [listname] ä»é˜Ÿå¤´çš„ start åˆ° end</td></tr><tr><td align="left">lpop [listname]</td><td align="left">å°† [listname] é˜Ÿå¤´çš„å…ƒç´ ç§»é™¤</td></tr><tr><td align="left">lindex [listname] index</td><td align="left">ä»é˜Ÿå¤´å¼€å§‹ç´¢å¼•ç¬¬ index ä¸ªå€¼</td></tr><tr><td align="left">rpush [listname] value</td><td align="left">å°† value æ’å…¥ [listname] é˜Ÿå°¾</td></tr><tr><td align="left">rrange [listname] start end</td><td align="left">æŸ¥çœ‹ [listname] ä»é˜Ÿå°¾çš„ start åˆ° end</td></tr><tr><td align="left">rpop [listname]</td><td align="left">å°† [listname] é˜Ÿå°¾çš„å…ƒç´ ç§»é™¤</td></tr><tr><td align="left">rindex [listname] index</td><td align="left">ä»é˜Ÿå°¾å¼€å§‹ç´¢å¼•ç¬¬ index ä¸ªå€¼</td></tr><tr><td align="left">llen [listname]</td><td align="left">æŸ¥çœ‹ [listname] é•¿åº¦</td></tr><tr><td align="left">lrem [listname] count value</td><td align="left">ç§»é™¤ [listname] ä¸­ count ä¸ªå€¼ä¸º value çš„å€¼</td></tr><tr><td align="left">ltrim [listname] start end</td><td align="left">æˆªæ–­ [listname] ä» start åˆ° end</td></tr></tbody></table><p>List åº•å±‚å®ç°å°±æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œæ‰€ä»¥ä¼˜ç‚¹è·Ÿç¼ºç‚¹éƒ½è·ŸåŒå‘é“¾è¡¨ä¸€æ ·ï¼Œå…·ä½“å¯ä»¥å­¦ä¹ ç›¸åº”æ•°æ®ç»“æ„çš„çŸ¥è¯†ã€‚ç¨‹åºå‘˜çš„å†…åŠŸè¿˜æ˜¯ 408 + ç®—æ³•ã€‚</p><h3 id="Set-ç±»å‹"><a href="#Set-ç±»å‹" class="headerlink" title="Set ç±»å‹"></a>Set ç±»å‹</h3><p>set é›†åˆç±»å‹ï¼Œé‡Œé¢çš„å€¼ä¸é‡å¤ã€‚å…¶ä¸­ä¸€èˆ¬çš„å‘½ä»¤å°±ä¸å†™å¦‚ä¸Šé¢çš„è¡¨æ ¼å‹çš„å‘½ä»¤ï¼Œè¿™é‡Œç›´æ¥ä¸¾ä¾‹äº†ï¼š</p><ul><li>1ã€sadd [setname] value ï¼šå‘ [setname] æ·»åŠ  value</li><li>2ã€spop [setname] value ï¼šå‘ [setname] åˆ é™¤ value</li><li>3ã€smembers  [setname] ï¼šæŸ¥çœ‹ [setname] å†…æ‰€æœ‰å€¼</li><li>4ã€sismember [setname]  value ï¼šåˆ¤æ–­ value æ˜¯å¦å­˜åœ¨ [setname] ä¸­</li><li>5ã€srem [setname] value ï¼šç§»é™¤ [setname]  ä¸­çš„ value </li><li>6ã€srandmember [setname] count ï¼šéšæœºè·å– [setname]  å†…ä¸€ä¸ªå€¼</li><li>7ã€smove source destination value ï¼šå°† value ä» source ç§»åŠ¨åˆ° destination å»</li><li>8ã€sdiff [setname1]  [setname2] ï¼š[setname1] ä¸ [setname2] çš„å·®é›†</li><li>9ã€sinter [setname1]  [setname2] ï¼š[setname1] ä¸ [setname2] çš„äº¤é›†</li><li>10ã€sunion [setname1]  [setname2] ï¼š[setname1] ä¸ [setname2] çš„å¹¶é›†</li></ul><p>set ä¸ºä¸€ä¸ªæ— åºã€ä¸é‡å¤é›†åˆã€‚</p><h3 id="Hash-ç±»å‹"><a href="#Hash-ç±»å‹" class="headerlink" title="Hash ç±»å‹"></a>Hash ç±»å‹</h3><p>å…¶å®å°±æ˜¯å˜ä¸º key - map ç»“æ„ï¼Œåªæ˜¯ä¸€ä¸ª map é›†åˆã€‚</p><blockquote><p>hash ç±»å‹çš„å‘½ä»¤å¤§åŒå°å¼‚ï¼Œåªæ˜¯åœ¨åŸºæœ¬æ“ä½œå‰åŠ ä¸€ä¸ª hã€‚</p><p>å¦‚ hgetã€hsetã€hgetallã€hlenã€hexistsã€hmset ç­‰ã€‚</p><p>å…¶ä¸­ç‹¬æœ‰çš„ç‰¹æ€§å³æ˜¯ï¼š hkeys ä¸ hvals æ˜¯åªè·å– k æˆ– v ï¼Œä»¥åŠ hincrbyã€hdecrby ã€hsetnxã€hsetex ç­‰å‘½ä»¤ã€‚</p></blockquote><p>è™½ç„¶hash ä¸ string å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯ä»ç‰¹ç‚¹æ¥çœ‹ï¼Œhash æ›´é€‚åˆå­˜å‚¨ç»“æ„ä½“å¯¹è±¡ï¼Œstring æ›´åˆé€‚å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹ã€‚</p><h3 id="Zset-ç±»å‹"><a href="#Zset-ç±»å‹" class="headerlink" title="Zset ç±»å‹"></a>Zset ç±»å‹</h3><p>æœ‰åºé›†åˆï¼Œset åŸºç¡€ä¹‹ä¸Šå¢åŠ äº†ä¸€ä¸ªé›†åˆã€‚å¸¸è§å‘½ä»¤ä¹Ÿå°±æ˜¯ zaddã€zrangeã€zrangebyscore xxx -inf +inf (æ­£è´Ÿæ— ç©·çš„é—®é¢˜)ã€zcard(è®°ä¸ªæ•°)ã€zrem åˆ é™¤ã€zcount å…¶ä¸­æ²¡æœ‰ ( ä¸ ) å³æ˜¯é—­åŒºé—´ï¼Œæœ‰ â€œ( â€œ â€œ)â€ æ˜¯å¼€åŒºé—´ï¼Œæ¯”å¤§å°æ—¶å€™ç»å¸¸ä½¿ç”¨çš„æ–¹å¼å¦‚æ­¤ã€‚</p><p>zset ä¸»è¦å­˜å‚¨é‡è¦æ¶ˆæ¯ã€å¸¦æƒé‡è¿›è¡Œåˆ¤æ–­ã€æ’è¡Œæ¦œçš„åº”ç”¨å®ç° Top N æµ‹è¯•ã€‚</p><p>å½“ç„¶æ›´å¤šçš„å‘½ä»¤ï¼Œå¯ä»¥å‰å¾€ <a href="https://redis.io/commands/"> redis çš„å®˜ç½‘</a> è¿›è¡ŒæŸ¥è¯¢å‘½ä»¤ï¼Œä»¥åŠæˆ‘ä»¬ä½¿ç”¨ go ã€java ã€cpp ç­‰è¯­è¨€åšå¼€å‘çš„æ—¶å€™ã€‚ç”¨ java çš„jredisã€go çš„go-redisï¼Œä½¿ç”¨çœ‹æ–‡æ¡£å³å¯ã€‚</p><p>ç¨‹åºè®¾è®¡æœ€é‡è¦çš„æ˜¯è®¾è®¡ï¼Œç¨‹åºæ˜¯åŸºçŸ³ï¼Œè®¾è®¡æ˜¯ä¸Šå±‚å»ºç­‘ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°½é‡æŠŠæ¡è®¾è®¡çš„æ€æƒ³ã€ä»£ç çš„å®ç°ï¼Œè¿™æ˜¯å¾ˆæœ‰é‡è¦æ€§çš„æ¦‚å¿µã€‚</p><p>ä»¥ä¸Šå³æ˜¯äº”å¤§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿˜æœ‰ä¸‰ç§ç‰¹æ®Šçš„æ•°æ®ç±»å‹</p><h2 id="5ã€Redis-ä¸­-ä¸‰å¤§ç‰¹æ®Šæ•°æ®ç±»å‹"><a href="#5ã€Redis-ä¸­-ä¸‰å¤§ç‰¹æ®Šæ•°æ®ç±»å‹" class="headerlink" title="5ã€Redis ä¸­ ä¸‰å¤§ç‰¹æ®Šæ•°æ®ç±»å‹"></a>5ã€Redis ä¸­ ä¸‰å¤§ç‰¹æ®Šæ•°æ®ç±»å‹</h2><h3 id="geospatial"><a href="#geospatial" class="headerlink" title="geospatial"></a>geospatial</h3><p> geospatial åœ¨ redis ä¸­ å³æ˜¯ geoï¼Œåœ¨ redis 3.x ç‰ˆæœ¬å°±å·²ç»æ¨å‡ºäº†ï¼Œå¯ä»¥æ¨ç®—åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œä¸¤åœ°ä¹‹é—´çš„è·ç¦»ã€æ–¹åœ†å‡ é‡Œçš„äººã€‚</p><p>geo api åœ¨ç°åœ¨çš„å®˜ç½‘åªæœ‰ 9 ä¸ªå‘½ä»¤ï¼šgeoaddã€geoposã€geodistã€georadiusã€‚</p><p>å…¶ä¸­ geo çš„åº•å±‚å®ç°è¿˜æ˜¯åŸºäº zsetï¼Œæ‰€ä»¥ zset çš„å‘½ä»¤éƒ½èƒ½æ“ä½œ geo æ•°æ®ç»“æ„ã€‚</p><p>å¦‚æœä¸åšåœ°å›¾åœ°ç†ä¿¡æ¯çš„è¯ï¼ŒåŸºæœ¬ä¸Šé¡¹ç›®å†…ä¸ä¼šä½¿ç”¨æ­¤æ•°æ®ç±»å‹</p><h3 id="hyperloglog"><a href="#hyperloglog" class="headerlink" title="hyperloglog"></a>hyperloglog</h3><p>hyperloglog æ˜¯åŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼Œç”¨äºç½‘é¡µçš„ UV è®¡æ•°ã€‚</p><p>æ­¤æ•°æ®ç»“æ„å ç”¨å†…å­˜éå¸¸å°ï¼Œåªå ç”¨ $2^{64}$ Bï¼Œå³ 12 KB å¤§å°ï¼Œæ‰€ä»¥ä»å†…å­˜è§’åº¦ï¼ŒHyperloglog æ˜¯ä¼˜å…ˆé€‰æ‹©ã€‚</p><p>ä½¿ç”¨å³æ˜¯ pfaddã€pfcountã€pfmerge</p><h3 id="bitmaps"><a href="#bitmaps" class="headerlink" title="bitmaps"></a>bitmaps</h3><p>ä½å›¾ï¼Œè·Ÿæ“ä½œç³»ç»Ÿé‡Œé¢çš„ä¸€æ ·ï¼Œredis é‡Œé¢å¯ä»¥ç»Ÿè®¡ç”¨æˆ·ä¿¡æ¯ï¼šæ´»è·ƒã€ç™»é™†ã€æ‰“å¼€</p><p>æ“ä½œä¸ºï¼š setbit ã€gerbitã€bitcount</p><p>ä»¥ä¸Šçš„æ•°æ®ç»“æ„äº†è§£ä½¿ç”¨å³å¯ï¼Œå…·ä½“çš„åŸç†ï¼Œå¯ä»¥åœ¨å·¥ä½œä¸­ç»§ç»­è¿›è¡Œä¸€ä¸ªå­¦ä¹ ï¼Œç°åœ¨æˆ‘ä»¬ä¸»è¦å­¦ä¹ å…¶ä¸­çš„ä¸€ä¸ªå…·ä½“çš„åœºæ™¯å³å¯ã€‚</p><h2 id="6ã€redis-ä¸­çš„äº‹åŠ¡"><a href="#6ã€redis-ä¸­çš„äº‹åŠ¡" class="headerlink" title="6ã€redis ä¸­çš„äº‹åŠ¡"></a>6ã€redis ä¸­çš„äº‹åŠ¡</h2><p><strong>åœ¨ Redis ä¸­çš„å•æ¡å‘½ä»¤ä¿è¯åŸå­æ€§ï¼Œè€Œå…¶äº‹åŠ¡æ˜¯ä¸ä¿è¯åŸå­æ€§çš„ï¼</strong> äº‹åŠ¡çš„æœ¬è´¨å³æ˜¯ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚äº‹åŠ¡å…·æœ‰ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§ã€‚</p><p>redis ä¸­çš„äº‹åŠ¡æ˜¯æ²¡æœ‰éš”ç¦»æ€§çš„æ¦‚å¿µï¼Œæ²¡æœ‰éš”ç¦»çº§åˆ«ã€‚</p><p>æ‰€æœ‰çš„å‘½ä»¤åœ¨äº‹åŠ¡ä¸­æ²¡æœ‰è¢«æ‰§è¡Œï¼Œå¿…é¡»å‘èµ·æ‰§è¡Œå‘½ä»¤æ—¶å€™ï¼Œäº‹åŠ¡æ‰èƒ½æ‰§è¡Œï¼Œå³ï¼šexec å‘½ä»¤ã€‚</p><p>redis äº‹åŠ¡æ‰§è¡Œæ–¹å¼ï¼š</p><ul><li>å¼€å¯äº‹åŠ¡ (multi)</li><li>å‘½ä»¤å…¥é˜Ÿï¼Œè¿”å›å€¼å‡ä¸º queue </li><li>æ‰§è¡Œäº‹åŠ¡ (exec)</li></ul><p>äº‹åŠ¡ä¹Ÿèƒ½æ”¾å¼ƒï¼Œå‘½ä»¤å³æ˜¯ï¼šdiscard (å³æ”¾å¼ƒäº‹åŠ¡é˜Ÿåˆ—é‡Œçš„æ‰€æœ‰å‘½ä»¤)</p><p>ä»¥ä¸‹ä¸¤ç‚¹å¼‚å¸¸éœ€è¦æ³¨æ„</p><ul><li>1ã€ç¼–è¯‘å‹å¼‚å¸¸ï¼šä»£ç é”™è¯¯ã€é”™è¯¯å‘½ä»¤ï¼Œredis äº‹åŠ¡é˜Ÿåˆ—ä¸ä¼šå»æ‰§è¡Œã€‚</li><li>2ã€è¿è¡Œæ—¶å¼‚å¸¸ï¼šå¦‚æœäº‹åŠ¡é˜Ÿåˆ—ä¸­å­˜åœ¨è¯­æ³•æ€§ï¼Œé‚£ä¹ˆæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œåªæ”¾å¼ƒå‘½ä»¤å‘½ä»¤é”™è¯¯çš„é‚£å‡ æ¡ã€‚</li><li>3ã€<strong>æ³¨æ„ï¼šé”™è¯¯å‘½ä»¤ä¸å‘½ä»¤é”™è¯¯è¿™ä¸¤ç§è¯´æ³•çš„åŒºåˆ«</strong></li></ul><h2 id="7ã€Redis-å®ç°ä¹è§‚é”"><a href="#7ã€Redis-å®ç°ä¹è§‚é”" class="headerlink" title="7ã€Redis å®ç°ä¹è§‚é”"></a>7ã€Redis å®ç°ä¹è§‚é”</h2><p>ä¹è§‚é”ï¼šåªä¼šåœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹ï¼Œåœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰ä¿®æ”¹è¿‡æ•°æ®ã€‚</p><p>æ‰€ä»¥ä½¿ç”¨ watch å‘½ä»¤å¯¹ key å€¼è¿›è¡Œç›‘è§†å³å¯ã€‚ä¿®æ”¹å¤±è´¥ï¼Œç”¨ unwatch è§£é”ï¼Œå† watch keyï¼Œå³å¯ã€‚</p><h2 id="8ã€Go-è¿æ¥æ“ä½œ-Redis-æ•°æ®åº“"><a href="#8ã€Go-è¿æ¥æ“ä½œ-Redis-æ•°æ®åº“" class="headerlink" title="8ã€Go è¿æ¥æ“ä½œ Redis æ•°æ®åº“"></a>8ã€Go è¿æ¥æ“ä½œ Redis æ•°æ®åº“</h2><h2 id="9ã€Redis-Conf-é…ç½®æ–‡ä»¶"><a href="#9ã€Redis-Conf-é…ç½®æ–‡ä»¶" class="headerlink" title="9ã€Redis.Conf é…ç½®æ–‡ä»¶"></a>9ã€Redis.Conf é…ç½®æ–‡ä»¶</h2><p>redis.conf éœ€è¦é‡ç‚¹ç†è§£ä¸€ä¸‹ã€‚</p><p>redis å¤§å°å†™ä¸æ•æ„Ÿåœ¨é…ç½®æ–‡ä»¶ä¸­å·²ç»è¯´æ˜äº†ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">daemonize  <span class="token function">yes</span> <span class="token comment"># åå°å®ˆæŠ¤è¿›ç¨‹å¼€å¯ï¼Œé»˜è®¤ä¸º no ã€‚</span>pidfile /var/run/redis_6379.pid <span class="token comment"># åå°è¿è¡Œçš„ pid å€¼</span>save <span class="token number">900</span> <span class="token number">1</span> <span class="token comment"># å¿«ç…§ 900s å†…ä¿®æ”¹ä¸€ä¸ªï¼Œå°±è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡ã€‚</span>save <span class="token number">300</span> <span class="token number">10</span> save <span class="token number">60</span> <span class="token number">10000</span>config get / <span class="token builtin class-name">set</span> requirepass  <span class="token comment"># è®¾ç½® redis çš„å®‰å…¨å¯†ç </span>maxmemory-policy <span class="token comment"># å†…å­˜åˆ°è¾¾ä¸Šé™çš„å¤„ç†æ”¿ç­–ã€‚ä¸€èˆ¬ä»¥ä¸‹ 6 ä¸­å¤„ç†æ–¹æ³•</span><span class="token number">1</span>ã€volatile-lru <span class="token builtin class-name">:</span> ç›´å¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„ key è¿›è¡Œ lru <span class="token number">2</span>ã€allkeys-lru<span class="token number">3</span>ã€volatile-random éšæœºåˆ é™¤è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„ key <span class="token number">4</span>ã€allkeys-lru<span class="token number">5</span>ã€volatile-ttl åˆ é™¤å³å°†è¿‡æœŸçš„<span class="token number">6</span>ã€noeviction æ°¸ä¸è¿‡æœŸï¼Œè¿”å›é”™è¯¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="10ã€AOF-ä¸-RDB"><a href="#10ã€AOF-ä¸-RDB" class="headerlink" title="10ã€AOF ä¸ RDB"></a>10ã€AOF ä¸ RDB</h2><p>åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼ŒRDB æ˜¯é»˜è®¤çš„æŒä¹…åŒ–é…ç½®ï¼Œå¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹éƒ½å¤Ÿç”¨äº†ã€‚</p><p>ä¸€èˆ¬è¿›è¡Œæ•°æ®æŒä¹…åŒ–çš„ä¿å­˜æ“ä½œè¿‡ç¨‹ä¸€èˆ¬åˆ†ä¸ºäº”æ­¥ï¼š</p><blockquote><p>(1) å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å†™æ“ä½œ (æ•°æ®åœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­);</p><p>(2) æ•°æ®åº“æœåŠ¡ç«¯æ¥æ”¶åˆ°å†™è¯·æ±‚çš„æ•°æ® (æ•°æ®åœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­);</p><p>(3) æœåŠ¡ç«¯è°ƒç”¨ç³»ç»Ÿè°ƒç”¨å‡½æ•° writeï¼Œå°†æ•°æ®å†™å…¥ç£ç›˜ (æ•°æ®åœ¨ç³»ç»Ÿå†…å­˜çš„ç¼“å†²åŒºä¸­);</p><p>(4) æ“ä½œç³»ç»Ÿå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è½¬ç§»åˆ°ç£ç›˜æ§åˆ¶å™¨ä¸Š (æ•°æ®åœ¨ç£ç›˜ç¼“å­˜ä¸­);</p><p>(5) ç£ç›˜æ§åˆ¶å™¨å°†æ•°æ®å†™åˆ°ç£ç›˜çš„ç‰©ç†ä»‹è´¨ä¸­ (æ•°æ®çœŸæ­£è½åˆ°ç£ç›˜ä¸Š);</p></blockquote><p>ä»¥ä¸Šäº”ä¸ªæ­¥éª¤ä¸ºåœ¨ç†æƒ³æ¡ä»¶ä¸‹ï¼Œä¸€ä¸ªæ­£å¸¸çš„ä¿å­˜æµç¨‹ã€‚ä½†æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æœºå™¨ç­‰ç­‰éƒ½ä¼šæœ‰å„ç§å„æ ·çš„æ•…éšœï¼Œè¿™é‡Œåˆ’åˆ†äº†ä¸¤ç§æƒ…å†µï¼š</p><blockquote><p>1ã€Redisæ•°æ®åº“å‘ç”Ÿæ•…éšœï¼Œåªè¦åœ¨ä¸Šé¢çš„ç¬¬ä¸‰æ­¥æ‰§è¡Œå®Œæ¯•ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒä¹…åŒ–ä¿å­˜ï¼Œå‰©ä¸‹çš„ä¸¤æ­¥ç”±æ“ä½œç³»ç»Ÿæ›¿æˆ‘ä»¬å®Œæˆ;</p><p>2ã€æ“ä½œç³»ç»Ÿå‘ç”Ÿæ•…éšœï¼Œå¿…é¡»ä¸Šé¢ 5 æ­¥éƒ½å®Œæˆæ‰å¯ä¿å­˜ã€‚</p></blockquote><h3 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h3><p>RDB (Redis DataBase) æ“ä½œæ˜¯<strong>åœ¨å†…å­˜ä¸­çš„æ•°æ®åº“è®°å½•å®šæ—¶dumpåˆ°ç£ç›˜ä¸Šçš„RDBæŒä¹…åŒ–</strong>ã€‚è¿™ç§æ–¹å¼æ˜¯å°±æ˜¯å°†å†…å­˜ä¸­æ•°æ®ä»¥å¿«ç…§çš„æ–¹å¼å†™å…¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­, é»˜è®¤çš„æ–‡ä»¶åä¸º dump.rdbï¼Œä¸‹åˆ—ä»£ç ä¸å›¾ä¸º RDB çš„å­˜å‚¨å­—èŠ‚æµçš„å†…å®¹æ ¼å¼ã€‚</p><p><img src="/images/SQL/RDB.jpg" alt="RDB"></p><p>åœ¨æ‰§è¡Œ RDB å¿«ç…§å¤‡ä»½æ—¶å€™ï¼Œä¸€èˆ¬ä¼šé€šè¿‡çˆ¶è¿›ç¨‹ï¼Œfork ä¸€ä¸ªå­è¿›ç¨‹ï¼Œå°†æ•°æ®å†™åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¿«ç…§å†™å®Œåï¼Œæ›¿æ¢åŸæ¥çš„å¿«ç…§æ–‡ä»¶ï¼Œå­è¿›ç¨‹å°±é€€å‡ºï¼Œä¸´æ—¶æ–‡ä»¶å˜æˆæ­£å¼çš„ RDB æ–‡ä»¶ã€‚</p><p>ä½†æ˜¯ RDB å¯¹æ•°æ®çš„å®Œæ•´æ€§ä¸æ•æ„Ÿï¼Œæœ€åä¸€æ¬¡æŒä¹…åŒ–ä¹‹åçš„æ•°æ®åœ¨å®•æœºåå¯èƒ½ä¸¢å¤±ã€‚</p><p>RDB æ–‡ä»¶é»˜è®¤çš„ä¿å­˜æ–‡ä»¶åç§°ä¸º dump.rdb</p><p>RDB çš„è§¦å‘æ¡ä»¶å¦‚ä¸‹ï¼š</p><p>1ã€æ»¡è¶³é»˜è®¤çš„ save  æ¡ä»¶ï¼Œä¼šè§¦å‘ rdb è§„åˆ™<br>2ã€æ‰§è¡Œ flushallï¼Œä¹Ÿä¼šè§¦å‘ rdb è§„åˆ™<br>3ã€é€€å‡º redisï¼Œä¹Ÿä¼šäº§ç”Ÿ rdb æ–‡ä»¶</p><p>RDB çš„æ¢å¤æ¡ä»¶å¦‚ä¸‹ï¼š</p><p>1ã€å°† dump.rdb æ–‡ä»¶æ”¾åœ¨redis å¯åŠ¨ç›®å½•å³å¯ï¼Œredis ä¼šè‡ªåŠ¨æ£€æŸ¥å…¶ä¸­çš„æ•°æ®å¹¶æ¢å¤<br>2ã€æŸ¥çœ‹éœ€è¦å­˜åœ¨çš„ä½ç½®ï¼š redis-cli ä¸­ config get dir å³å¯ã€‚</p><p>rdb é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤ï¼Œä½†æ˜¯éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›ç¨‹æ“ä½œã€‚</p><p>RDB å…·ä½“æ›´è¯¦ç»†çš„å†…å®¹è¯·çœ‹æ­¤åšå®¢ï¼š <a href="https://blog.csdn.net/damanchen/article/details/103326964">RDBæ–‡ä»¶æ ¼å¼</a></p><h3 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h3><p>AOF (Append Only File) ï¼Œè®°å½•æœåŠ¡å™¨æ‰§è¡Œçš„ <strong>æ‰€æœ‰å†™æ“ä½œ</strong> å‘½ä»¤ï¼Œç±»ä¼¼äº Mysql ä¸­çš„æ—¥å¿—ã€‚åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œé€šè¿‡é‡æ–°æ‰§è¡Œ AOF è¿™äº›å‘½ä»¤æ¥è¿˜åŸæ•°æ®é›†ï¼Œç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸º appendonly.aofï¼Œé»˜è®¤ä¸å¼€å¯ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œå¯åŠ¨ï¼</p><p>å…¶ä»–ç›¸åº”çš„é…ç½®å¯ä»¥æŸ¥çœ‹ redis çš„ç›¸åº”çš„conf æ–‡ä»¶ã€‚æ¯”å¦‚ append asyncã€auto-aof-rewrite-percentageã€auto-aof-rewrite-min-size ç­‰ã€‚</p><p>aof æ–‡ä»¶å¤§å°å¤§äº 64mb åå°±ä¼šäº§ç”Ÿé‡å†™çš„æ“ä½œã€‚ </p><p>å½“ aof æ–‡ä»¶å‡ºç°é—®é¢˜æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>redis-check-aof --fix</code> å·¥å…·å¯¹ aof æ–‡ä»¶è¿›è¡Œä¿®å¤ã€‚</p><p>aof åŒæ­¥è®¾ç½®ï¼š</p><ul><li>1ã€æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½ä¼šåŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´æ€§ä¼šæ›´å¥½ï¼›</li><li>2ã€æ¯ 1s åŒæ­¥ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šä¸¢å¤± 1s çš„æ•°æ®ï¼›</li><li>3ã€ä¸åŒæ­¥æ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚</li></ul><p>å¯¹æ¯” aof ä¸ rdbï¼Œaof æ˜¯æ–‡ä»¶è¯»å†™æµæ“ä½œï¼Œæ‰€ä»¥è¿è¡Œæ•ˆç‡æ¯”rdbä½ï¼Œæ•°æ®æ–‡ä»¶ä¹Ÿæ¯”rdbå¤§ï¼Œä¿®å¤æ•°æ®çš„é€Ÿåº¦ä¹Ÿæ¯” rdb æ…¢ã€‚</p><p>Redis è¿˜å¯ä»¥<strong>åŒæ—¶ä½¿ç”¨ AOF æŒä¹…åŒ–å’Œ RDB æŒä¹…åŒ–</strong>ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ å½“ Redis é‡å¯æ—¶ï¼Œ å®ƒä¼šä¼˜å…ˆä½¿ç”¨ AOF æ–‡ä»¶æ¥è¿˜åŸæ•°æ®é›†ï¼Œ å› ä¸º AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†é€šå¸¸æ¯” RDB æ–‡ä»¶æ‰€ä¿å­˜çš„æ•°æ®é›†æ›´å®Œæ•´ã€‚</p><h2 id="Redis-å‘å¸ƒä¸è®¢é˜…"><a href="#Redis-å‘å¸ƒä¸è®¢é˜…" class="headerlink" title="Redis å‘å¸ƒä¸è®¢é˜…"></a>Redis å‘å¸ƒä¸è®¢é˜…</h2><p>å‘å¸ƒè®¢é˜… ( pub &#x2F; sub ) æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡çš„æ¨¡å‹ï¼Œå‘é€è€…å‘é€æ¶ˆæ¯ï¼Œæ¥æ”¶è€…æ¥å—æ¶ˆæ¯ã€‚ä¸€èˆ¬æ­¤æ¨¡å‹æ¶‰åŠä¸‰ç§å¯¹è±¡ï¼š</p><blockquote><p>1ã€æ¶ˆæ¯å‘é€è€…</p><p>2ã€é¢‘é“</p><p>3ã€æ¶ˆæ¯è®¢é˜…è€…</p></blockquote><p>æ¨¡å‹çš„è§†å›¾å¦‚ä¸‹ï¼š</p><p><img src="/images/middleware/redis-pub-sub.png" alt="redis-pub-sub"></p><p>redis çš„å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ï¼Œå…¶ç›¸åº”çš„æ“ä½œæ–‡æ¡£å¯ä»¥å‚è€ƒå‰æ–‡çš„ redis å®˜æ–¹æ–‡æ¡£ï¼Œæœ¬åšå®¢åªæ˜¯ä»‹ç»ç›¸åº” redis pub &#x2F; sub æ¨¡å‹çš„æ¦‚å¿µä¸åŸç†ã€‚</p><h2 id="Redis-ä¸»ä»å¤åˆ¶"><a href="#Redis-ä¸»ä»å¤åˆ¶" class="headerlink" title="Redis ä¸»ä»å¤åˆ¶"></a>Redis ä¸»ä»å¤åˆ¶</h2><p>åªè¦åœ¨ä¼ä¸šä¸­ï¼Œ Redis é›†ç¾¤æ˜¯å¿…ç”¨çš„ï¼Œå…¶æ¶æ„é€šå¸¸ä¸ºä¸»ä»æ¨¡å¼ï¼Œä¸€ä¸ªä¸»èŠ‚ç‚¹æœ‰å¤šä¸ªä»èŠ‚ç‚¹ï¼Œä¸€ä¸ªä»èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚</p><p><strong>ä¸»ä»å¤åˆ¶çš„ä½œç”¨å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><ul><li>1ã€æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶æ˜¯å¯ä»¥çƒ­å¤‡ä»½çš„ï¼Œæ˜¯åŒºåˆ«äº redis æŒä¹…åŒ–çš„å¦å¤–ä¸€ç§æ•°æ®å†—ä½™çš„æ–¹å¼</li><li>2ã€æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°æ•…éšœçš„å¿«é€Ÿæ¢å¤ï¼Œä¹Ÿèƒ½ç§°ä¸ºæœåŠ¡å†—ä½™</li><li>3ã€è´Ÿè½½å‡è¡¡ï¼šä¸»ä»æ¶æ„ä¸»è¦æ˜¯ä¸€ç§å¤šè¯»å°‘å†™å‹çš„æ¶æ„æ¨¡å¼ï¼Œé€šè¿‡å¤šä¸ª redis æœåŠ¡å™¨åˆ†æ‹…è¯»çš„è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æå‡ redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚</li><li>4ã€é«˜å¯ç”¨çš„åŸºçŸ³ï¼šä¸»ä»å¤åˆ¶æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å®æ–½çš„åŸºç¡€ï¼Œæ‰€ä»¥è¯´æ˜¯åŸºçŸ³ã€‚</li></ul><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œå•ä½“ redis æœåŠ¡å™¨ä¸€æ—¦å‘ç”Ÿå•ç‚¹æ•…éšœï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½ä¼šä¸¢å¤±è‡³å°‘ 1s ä»¥ä¸Šçš„æ•°æ®ï¼Œå¹¶ä¸”å•ä½“redis éœ€è¦å¤„ç†æ‰€æœ‰çš„è¯·æ±‚è´Ÿè½½ï¼Œå‹åŠ›è¾ƒå¤§ã€‚</p><p>è€Œä¸”ï¼Œå•ä½“ redis ç”±äºæœåŠ¡å™¨çš„å†…å­˜æœ‰é™ï¼Œä¸å¯èƒ½è®©æœåŠ¡å™¨å†…å­˜å…¨éƒ¨äº¤ç»™ redis è¿›è¡Œæ•°æ®å­˜å‚¨ã€‚å•å° redis å†…å­˜å ç”¨ä¸åº”è¶…è¿‡ 20GB ã€‚</p></blockquote><p><code>info replication</code> è¡¨ç¤ºæŸ¥çœ‹å½“å‰çš„ redis æœåŠ¡å™¨çš„è§’è‰²ä¿¡æ¯</p><p>å®ç° redis é›†ç¾¤æ¨¡å¼åªéœ€è¦ä¿®æ”¹ä¸‰ä¸ªé…ç½®å±æ€§å³å¯ï¼Œç„¶åä½¿ç”¨ redis å¯åŠ¨æ­¤ä¸‰ä¸ªé…ç½®å³å¯ï¼š</p><ul><li>1ã€ç«¯å£</li><li>2ã€pid</li><li>3ã€log æ–‡ä»¶å</li></ul><p>é…ç½®ä»æœºæ—¶å€™ï¼Œä½¿ç”¨ <code>slaveof + host + port</code>  å³å¯é…ç½®ä¸»ä»å½¢å¼ï¼Œä½†æ˜¯ä¸€æ—¦æ­¤redis é‡å¯åï¼Œé…ç½®æ–‡ä»¶é‡ç½®ï¼Œè‹¥éœ€è¦é…ç½®æŒä¹…åŒ–çš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½® redis.conf é…ç½®æ–‡ä»¶ã€‚å…·ä½“å¯çœ‹ redis çš„è¯¦ç»†é…ç½®æ–‡ä»¶ã€‚</p><p>ä¸»ä»å¤åˆ¶ä¸€èˆ¬ä¸¤ç§å½¢å¼ï¼šå…¨é‡å¤åˆ¶ä¸å¢é‡å¤åˆ¶ã€‚å…¶ä¸­ï¼Œä½†å‡¡ä»æœºåªè¦æ˜¯é‡æ–°è¿æ¥ä¸»æœºï¼Œéƒ½ä¼šå‘ç”Ÿä¸€æ¬¡å…¨é‡å¤åˆ¶ã€‚</p><hr><p>æœ¬ç¯‡åšå®¢ä¸»è¦ä»‹ç»ç›¸åº”çš„ä½¿ç”¨æ–¹æ³•ï¼Œæµ…è°ˆä¸€ä¸‹åŸç†ï¼Œæ–°å¼€ä¸€ä¸ªåšå®¢ï¼Œç”¨äºè‡ªå·±å¯¹ redis çš„åº•å±‚æºç ä¸åŸç†è¿›è¡Œè¿›ä¸€æ­¥çš„æ·±å…¥ç†è§£ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¼€æºçš„æ€è€ƒ</title>
    <link href="/2022/03/16/go/interview/opensouce/"/>
    <url>/2022/03/16/go/interview/opensouce/</url>
    
    <content type="html"><![CDATA[<p>æœ¬äººæ˜¯æ›¾ç»çš„èŒä¸šè§„åˆ’æ˜¯ï¼Œåœ¨è¯»ç ”åå­¦ä¹  NLPã€CV ç­‰é¢†åŸŸçš„ç®—æ³•è®ºæ–‡ï¼Œè€Œåå‘ç€ç®—æ³•å·¥ç¨‹å¸ˆçš„æ–¹å‘è¿›è¡ŒåŠªåŠ›ã€‚è€Œè¿‘å‡ å¹´çš„è€ƒç ”éš¾åº¦ä»¥åŠè¡Œä¸šçš„å½¢å¼å¯¼è‡´è‡ªå·±çš„æœŸå¾…ä¸æœŸæœ›æˆäº†æ³¡æ²«ï¼š</p><h3 id="1ã€ä¸è¯»-985-211ï¼Œç®—æ³•å·¥ç¨‹å¸ˆåŸºæœ¬åšä¸äº†"><a href="#1ã€ä¸è¯»-985-211ï¼Œç®—æ³•å·¥ç¨‹å¸ˆåŸºæœ¬åšä¸äº†" class="headerlink" title="1ã€ä¸è¯» 985&#x2F;211ï¼Œç®—æ³•å·¥ç¨‹å¸ˆåŸºæœ¬åšä¸äº†"></a><strong>1ã€ä¸è¯» 985&#x2F;211ï¼Œç®—æ³•å·¥ç¨‹å¸ˆåŸºæœ¬åšä¸äº†</strong></h3><h3 id="2ã€è€ƒç ”çƒ­é—¨ç¨‹åº¦å¼‚å¸¸ç«çˆ†ï¼Œä¸ºä»€ä¹ˆè€ƒç ”çš„æƒ³æ³•è¶Šæ¥è¶Šå›°æ‰°è‡ªå·±"><a href="#2ã€è€ƒç ”çƒ­é—¨ç¨‹åº¦å¼‚å¸¸ç«çˆ†ï¼Œä¸ºä»€ä¹ˆè€ƒç ”çš„æƒ³æ³•è¶Šæ¥è¶Šå›°æ‰°è‡ªå·±" class="headerlink" title="2ã€è€ƒç ”çƒ­é—¨ç¨‹åº¦å¼‚å¸¸ç«çˆ†ï¼Œä¸ºä»€ä¹ˆè€ƒç ”çš„æƒ³æ³•è¶Šæ¥è¶Šå›°æ‰°è‡ªå·±"></a><strong>2ã€è€ƒç ”çƒ­é—¨ç¨‹åº¦å¼‚å¸¸ç«çˆ†ï¼Œä¸ºä»€ä¹ˆè€ƒç ”çš„æƒ³æ³•è¶Šæ¥è¶Šå›°æ‰°è‡ªå·±</strong></h3><p>æ‰€ä»¥è¯´ï¼Œåœ¨äºŒæˆ˜ä¹Ÿæœªèƒ½è¾¾åˆ°åæ ¡çš„åˆ†æ•°çº¿åï¼Œè‡ªå·±æ¯…ç„¶å†³å®šï¼Œä¸è°ƒå‰‚ï¼ŒæŠ•å…¥ç¤¾ä¼šè¿›è¡Œå­¦ä¹ ä¸å·¥ä½œã€‚</p><p>ä½†æ˜¯å›°æ‰°è‡ªå·±çš„é—®é¢˜å‡ºç°äº†ï¼Œå­¦ä¹ ä»€ä¹ˆæ ·çš„æŠ€æœ¯ã€å‘ä»€ä¹ˆæ ·çš„è¡Œä¸šå‘å±•ï¼Œæˆä¸ºè‡ªå·±çš„ä¸€å¤§å›°æƒ‘ã€‚é€šè¿‡ä¸€æ®µæ—¶é—´çš„è‡ªæˆ‘è®¤çŸ¥ä¸è‡ªæˆ‘åçœï¼Œæƒ³åˆ°äº†è‡ªå·±æ›¾ç»å¤§ä¸‰æ—¶å€™å­¦ä¹ çš„ go è¯­è¨€ï¼Œå¹¶ä¸”ä½¿ç”¨ beego æ¡†æ¶è¿›è¡Œç›¸åº”çš„ç®€æ˜“åšå®¢å¼€å‘ï¼Œæ‰€ä»¥æ–¹å‘æ˜¯ go è¯­è¨€å·¥ç¨‹å¸ˆï¼Œgo è¯­è¨€ä¸­çš„å‡ ä¸ªæ–¹å‘ï¼šäº‘åŸç”Ÿã€å¾®æœåŠ¡ã€é«˜æ€§èƒ½ APIã€æœåŠ¡å™¨ç«¯å¼€å‘ã€æ¸¸æˆå¼€å‘ã€‚è‡ªå·±è¿™å‡ ä¸ªæ–¹å‘éƒ½è¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢çš„ï¼Œæ›´åšå®šäº†è‡ªå·±ä½¿ç”¨ go è¯­è¨€è¿›è¡Œæ‰¾å·¥ä½œçš„å†³å¿ƒã€‚</p><p>è€Œåœ¨ä»Šå¤©çœ‹åˆ°å¯¹äº<a href="https://blog.csdn.net/csdnnews/article/details/110508201">äº‘åŸç”Ÿç¤¾åŒºå¯¹ APISIX çš„è”åˆåˆ›å§‹äºº&amp;CEO æ¸©é“­åšçš„é‡‡è®¿</a>ï¼Œè™½ç„¶å·²ç»è¿‡å»äº†ä¸€å¹´å¤šçš„æ—¶é—´ï¼Œä½†æ˜¯å…¶ä¸­å‡ ä¸ªè§‚ç‚¹ï¼Œæˆ‘ä¹Ÿæ˜¯éå¸¸è®¤å¯å…¶ä¸­çš„ç†å¿µï¼š</p><blockquote><p>1ã€å¼€æºæ¯”ä¸šåŠ¡ä»£ç æ›´æœ‰æ„ä¹‰</p><p>2ã€å¼€æºçš„æœ¬è´¨æ˜¯è¦æ‹¿å¼€å‘è€…çš„æ æ†</p><p>3ã€Apache çš„ç†å¿µæ˜¯ç¤¾åŒºæ¯”ä»£ç æ›´é‡è¦</p></blockquote><p>æ›´å…·ä½“çš„ä¸€äº›è¯è¯­å¯ä»¥æŸ¥çœ‹ç›¸åº”çš„é‡‡è®¿åšå®¢ã€‚</p><p>è‡ªå·±çš„ç¡®éå¸¸å–œæ¬¢å¼€æºç¤¾åŒºï¼Œä¹Ÿååˆ†è®¤åŒå¼€æºçš„ç†å¿µï¼Œå°±æ˜¯èƒ½è®©è‡ªå·±çš„æ™ºæ…§ä»¥åŠä¸æ–­å‘å±•çš„èƒ½åŠ›ï¼Œç»™å¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>open-source</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 å¹´ 11 å‘¨æ€»ç»“</title>
    <link href="/2022/03/14/summary/22-3-14/"/>
    <url>/2022/03/14/summary/22-3-14/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸Šä¸€å‘¨æ²¡æ€ä¹ˆå†™åšå®¢ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ä¸Šä¸€å‘¨æ‚äº‹æ¯”è¾ƒå¤šï¼Œç†è®ºæ–¹å‘çš„å­¦ä¹ å°‘ï¼›ç¬¬äºŒå°±æ˜¯è·Ÿå¤§ä½¬äº¤æµï¼Œå‘ç°è‡ªå·±å­˜åœ¨æ‰¾åŸå› æ€§çš„æ€ç»´æ–¹å¼ï¼Œéœ€è¦è½¬å˜è‡ªå·±çš„æ€ç»´ã€‚å› æ­¤ï¼Œä¸€æ®µæ—¶é—´å†™ä¸€æ¬¡æ€»ç»“æ€§çš„åšå®¢æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p></blockquote><h2 id="1ã€å…³äºæ±‚èŒ"><a href="#1ã€å…³äºæ±‚èŒ" class="headerlink" title="1ã€å…³äºæ±‚èŒ"></a>1ã€å…³äºæ±‚èŒ</h2><p>é¦–å…ˆï¼Œå¤§ä½¬æé†’æˆ‘ï¼Œ<strong>è¦å»ºç«‹æ¨¡æ¿åŒ–ã€æ¨¡å—åŒ–çš„æ±‚èŒæ€è·¯ï¼Œå¦‚é¢è¯•ä¹‹å‰éœ€è¦æœé›†ç›¸å…³çš„èµ„æ–™ï¼Œä¸»è¦å…³æ³¨ä»¥ä¸‹å››ç‚¹ï¼š</strong></p><ul><li>1ã€å…¬å¸çš„åç§°</li><li>2ã€å…¬å¸çš„<strong>æ ¸å¿ƒäº§å“</strong></li><li>3ã€å…¬å¸çš„äº§å“çš„ä¸»è¦<strong>å—ä¼—äººç¾¤</strong></li><li>4ã€å…¬å¸æ‹›è˜çš„<strong>å²—ä½èŒè´£ã€ç»è¥çŠ¶å†µã€çœŸå®ä¸šåŠ¡éœ€æ±‚</strong></li></ul><p>â€‹ åœ¨æ–°å…¥èŒåœºçš„åˆæœŸï¼Œå¯ä»¥è€ƒè™‘å¤šå¾€å‡ ä¸ªæ–¹å‘å»æŠ•ç®€å†ï¼Œæˆ‘å¸Œæœ›<strong>æœªæ¥ 3-5 å¹´ä»äº‹ Go è¯­è¨€çš„å·¥ç¨‹å¸ˆå²—ä½</strong>ï¼Œè€Œåœ¨ Go è¯­è¨€çš„å‘å±•æ–¹å‘ä¸­ï¼Œä»¥ä¸‹å››ç§å‘å±•æ–¹å‘æ˜¯æˆ‘æœ€å¸Œæœ›å‘å±•çš„ï¼š<strong>äº‘ä¸­ä»¶ã€å¾®æœåŠ¡ã€é«˜æ€§èƒ½ APIã€æ¸¸æˆåç«¯æœåŠ¡å™¨å¼€å‘</strong>ã€‚</p><p>â€‹ è€Œåå†ä»å¤§å‚ã€ä¸­å°å‚ã€åˆ›ä¸šå…¬å¸å»æœé›†å²—ä½ä¿¡æ¯ä»¥åŠå²—ä½æ‰€å¯¹åº”çš„äº§å“å›¢é˜Ÿç­‰ï¼Œåœ¨ä»¥ä¸Šå››ç§æ–¹å‘ä¸­é€‰å…¬å¸è¿›è¡ŒæŠ•ç®€å†ï¼Œè¿™æ ·æ‰èƒ½äº†è§£å…¬å¸éœ€æ±‚ï¼ŒæŒæ¡è¶³å¤Ÿå¤šçš„ä¿¡æ¯çš„æƒ…å†µä¸‹æ‹¿åˆ°å²—ä½çš„ offer ã€‚</p><h2 id="2ã€å…³äºè‡ªèº«çš„æˆé•¿"><a href="#2ã€å…³äºè‡ªèº«çš„æˆé•¿" class="headerlink" title="2ã€å…³äºè‡ªèº«çš„æˆé•¿"></a>2ã€å…³äºè‡ªèº«çš„æˆé•¿</h2><p>é¦–å…ˆï¼Œèƒ½è¿›å…¬å¸å†å¯¹å…¬å¸çš„ä¸šåŠ¡è¿›è¡Œé’»ç ”æ˜¯æœ€èƒ½è¿…é€Ÿæå‡çš„æ–¹å¼ï¼Œå‰ææ˜¯å¾—å…ˆè¿›å»ã€‚</p><p>é‚£ä¹ˆè¿›ä¸å»å…¬å¸çš„ä¸šåŠ¡å¦‚ä½•è¿›è¡Œä¸€ä¸ªè¿…é€Ÿçš„æå‡å‘¢ï¼Œä¸€èˆ¬åƒæˆ‘ä»¬é€šè¿‡è‡ªå­¦æå‡ï¼Œæµç¨‹å…ˆæ˜¯çœ‹è§†é¢‘ -&gt; çœ‹ä¹¦ - &gt; å®è·µã€‚è€Œçœ‹è§†é¢‘åªæ˜¯è·Ÿéšåˆ«äººçš„æ€è·¯æ¥å†™é¡¹ç›®ï¼Œè™½ç„¶èƒ½å¿«é€Ÿæµè§ˆé¡¹ç›®ï¼Œä½†é¡¹ç›®çš„è®¾è®¡ã€è‡ªå·±çš„å¯¹é¡¹ç›®çš„æŠŠæ¡èƒ½åŠ›éƒ½ä¸å¤Ÿï¼ŒåŒ…æ‹¬çœ‹ä¹¦ä¹Ÿå¦‚æ­¤ã€‚</p><p>æŸ¥çœ‹å²—ä½çš„èŒè´£ä¸éœ€è¦æŒæ¡ç›¸åº”çš„åŸºç¡€æŠ€èƒ½ï¼Œå¦‚ä¸‹ï¼š</p><blockquote><p>1ã€è®¡ç®—æœºæˆ–ç›¸å…³ä¸“ä¸šæ¯•ä¸š,æœ¬ç§‘åŠä»¥ä¸Šå­¦å†,ç†Ÿæ‚‰ TCP&#x2F;IPã€HTTP ç­‰åè®®ï¼Œæœ‰æ‰å®çš„ç½‘ç»œã€å­˜å‚¨ã€å®‰å…¨ã€è®¡ç®—æœºä½“ç³»ç»“æ„æ–¹é¢çš„çŸ¥è¯†,ç²¾é€š Linux æ“ä½œç³»ç»Ÿ,ç²¾é€š C&#x2F;C++&#x2F;Python&#x2F;Go ä»»æ„ä¸€é—¨è¯­è¨€ï¼Œç†Ÿæ‚‰ shell è„šæœ¬</p><p>2ã€ç†Ÿç»ƒæŒæ¡ MySQL æ•°æ®åº“ï¼Œç†Ÿæ‚‰ MySQL ä½¿ç”¨åŠåŸºç¡€ä¼˜åŒ–ï¼Œç†Ÿæ‚‰ä¸»æµçš„éå…³ç³»å‹æ•°æ®åº“ã€ç¼“å­˜æŠ€æœ¯ (Redisã€Memcached ç­‰)</p><p>3ã€æœ‰ç›‘æ§ã€CI&#x2F;CDã€DEVOPS ç›¸å…³å·¥ä½œç»éªŒè€…ä¼˜å…ˆ,æœ‰çš„ Hadoop&#x2F;Spark&#x2F;Flink&#x2F;TBase çš„å®é™…é¡¹ç›®ä½¿ç”¨è€…ä¼˜å…ˆã€‚</p><p>4ã€æœ‰è´£ä»»å¿ƒ,è‰¯å¥½çš„æ²Ÿé€šåè°ƒèƒ½åŠ›åŠå›¢é˜Ÿåä½œç²¾ç¥ï¼Œå–„äºå­¦ä¹ ã€åˆ†æã€æ€è€ƒã€‚</p></blockquote><p>é‚£ä¹ˆæ ¹æ®æˆ‘è‡ªå·±è€Œè¨€ï¼ŒGoã€Linuxã€ç½‘ç»œã€è®¡ç®—æœºä½“ç³»ç»“æ„ç›¸åº”çš„çŸ¥è¯†åªéœ€è¦æ¯æ—¥å¤šå¤ä¹ å³å¯ï¼Œè‡ªå·±çš„ç¼ºé™·åœ¨æ•°æ®åº“ (MySQLã€MongoDBã€Redis)ã€ç›‘æ§ã€CI&#x2F;CDã€DevOpsä¸Šã€‚</p><p>å¯ä»¥ä»æ•°æ®åº“è¿›è¡Œå®è·µï¼Œå…ˆç†Ÿæ‚‰ä¸€éæ‰§è¡Œæµç¨‹ï¼Œå†æ€è€ƒä¸šåŠ¡éœ€è¦è¿™äº›æ¥åšä»€ä¹ˆæ ·çš„äº‹æƒ…ï¼Œè¾¾æˆäº†ä»€ä¹ˆæ ·çš„æ•ˆæœï¼Œæ•ˆæœèƒ½ä¸èƒ½ç»§ç»­æå‡(è°ƒæ•´ä¼˜åŒ–ç­‰)ï¼Œä¹‹åå†çœ‹çœ‹åˆ«äººå¯¹æ•°æ®åº“ã€DevOpsã€K8S çš„æ€è€ƒã€‚ä¹Ÿå°±è¾¾åˆ°äº†æš‚æ—¶æ€§çš„æå‡æ•ˆæœã€‚è‡³äºé˜¶æ®µæ€§çš„æˆé•¿ï¼Œå°±éœ€è¦è‡ªå·±å¯¹è‡ªå·±æ‰€æŒæ¡çš„çŸ¥è¯†åº“è¿›è¡Œæ€»ç»“ä¸è¾“å‡ºäº†ï¼Œæ¯”å¦‚å†™åšå®¢ï¼Œåšæ¼”è®²ç­‰ã€‚</p><h2 id="3ã€ç›®å‰çš„ä»»åŠ¡"><a href="#3ã€ç›®å‰çš„ä»»åŠ¡" class="headerlink" title="3ã€ç›®å‰çš„ä»»åŠ¡"></a>3ã€ç›®å‰çš„ä»»åŠ¡</h2><ul><li><p>1ã€3æœˆ14æ—¥ - 3æœˆ27æ—¥ï¼Œæ¥ä¸‹æ¥çš„ä¸¤å‘¨çš„è®¡åˆ’ï¼Œåœ¨åšäº‘ä¸­é—´ã€æ¸¸æˆå¼€å‘ã€å¾®æœåŠ¡ã€é«˜æ€§èƒ½ API çš„å…¬å¸å…ˆè°ƒç ”å…¬å¸çš„äº§å“ã€ç»è¥çŠ¶å†µï¼Œè€Œååœ¨æ¯ä¸ªåˆ†æ”¯æ–¹å‘é€‰å¤§å‚ã€ä¸­å°å‚ã€åˆ›ä¸šå…¬å¸åˆ†åˆ«æŠ•ç®€å†ï¼Œèƒ½è¿›å…¥é¢è¯•åï¼Œå†æ ¹æ®è‡ªå·±é¢è¯•å¾—åˆ°çš„ä¿¡æ¯ï¼Œå†³å®šå…·ä½“çš„å‘å±•æ–¹å‘ã€‚</p></li><li><p>2ã€å»ºç«‹æ€ç»´å¯¼å›¾çš„æ—¶é—´è½´ï¼Œäº†è§£å…¬å¸çš„ä¸šåŠ¡èƒŒæ™¯ -&gt; æŠ•ç®€å†çš„æ—¶é—´ -&gt; ä¸€é¢çš„æ—¶é—´ -&gt; äºŒé¢çš„æ—¶é—´ -&gt; ä¸‰é¢çš„æ—¶é—´ï¼Œå¯¹æ—¶é—´éœ€è¦ä¸€å®šçš„æ•æ„Ÿç¨‹åº¦ã€‚</p></li><li><p>3ã€é¦–å…ˆè¦å¯¹è‡ªå·±å®šä½ï¼Œè‡ªå·±æ˜¯ç¼ºä¹å·¥ä½œç»éªŒçš„å¾€å±Šç”Ÿï¼Œå¦‚æœèƒ½é€šè¿‡ç®€å†ç­›é€‰å…³ï¼Œè¯æ˜å…¬å¸æ³¨é‡çš„æ˜¯è‡ªå·±çš„ä¸ªäººä¿®å…»ã€‚éœ€è¦æ›´å¥½çš„å±•ç°è‡ªå·±æ›¾ç»åšè¿‡äº‹ï¼Œæ‰å®è‡ªå·±ä½œä¸ºæŠ€æœ¯äººå‘˜çš„åŸºç¡€ã€‚</p></li><li><p>4ã€ä¸ªäººè¡¨è¿°è¦åŠ å¼ºï¼Œé¢è¯•çš„è¯­é€Ÿéœ€è¦æ¸…æ™°ï¼Œæœ‰èŠ‚å¥ã€è°ˆåæœ‰è½»é‡ã€‚åŒæ—¶å†å›ç­”ç›¸åº”çš„ä¸“ä¸šé—®é¢˜æ—¶ï¼Œéœ€è¦åƒè‡ªå·±ä¹‹å‰å†™ TCP-IP åè®®ä¸€æ ·ï¼Œç†æ¸…æ¥šè‡ªå·±çš„æ€è·¯ï¼Œæ€»ç»“æˆæ¨¡æ¿ï¼Œå½¢æˆè‡ªå·±çš„æ¨¡æ¿åº“ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>2022</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go è¯­è¨€ä¸­çš„ sync.Mutex å­¦ä¹ </title>
    <link href="/2022/03/06/go/concurrency/mutex/"/>
    <url>/2022/03/06/go/concurrency/mutex/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æå®¢æ—¶é—´ä¸“æ ï¼Œé¸Ÿçªå¤§ä½¬çš„ Go å¹¶å‘ç¼–ç¨‹è¯¾ç¨‹ï¼Œç”±äºå¤§ä½¬çš„è¯¾ç¨‹ååˆ†ç²¾å½©ï¼Œé¢†æ‚Ÿéœ€è¦æ—¶é—´ä¸ç²¾åŠ›ï¼æ‰€ä»¥å†æ¬¡æœ¬æ–‡ä»…ä»…åªèƒ½ä½œä¸ºçŸ¥è¯†æ€»ç»“ï¼Œç›¸åº”å…·ä½“å†…å®¹ä¸æºç åˆ†æè¯·å»æå®¢æ—¶é—´ä¸Šè´­ä¹°å¤§ä½¬ç›¸åº”çš„è¯¾ç¨‹ï¼</p></blockquote><h2 id="Mutex"><a href="#Mutex" class="headerlink" title="Mutex"></a>Mutex</h2><p>â€‹ Go è¯­è¨€ä¸­çš„ sync åŒ…çš„ mutex çš„è®¾è®¡ï¼Œæœ‰å››ä¸ªæ¼”å˜é˜¶æ®µã€‚</p><ul><li>1ã€åˆç‰ˆçš„ Mutex é‡‡ç”¨ä¸€ä¸ª flag è¡¨ç¤ºé”æ˜¯å¦è¢«æŒæœ‰ï¼Œå®ç°æ¯”è¾ƒç®€å•</li><li>2ã€ä¹‹åä¸ºäº†ç…§é¡¾æ–°æ¥çš„ Goroutine(ä¸‹æ–‡ç®€ç§° G )ï¼Œä¼šè®©æ–°äººèƒ½å¤Ÿå°½å¯èƒ½çš„ä¼˜å…ˆè·å–é”ï¼Œæ­¤ä¸ºç¬¬äºŒä¸ªé˜¶æ®µ</li><li>3ã€ç¬¬ä¸‰ä¸ªé˜¶æ®µå‘¢ï¼Œæ˜¯ä½¿è¢«å”¤é†’çš„ G ä¸æ–°æ¥çš„ G æœ‰æ›´å¤šçš„æœºä¼šç«äº‰é”ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¼•å‘ç›¸åº”çš„é¥¥é¥¿é—®é¢˜ï¼Œæ‰€ä»¥ç›®å‰åˆåŠ å…¥äº†é¥¥é¥¿çš„è§£å†³æ–¹æ¡ˆ</li><li>4ã€ç¬¬å››ä¸ªå³ä¸ºè§£å†³é¥¥é¥¿çš„é˜¶æ®µã€‚</li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="/images/go/mutex1.png" alt="go-concurrency1"></p><h3 id="åˆç‰ˆ-mutex-çš„å®ç°"><a href="#åˆç‰ˆ-mutex-çš„å®ç°" class="headerlink" title="åˆç‰ˆ mutex çš„å®ç°"></a>åˆç‰ˆ mutex çš„å®ç°</h3><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token number">2008</span> å¹´æ—¶å€™ï¼Œ Russ Cox æäº¤çš„ç¬¬ä¸€ç‰ˆçš„ mutex å¦‚ä¸‹æ‰€ç¤º<span class="token comment">//CAS æ“ä½œï¼Œå½“æ—¶å¹¶æœªæŠ½è±¡å‡º atomic åŸå­åŒ…</span><span class="token keyword">func</span> <span class="token function">cas</span><span class="token punctuation">(</span>val <span class="token operator">*</span><span class="token builtin">int32</span><span class="token punctuation">,</span> old<span class="token punctuation">,</span> <span class="token builtin">new</span> <span class="token builtin">int32</span><span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token keyword">func</span> <span class="token function">semacquire</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">int32</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">semrelease</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">int32</span><span class="token punctuation">)</span><span class="token keyword">type</span> Mutex <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//é”æ˜¯å¦è¢«æŒæœ‰</span>    key <span class="token builtin">int32</span>        <span class="token comment">//ä¿¡å·é‡ä¸“ç”¨ï¼Œç”¨äºé˜»å¡/å”¤é†’ G </span>    sema <span class="token builtin">int32</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¿è¯æˆåŠŸåœ¨ val ä¸Šæ·»åŠ  delta çš„å€¼</span><span class="token keyword">func</span> <span class="token function">xadd</span><span class="token punctuation">(</span>val <span class="token operator">*</span><span class="token builtin">int32</span><span class="token punctuation">,</span> delta <span class="token builtin">int32</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">new</span> <span class="token builtin">int32</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">&#123;</span>        v <span class="token operator">:=</span> <span class="token operator">*</span>val        <span class="token keyword">if</span> <span class="token function">cas</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> v<span class="token punctuation">,</span> v <span class="token operator">+</span> delta<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> v <span class="token operator">+</span> delta        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"unreached"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//è¯·æ±‚é”</span><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Mutex<span class="token punctuation">)</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token function">xadd</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>key<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">&#123;</span> <span class="token comment">// æ ‡è¯†åŠ  1ï¼Œå¦‚æœä¸º 1ï¼Œåˆ™è·å–åˆ°é”</span>        <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    <span class="token function">semacquire</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>sema<span class="token punctuation">)</span> <span class="token comment">//å¦åˆ™é˜»å¡ç­‰å¾…</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Mutex<span class="token punctuation">)</span> <span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token function">xadd</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>key<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span><span class="token comment">// æ ‡è¯†å‡ 1ï¼Œå¦‚æœä¸º 0ï¼Œåˆ™æ²¡æœ‰å…¶ä»–çš„ç­‰å¾…è€…</span>        <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    <span class="token function">semarelease</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>sema<span class="token punctuation">)</span> <span class="token comment">//å”¤é†’å…¶ä»–çš„ G     </span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>Â· å…¶ä¸­ï¼ŒCAS ä¸ºä¸€ç§æŒ‡ä»¤ï¼Œå³å°†ç»™å®šçš„å€¼ä¸å†…å­˜åœ°å€ä¸­çš„å€¼è¿›è¡Œç›¸æ¯”è¾ƒï¼Œå¦‚æœæ˜¯åŒä¸€ä¸ªå€¼ï¼Œå°±ç”¨æ–°å€¼æ›¿æ¢å†…å­˜åœ°å€ä¸­çš„æ—§å€¼ã€‚è€Œä¸” CAS æ“ä½œæŒ‡ä»¤æ˜¯åŸå­æ€§çš„æŒ‡ä»¤(å³æ•°æ®åº“ä¸­åŸå­æ€§çš„æ¦‚å¿µï¼Œä¿®æ”¹ä¸äº†æ•°æ®ï¼Œäº‹åŠ¡å›æ»šåˆ°ä¿®æ”¹ä¹‹å‰çš„æ•°æ®ï¼Œæ•°æ®ä¸æ”¹å˜)</p><p><img src="/images/go/mutex2.png%22"></p><blockquote><p>æœ‰è¶£çš„äº‹æƒ…æ˜¯ï¼ŒUnlock æ–¹æ³•èƒ½è¢«ä»»æ„çš„ G è°ƒç”¨é‡Šæ”¾ï¼Œå³ä½¿æ²¡æœ‰æŒæœ‰äº’æ–¥é”çš„ Gï¼Œä¹Ÿèƒ½è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚</p></blockquote><p>æ‰€ä»¥åœ¨ä½¿ç”¨ Mutex çš„æ—¶å€™ï¼Œå¿…é¡»ä¿è¯ G å°½å¯èƒ½ä¸å»é‡Šæ”¾è‡ªå·±æœªæŒæœ‰çš„é”ï¼Œä¸€å®šéµå¾ª â€œè°ç”³è¯·ï¼Œè°é‡Šæ”¾â€ çš„åŸåˆ™ã€‚ä¸€èˆ¬åœ¨ä½¿ç”¨ Mutex çš„æ—¶å€™ï¼ŒLock ä¸ Unlock æ–¹æ³•éƒ½åº”è¯¥åœ¨ä¸€ä¸ªæ–¹æ³•å†…æˆå¯¹å‡ºç°ã€‚</p><blockquote><p>åœ¨1.14ç‰ˆæœ¬ä¸­ Go å¯¹ defer åšäº†ç›¸åº”çš„ä¼˜åŒ–ï¼Œé‡‡å–æ›´æœ‰æ•ˆçš„å†…è”æ¨¡å¼ï¼Œå°†ä¹‹å‰ç”Ÿæˆçš„ defer å¯¹è±¡æ”¾å…¥ defer chain ä¸­ï¼Œæ‰€ä»¥ defer å¯¹ç¨‹åºæ‰§è¡Œçš„å½±å“å¾®ä¹å…¶å¾®äº†ã€‚</p></blockquote><p>ç¼ºç‚¹ï¼šè¯·æ±‚é”æ—¶å€™ï¼ŒG ä¼šæ’é˜Ÿç­‰å¾…è·å–äº’æ–¥é”ï¼Œè™½ç„¶çœ‹èµ·æ¥æŒºå…¬å¹³çš„ï¼Œä½†æ˜¯ä»æ€§èƒ½ä¸Šæ¥çœ‹ï¼Œå¹¶éæœ€ä¼˜çš„è§£æ³•ã€‚å¦‚æœèƒ½å°†é”è®©ç»™æ­£åœ¨ç”¨ CPU æ—¶é—´ç‰‡çš„ G çš„è¯ï¼Œå°±ä¸éœ€è¦åšä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šæœ‰æ›´å¥½çš„æ€§èƒ½ã€‚</p><h3 id="â€œç»™æ–°äººæœºä¼šâ€-é˜¶æ®µ"><a href="#â€œç»™æ–°äººæœºä¼šâ€-é˜¶æ®µ" class="headerlink" title="â€œç»™æ–°äººæœºä¼šâ€ é˜¶æ®µ"></a>â€œç»™æ–°äººæœºä¼šâ€ é˜¶æ®µ</h3><p>2011 å¹´ 6 æœˆ 30 æ—¥ï¼ŒGo è¯­è¨€å¼€å‘è€…åœ¨ commit ä¸­å¯¹ Mutex åšäº†ä¸€æ¬¡å¤§è°ƒæ•´ï¼Œè°ƒæ•´åçš„ Mutex å®ç°å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> Mutex <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>    state <span class="token builtin">int32</span>    sema <span class="token builtin">uint32</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token punctuation">(</span>    mutexLock <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token boolean">iota</span> <span class="token comment">//mutex is locked </span>    mutexWoken    mutexWaiterShift <span class="token operator">=</span> <span class="token boolean">iota</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å…¶ä¸­ Mutex æ­¤ç‰ˆæœ¬çš„è®¾è®¡æ€æƒ³ä¸ºå°†ç¬¬ä¸€ä¸ª int32 ç±»å‹çš„ state å­—æ®µï¼Œåˆ’ç®—ä¸ºäºŒè¿›åˆ¶ï¼ŒæŒ‰äºŒè¿›åˆ¶çš„ä½æ•°è¿›è¡ŒåŒºåˆ†ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/go/mutex3.png"></p><p>è¿™æ ·å¯èƒ½ä»¥æœ€å°çš„å†…å­˜æ¥å®ç°äº’æ–¥é”ç»“æ„ï¼Œæœ€ä½ä½è¡¨ç¤ºé”æ˜¯å¦è¢«å æœ‰(1|0 å æœ‰|éå æœ‰)ï¼Œæ¬¡ä½ä½è¡¨ç¤ºé”æ˜¯å¦æœ‰è¢«å”¤é†’çš„ Gï¼Œå…¶ä½™ 30 ä½è¡¨ç¤ºç­‰å¾…æ­¤é”çš„ G çš„æ•°é‡ã€‚ä¸è®¡ç®—æœºç½‘ç»œçš„å­ç½‘åˆ’åˆ†å¾ˆç›¸ä¼¼çš„è®¾è®¡ï¼Œä¸€ä¸ªæ•°å€¼ï¼Œåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œä»£è¡¨ä¸‰ä¸ªæ„ä¹‰ã€‚</p><p>å¹¶ä¸”å› ä¸º atomic åŸå­æ€§åŒ…çš„æ·»åŠ ï¼Œè¯·æ±‚é”Lockä¹Ÿå˜å¤æ‚äº†ï¼Œã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>Mutex<span class="token punctuation">)</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//Fast path : å¹¸è¿ caseï¼Œèƒ½å¤Ÿç›´æ¥è·å–åˆ°ç›¸åº”çš„é”</span>    <span class="token keyword">if</span> atomic<span class="token punctuation">.</span><span class="token function">CompareAndSwapInt32</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>state<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> mutexLocked<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>        awoke <span class="token operator">:=</span> <span class="token boolean">false</span>    <span class="token keyword">for</span> <span class="token punctuation">&#123;</span>        old <span class="token operator">:=</span> m<span class="token punctuation">.</span>state        <span class="token builtin">new</span> <span class="token operator">:=</span> old <span class="token operator">|</span> mutexLocked <span class="token comment">//æ–°çŠ¶æ€åŠ é”</span>        <span class="token keyword">if</span> old <span class="token operator">&amp;</span> mutexLocked <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>            <span class="token builtin">new</span> <span class="token operator">=</span> old <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> mutexWaiterShift <span class="token comment">//ç­‰å¾…è€…æ•°é‡åŠ ä¸€</span>        <span class="token punctuation">&#125;</span>                <span class="token keyword">if</span> awoke <span class="token punctuation">&#123;</span>            <span class="token comment">//G æ˜¯è¢«å”¤é†’çš„</span>            <span class="token comment">//æ–°çŠ¶æ€æ¸…é™¤å”¤é†’æ ‡å¿—</span>            <span class="token builtin">new</span> <span class="token operator">&amp;^</span> <span class="token operator">=</span> mutexWoken        <span class="token punctuation">&#125;</span>                <span class="token keyword">if</span> atomic<span class="token punctuation">.</span><span class="token function">CompareAndSwapInt32</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>state<span class="token punctuation">,</span> old<span class="token punctuation">,</span> <span class="token builtin">new</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//è®¾ç½®æ–°çŠ¶æ€</span>            <span class="token keyword">if</span> old <span class="token operator">&amp;</span> mutexUnlocked <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span> <span class="token comment">//é”åŸçŠ¶æ€æœªåŠ é”</span>                <span class="token keyword">break</span>            <span class="token punctuation">&#125;</span>            runtime<span class="token punctuation">.</span><span class="token function">Semacquire</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>m<span class="token punctuation">.</span>sema<span class="token punctuation">)</span> <span class="token comment">//è¯·æ±‚ä¿¡å·é‡</span>            awoke <span class="token operator">=</span> <span class="token boolean">true</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> è®¾è®¡åŒ…å«å¤§é‡çš„ä½è¿ç®—ï¼Œè¦è”ç³» Go è¯­è¨€çš„ä½è¿ç®—ä¼˜å…ˆçº§è¿›è¡Œæ€è€ƒã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ä½¿ç”¨-mutex-çš„ä¸€äº›æ³¨æ„äº‹é¡¹"><a href="#ä½¿ç”¨-mutex-çš„ä¸€äº›æ³¨æ„äº‹é¡¹" class="headerlink" title="ä½¿ç”¨ mutex çš„ä¸€äº›æ³¨æ„äº‹é¡¹"></a>ä½¿ç”¨ mutex çš„ä¸€äº›æ³¨æ„äº‹é¡¹</h2><p>1ã€èƒ½ä¸ç”¨ mutex, å°½é‡ä¸ç”¨ mutex, ä½¿ç”¨è¯»å†™é”åˆé€‚</p><p>2ã€å°½é‡ä½¿ç”¨ defer é‡Šæ”¾é”ï¼Œé˜²æ­¢å› ä¸º panic è€Œå¯¼è‡´é”æœªé‡Šæ”¾</p><p>3ã€mutex.Lock() åæ˜¯ä¸å¯é‡å…¥çš„ï¼Œå†™é€’å½’æ—¶å€™ï¼Œä¸èƒ½è°ƒç”¨ mutex</p><p>4ã€å°½é‡ä½¿ç”¨è¯»å†™é”ï¼sync.RLock&#x2F;RUnlock, sync.WLock&#x2F;WUnlock</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sync</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½®é¡¶ã€‘æœªæ¥å­¦ä¹ è®¡åˆ’</title>
    <link href="/2022/03/05/plan/"/>
    <url>/2022/03/05/plan/</url>
    
    <content type="html"><![CDATA[<p class="note note-primary">å‰è¨€</p>> å·²ç»æŒæ¡çš„çŸ¥è¯†ï¼Œå¿…é¡»è¦åŠæ—¶è¿›è¡Œå¤ç›˜ä¸æ€»ç»“ï¼Œå¹¶ä¸”è¿›è¡Œæ–‡å­—åŒ–çš„è¾“å‡º!>> è¿™æ ·è®¸å¤šçš„é—®é¢˜å°±èƒ½åˆ»å…¥è‡ªå·±çš„éª¨é«“ï¼Œä¸ä¼šè½»æ˜“å¿˜è®°ï¼<h2 id="Go-å­¦ä¹ å‰è¨€"><a href="#Go-å­¦ä¹ å‰è¨€" class="headerlink" title="Go å­¦ä¹ å‰è¨€"></a>Go å­¦ä¹ å‰è¨€</h2><p>Go è¯­è¨€çš„åº”ç”¨åœºæ™¯æœ‰è®¸å¤šï¼Œä½†æ˜¯è¯­è¨€ä¸»è¦çš„ä¼˜åŠ¿åœ¨ä»¥ä¸‹ä¸‰å¤§å—:</p><blockquote><p>1ã€äº‘åŸç”Ÿ (å¾®æœåŠ¡ + DevOps + PaaS ç­‰ä¸­é—´ä»¶) </p><p>2ã€é«˜æ€§èƒ½ API</p><p>3ã€æœåŠ¡å™¨ç«¯å¼€å‘</p></blockquote><p>å¦‚æœèŒä¸šæ–¹å‘æ˜¯å¾€ä»¥ä¸Šå‡ ä¸ªæ–¹å‘å‘å±•ï¼Œé‚£ä¹ˆ Go è¯­è¨€çš„å­¦ä¹ æ˜¯è‡³å…³é‡è¦çš„ï¼Œå¸‚åœºä¸Šåˆæ­¥çš„ä»»èŒè¦æ±‚å¦‚ä¸‹ï¼š</p><blockquote><p>ç¼–ç¨‹è¯­è¨€:  ä½¿ç”¨ Go ç‹¬ç«‹å®ç°ä¸€å¥—å®Œæ•´çš„ Web æœåŠ¡å™¨</p><p>åŸºç¡€çŸ¥è¯†:  æ“ä½œç³»ç»Ÿ &#x2F; ç½‘ç»œç¼–ç¨‹ &#x2F; æ•°æ®ç»“æ„ä¸ç®—æ³•ç­‰</p><p>å¸¸è§ä¸­é—´ä»¶:  MySQL &#x2F; Redis &#x2F; Kafka &#x2F; Nginxç­‰</p><p>è½¯æŠ€èƒ½:  å­¦ä¹  &#x2F; æ²Ÿé€š &#x2F; æŠ—å‹ &#x2F; è§£å†³é—®é¢˜çš„èƒ½åŠ›</p></blockquote><p>è€Œæœ¬åšå®¢ï¼Œä¸»è¦ä¸ºæ¢³ç† Go è¯­è¨€éœ€è¦æŒæ¡çŸ¥è¯†çš„ç»†èŠ‚ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªåˆšå…¥è¡Œçš„ Go æ–°äººï¼Œéœ€è¦ç§¯ç´¯çš„çŸ¥è¯†ã€‚</p><h3 id="1ã€ç›®å‰æŒæ¡çš„ç›¸å…³çŸ¥è¯†"><a href="#1ã€ç›®å‰æŒæ¡çš„ç›¸å…³çŸ¥è¯†" class="headerlink" title="1ã€ç›®å‰æŒæ¡çš„ç›¸å…³çŸ¥è¯†"></a>1ã€ç›®å‰æŒæ¡çš„ç›¸å…³çŸ¥è¯†</h3><ul><li><p>1ã€Go åŸºç¡€: å…³é”®å­—ã€å¸¸é‡ã€å˜é‡ã€æ•°æ®ç±»å‹ã€æ•°æ®ç»“æ„ã€æµç¨‹æ§åˆ¶ã€å‡½æ•°ã€æ–¹æ³•ã€åç¨‹ã€é€šé“ã€‚</p></li><li><p>2ã€GMP æ¨¡å‹åŸºç¡€: åŒ…æ‹¬æ—©æœŸçš„ GM æ¨¡å‹ï¼Œä»¥åŠåæœŸçš„ GMP æ¨¡å¼è®¾è®¡æ–¹æ³•ã€è°ƒåº¦æœºåˆ¶ç­‰</p></li><li><p>3ã€GC åŸºç¡€: åŒ…æ‹¬æ ‡å¿—æ¸…é™¤æ³•ã€ä¸‰è‰²æ ‡è®°æ³•ã€æ’å…¥å†™å±éšœã€åˆ é™¤å†™å±éšœã€æ··åˆå†™å±éšœã€‚</p></li><li><p>4ã€go è¯­è¨€ä¸€äº›å¸¸ç”¨åŒ…ï¼šnet&#x2F;httpã€sync ç­‰</p></li></ul><h3 id="2ã€ç›®å‰çš„å­¦ä¹ è®¡åˆ’"><a href="#2ã€ç›®å‰çš„å­¦ä¹ è®¡åˆ’" class="headerlink" title="2ã€ç›®å‰çš„å­¦ä¹ è®¡åˆ’"></a>2ã€ç›®å‰çš„å­¦ä¹ è®¡åˆ’</h3><ul><li><p>1ã€Go è¯­è¨€å¹¶å‘ç¼–ç¨‹(é¸Ÿçªå¤§ä½¬çš„æå®¢æ—¶é—´ä¸“æ ï¼Œå¸¸è§çš„å¹¶å‘åŸè¯­ï¼šMutexã€RWmutexã€Onceã€Mapã€WaitGroupã€channel ç­‰)</p></li><li><p>2ã€Go å†…å­˜é€ƒé€¸ã€GC çš„ä¼˜åŒ–é—®é¢˜ã€ç†Ÿç»ƒä½¿ç”¨ go trace(æŸ¥é¢‘ç¹çš„ GC)ã€pprof(å†…å­˜æ³„æ¼ã€CPU è¿‡é«˜ã€ç¨‹åºæ…¢ã€é”ç«äº‰ã€ç¨‹åºé˜»å¡)ã€‚</p></li><li><p>3ã€Go æŠ€æœ¯æ ˆå¸¸ç”¨çš„ç»„ä»¶ï¼š <a href="https://github.com/grpc/grpc">grpc</a>ã€<a href="https://github.com/protocolbuffers/protobuf">protobuf</a>ã€<a href="https://github.com/prometheus/prometheus">Prometheus</a>ã€<a href="https://github.com/istio/istio">istio</a> ç­‰</p></li><li><p>4ã€å­¦ä¹ äº‘åŸç”Ÿå¼€æºç»„ç»‡çš„ç›¸åº”çš„æŠ€æœ¯åˆ†äº«ã€‚</p></li></ul><h3 id="3ã€Go-æœåŠ¡å™¨å¼€å‘è‡ªæˆ‘æ€»ç»“"><a href="#3ã€Go-æœåŠ¡å™¨å¼€å‘è‡ªæˆ‘æ€»ç»“" class="headerlink" title="3ã€Go æœåŠ¡å™¨å¼€å‘è‡ªæˆ‘æ€»ç»“"></a>3ã€Go æœåŠ¡å™¨å¼€å‘è‡ªæˆ‘æ€»ç»“</h3><h4 id="1ã€å·¥å…·"><a href="#1ã€å·¥å…·" class="headerlink" title="1ã€å·¥å…·"></a>1ã€å·¥å…·</h4><p>1ï¼‰è¯­è¨€ï¼šGo, SQL, JS;</p><p>2ï¼‰IDEï¼šGolandã€VScode;</p><p>3ï¼‰ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼šGitã€SVNï¼ˆæ¸¸æˆåœºæ™¯ä½¿ç”¨ï¼‰;</p><p>4ï¼‰ä¾èµ–ç®¡ç†ï¼šgo mod;</p><h4 id="2ã€ç”Ÿæ€"><a href="#2ã€ç”Ÿæ€" class="headerlink" title="2ã€ç”Ÿæ€"></a>2ã€ç”Ÿæ€</h4><p>1ï¼‰æ¶ˆæ¯é˜Ÿåˆ—ï¼škafkaã€RocketMQ;</p><p>2ï¼‰å­˜å‚¨ï¼šMySQLã€Redisã€Mongodbã€PostgreSQL;</p><p>3ï¼‰web æ¡†æ¶ï¼šginã€goframe ç­‰ï¼›</p><p>4ï¼‰å¾®æœåŠ¡ï¼šgo-zeroã€go-mircoã€go-kit ç­‰ï¼ˆå¾®æœåŠ¡æ¶æ„ä¸ŠåŸºæœ¬ä¸Šæ˜¯åšçš„é›†æˆï¼Œå¸‚åœºä¸Šå…³äºå¾®æœåŠ¡å®Œæ•´çš„é“¶å¼¹æ–¹æ³•å‡ ä¹ä¸å­˜åœ¨ï¼‰</p><h4 id="3ã€å®¹å™¨"><a href="#3ã€å®¹å™¨" class="headerlink" title="3ã€å®¹å™¨"></a>3ã€å®¹å™¨</h4><p>1ï¼‰Swarm (docker);</p><p>2ï¼‰K8S (åŸºæœ¬ä¸€ç»Ÿæ±Ÿæ¹–);</p><h4 id="4ã€åŸç†"><a href="#4ã€åŸç†" class="headerlink" title="4ã€åŸç†"></a>4ã€åŸç†</h4><p>1ï¼‰é€šè¯†çš„ Go è¯­è¨€åŸç†ï¼šGCã€GMPã€runtime ç­‰;</p><p>2ï¼‰ä¸­é—´ä»¶çš„åŸç†ï¼šä¸»è¦çœ‹ä¸šåŠ¡éœ€è¦ã€‚</p><h3 id="4ã€å­¦ä¹ æ–¹å¼"><a href="#4ã€å­¦ä¹ æ–¹å¼" class="headerlink" title="4ã€å­¦ä¹ æ–¹å¼"></a>4ã€å­¦ä¹ æ–¹å¼</h3><p>ä¸»è¦æ¨èæˆ‘æ—è¾¹çš„æ¨èåšå®¢ï¼š</p><p>1ã€åŸºç¡€æ¨èä¸ƒç±³è€å¸ˆçš„åšå®¢</p><p>2ã€è¿›é˜¶å¯ä»¥çœ‹æå®¢å…”å…”çš„åšå®¢ã€é¸Ÿçªå¤§ä½¬çš„åšå®¢ã€‚</p><p>3ã€è¿½æ±‚ç¡¬æ ¸ç†è§£çš„å¯ä»¥çœ‹é¢å‘ä¿¡ä»°ç¼–ç¨‹ä½œè€…çš„åšå®¢ï¼</p><h3 id="5ã€æŠ€æœ¯å†™ä½œè§„èŒƒ"><a href="#5ã€æŠ€æœ¯å†™ä½œè§„èŒƒ" class="headerlink" title="5ã€æŠ€æœ¯å†™ä½œè§„èŒƒ"></a>5ã€æŠ€æœ¯å†™ä½œè§„èŒƒ</h3><p>è¯¦ç»†å‚è€ƒ<a href="https://github.com/chaggle/document-style-guide">é˜®ä¸€å³°çš„å†™ä½œè§„èŒƒ</a>ï¼Œä¸ªäººè§‰å¾—è®©ä»–äººæ‹¥æœ‰è‰¯å¥½çš„é˜…è¯»ä½“éªŒä¹Ÿæ˜¯è½¯æŠ€èƒ½ä¹‹ä¸€ï¼</p><h3 id="6ã€æ™‹å‡åˆ†è§£æ³•"><a href="#6ã€æ™‹å‡åˆ†è§£æ³•" class="headerlink" title="6ã€æ™‹å‡åˆ†è§£æ³•"></a>6ã€æ™‹å‡åˆ†è§£æ³•</h3><p>1ã€ç›®å‰è‡ªå·±å®šçº§ P5ï¼ˆå·¥ä½œ 1 ~ 3 å¹´ï¼‰éœ€è¦åˆ«äººå¸¦é¢†è‡ªå·±è¾¾æˆä»»åŠ¡ï¼ˆå·²äº2023å¹´è¾¾æˆå‡èŒï¼‰</p><p>2ã€ä¸‹ä¸€çº§ P6 (å·¥ä½œ 3 ~ 5 å¹´) èƒ½ç‹¬ç«‹å®Œæˆä»»åŠ¡ï¼ˆå·²è¾¾åˆ°æ­¤å±‚çº§ï¼Œæœªæ¥ç›®æ ‡ p7ï¼‰</p><p>3ã€éœ€è¦ä¸“é¡¹æå‡æŸä¸€é¡¹æŠ€èƒ½çš„èƒ½åŠ›ï¼Œèµ„æ·±æŠ€æœ¯ä¸“å®¶å»ºè®®ï¼šæŒç»­èŠ± 6 ä¸ªæœˆæ—¶é—´è¿›è¡Œä¸“é¡¹æå‡ã€‚</p><p>4ã€æ¯”å¦‚ç°åœ¨ä¸»è¦æå‡ Mysql ä¸ PostgreSQLã€Redis ä¸ Memcache çš„æŠ€æœ¯æ°´å¹³ã€‚è®¡åˆ’å¤§è‡´å¦‚ä¸‹ï¼š</p><p>5ã€Mysql ä¸ PostgreSQL</p><blockquote><p>1ã€1.5 ä¸ªæœˆï¼šï¼ˆå·²ç»å®Œæ¯•ï¼ï¼‰å­¦å®Œ <a href="https://www.bilibili.com/video/BV1es411u7we">bilibili SQLè¿›é˜¶è¯¾ç¨‹</a>ã€é€šè¯» High Performance Mysqlã€‚</p><p>2ã€3 ä¸ªæœˆï¼š<a href="https://github.com/digoal/blog/blob/master/README.md">github å¤§ç¥çš„ PostgreSQL ä¿®ç‚¼æ‰‹å†Œå­¦ä¹ </a></p><p>3ã€1.5 ä¸ªæœˆï¼šå®æˆ˜ Mysql ä¸ PostgreSQL</p></blockquote><p>6ã€Redis ä¸ Memcache </p><blockquote><p>1ã€1.5 ä¸ªæœˆï¼šï¼ˆå·²ç»å­¦å®Œï¼ï¼‰å­¦å®Œ <a href="https://www.bilibili.com/video/BV1S54y1R7SB">bilibili redis åŸºç¡€ + è¿›é˜¶è¯¾ç¨‹</a>ï¼Œå»ºç«‹ä¸€ä¸ªå®Œå¤‡çš„ redis çŸ¥è¯†ä½“ç³»</p><p>2ã€3 ä¸ªæœˆï¼šé€šè¯»+å­¦å¥½ Redisè®¾è®¡ä¸å®ç° ï¼ˆè“ä¹¦ï¼‰</p><p>3ã€1.5 ä¸ªæœˆï¼šå®æˆ˜ Redis</p></blockquote><p>7ã€é™¤æ­¤ä¹‹åï¼ŒTDD å­¦ä¹ è¦è¿›è¡Œ Java çš„å­¦ä¹ ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå°±æ˜¯å¤šç”¨ Go + Python è¯­è¨€ï¼Œè¯¾ç¨‹ <a href="https://coding.imooc.com/class/469.html">Go + Python åŒè¯­è¨€å¼€å‘</a> ä¹Ÿå¾ˆå¥½ã€‚</p><hr><h2 id="Java-å­¦ä¹ å‰è¨€"><a href="#Java-å­¦ä¹ å‰è¨€" class="headerlink" title="Java å­¦ä¹ å‰è¨€"></a>Java å­¦ä¹ å‰è¨€</h2><blockquote><p>å› ä¸ºå·¥ä½œåéœ€è¦ï¼Œå¼€å§‹è½¬å˜æ–¹å‘ä¸º Javaï¼Œä½†æ˜¯ go çš„å­¦ä¹ ä¹Ÿä¸ä¼šåœæ­¢ï¼</p></blockquote><p>è½¬æ–¹å‘ä¸º Java åï¼Œæ‰€éœ€è¦å­¦ä¹ çš„ä¸šåŠ¡ä¸­é—´ä»¶è¿œè¶… go è¯­è¨€ï¼Œç›¸åº”çš„æ¡†æ¶ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¸è¿‡ Java æŠ€æœ¯æ ˆæ›´æ–°ä¹Ÿä¸ä¼šå¤ªå¿«ã€‚</p><p>ç»å†ä¸€æ®µæ—¶é—´çš„å·¥ä½œåï¼Œè‡ªå·±çš„äººç”ŸçŠ¶æ€ä¹Ÿå‘ç”Ÿç›¸åº”çš„æ”¹å˜ï¼Œé¦–å…ˆéœ€è¦å°†è‡ªå·±çš„ä¸šåŠ¡æŠ€èƒ½é”»ç‚¼å¼ºã€‚ä¸šåŠ¡èƒ½åŠ›ä¸ç­‰äºæŠ€æœ¯èƒ½åŠ›ï¼Œæ¯”å¦‚ä¸šåŠ¡æµç¨‹ã€æ²Ÿé€šæµç¨‹ï¼Œæ¯”çº¯ç²¹æŠ€æœ¯æ€§çš„å­¦ä¹ è¦å¼ºå¾ˆå¤šï¼</p><h3 id="1ã€Java-åŸºç¡€"><a href="#1ã€Java-åŸºç¡€" class="headerlink" title="1ã€Java åŸºç¡€"></a>1ã€Java åŸºç¡€</h3><p>Java åŸºç¡€ä¸æ˜¯è¯­è¨€ç±»çš„åŸºç¡€ï¼Œæœ¬æ¬¡çš„ Java åŸºç¡€ä¸»è¦æ˜¯ä¸ºäº†è·Ÿ SpringCloud åšåŒºåˆ†ï¼Œæ¯”å¦‚ JUC ã€Springã€Mybatisã€SpringMVCã€SpringBoot éƒ½æ˜¯å±äº Java åŸºç¡€ï¼Œå› ä¸ºè¿™æ ·çš„ä¸œè¥¿æ‰æ„æˆäº† Java æ•´ä¸ªè¯­è¨€çš„ç”Ÿæ€ä½“ç³»ï¼Œå«åšåŸºç¡€ã€‚</p><p>è€Œä¸” 408 ä¸­æœ‰ä¸‰é—¨è¯¾ç¨‹ä¹Ÿæ˜¯å±äº Java åŸºç¡€ï¼šæ•°æ®ç»“æ„ã€æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œã€‚</p><h3 id="2ã€Java-ä¼ä¸šçº§å¼€å‘æ¡†æ¶"><a href="#2ã€Java-ä¼ä¸šçº§å¼€å‘æ¡†æ¶" class="headerlink" title="2ã€Java ä¼ä¸šçº§å¼€å‘æ¡†æ¶"></a>2ã€Java ä¼ä¸šçº§å¼€å‘æ¡†æ¶</h3><p>é¦–å…ˆè‚¯å®šæ˜¯ Java åŸºç¡€ï¼Œä¹‹åå°±æ˜¯ä¸Šæ¡†æ¶ SpringBootã€ SpringCloud ç»„æˆçš„å•ä½“ä¸å¾®æœåŠ¡çš„æ¶æ„ï¼Œä¸­å°å‹å…¬å¸åŸºæœ¬ä¸Šä»¥æ­¤ä¸¤ç§æ¡†æ¶ä¸ºä¸»æµã€‚<br>å½“ç„¶ä¹Ÿæœ‰ solon ç­‰å›½äº§åŒ–çš„åèµ·ä¹‹ç§€ï¼Œä½†æ˜¯åœ¨æŠ€æœ¯é€‰å‹ä¸Šéœ€è¦è¿›è¡Œæƒè¡¡ï¼Œæ¯”å¦‚äººå‘˜çš„å­¦ä¹ æˆæœ¬ã€åç»­æ’æŸ¥é—®é¢˜çš„æˆæœ¬ï¼Œå¦‚ä½¿ç”¨çš„è¯éœ€è¦è€ƒè™‘å¥½ã€‚<br>è€Œåéœ€è¦è¿›è¡Œç†è§£çš„å°±æ˜¯æ¡†æ¶ä¸­ä½¿ç”¨çš„æŠ€æœ¯ç»„ä»¶ï¼šjpaã€mybatisã€</p><p>æ­¤å¤„ä¹Ÿæ¨è Java ç¤¾åŒºä¸­æ¯”è¾ƒæ´»è·ƒçš„è„šæ‰‹æ¶</p><ul><li>1ã€ruoyi-vue è„šæ‰‹æ¶ï¼Œæœ€ç»å…¸çš„è„šæ‰‹æ¶ï¼Œä¼šæ•™ä¼šå¾ˆå¤šæŠ€æœ¯ç»„ä»¶çš„ä½¿ç”¨ã€ä¸šåŠ¡ç›¸å…³çš„ç†è§£ï¼šå¦‚æƒé™ç®¡ç†ã€å¤šæ•°æ®æºã€å®šæ—¶ä»»åŠ¡ã€ä»£ç ç”Ÿæˆå™¨ç­‰ã€‚</li><li>2ã€yudao-boot è„šæ‰‹æ¶ï¼ŒåŸºäº ruoyi-vue è„šæ‰‹æ¶è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œä¼šè¿›ä¸€æ­¥ç†è§£å¥½çš„ä¼ä¸šçº§è„šæ‰‹æ¶æ˜¯å¦‚ä½•å»ºç«‹ï¼Œé›†æˆåº¦è¾ƒé«˜ï¼Œé€‚åˆå¿«é€Ÿè¿›è¡Œä¸šåŠ¡å¼€å‘ä¸ä½¿ç”¨ã€‚</li></ul><h3 id="3ã€åŸºç¡€è®¾æ–½ä¸­çš„ä¸­é—´ä»¶"><a href="#3ã€åŸºç¡€è®¾æ–½ä¸­çš„ä¸­é—´ä»¶" class="headerlink" title="3ã€åŸºç¡€è®¾æ–½ä¸­çš„ä¸­é—´ä»¶"></a>3ã€åŸºç¡€è®¾æ–½ä¸­çš„ä¸­é—´ä»¶</h3><p>1ã€è´Ÿè½½å‡è¡¡ä¸­é—´ä»¶ï¼šNginxã€Nacosã€ApiSixã€Kongã€Envoy ç­‰<br>2ã€æ•°æ®åº“ä¸­é—´ä»¶ï¼šMysqlã€PostgreSQLã€Sqliteã€MongoDBã€TiDBã€OceanBaseã€ElasticSearch<br>3ã€ç¼“å­˜ä¸­é—´ä»¶ï¼šRedisã€Memcacheã€Tairã€Codis<br>4ã€æ¶ˆæ¯ä¸­é—´ä»¶ï¼šRocketMQã€Kafakaã€RabbitMQ </p><p>ç²¾é€šä¸ç†Ÿç»ƒéƒ½æ˜¯éœ€è¦æ—¶é—´è¿›è¡Œæ‰“ç£¨ï¼Œé«˜çº§ç¨‹åºå‘˜ã€æ¶æ„å¸ˆçš„è¦æ±‚ä¹Ÿæ˜¯ä¸ä»…å±€é™äºä½¿ç”¨çš„å±‚æ¬¡ï¼Œåˆ°åº•å±‚æŠ€æœ¯ç»†èŠ‚å®ç°çš„ç†è§£ä¹Ÿä¸€ç›´æ¯”è¾ƒé‡è¦ï¼ŒæŠ€æœ¯èƒ½åŠ›çš„æå‡ä¸ç†è§£éƒ½æ˜¯åœ¨ä¸æ–­çš„å­¦ä¹ ä¸­è¿›è¡Œçš„ï¼Œä¹Ÿå¦‚å¤§å‚æ™‹å‡æŒ‡å—ä¸­ä½“ç°ï¼š</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Go å­¦ä¹ æ–¹å‘</title>
    <link href="/2022/03/04/go/interview/direction/"/>
    <url>/2022/03/04/go/interview/direction/</url>
    
    <content type="html"><![CDATA[<blockquote><p>é€šè¿‡å‡ æ¬¡é¢è¯•ï¼Œæ¥æ€»ç»“ä¸€äº›ç°åœ¨é˜¶æ®µï¼Œå¯¹äºè‡ªå·±çš„èŒä¸šè§„åˆ’çš„å‘å±•ä¸æ€è€ƒï¼</p></blockquote><p>â€‹ ç»å†äº†ä¸‰å››æ¬¡é¢è¯•ï¼Œæ”¶è·æŒºå¤§çš„ã€‚é¢è¯•ä¸æ˜¯ç›®çš„ï¼Œåªæ˜¯ä¸€ç§è¿‡ç¨‹ï¼Œè¦åœ¨ä¸æ–­çš„é¢è¯•ä¸­ï¼Œæ‰¾åˆ°é€‚åˆè‡ªå·±å‘å±•çš„é¢†åŸŸæ‰æ˜¯é¢è¯•çš„ç›®çš„ï¼</p><h2 id="1ã€ç°é˜¶æ®µå‘å±•çš„æ–¹å‘"><a href="#1ã€ç°é˜¶æ®µå‘å±•çš„æ–¹å‘" class="headerlink" title="1ã€ç°é˜¶æ®µå‘å±•çš„æ–¹å‘"></a>1ã€ç°é˜¶æ®µå‘å±•çš„æ–¹å‘</h2><p>â€‹ é¦–å…ˆï¼ŒGo è¯­è¨€çš„äº‘åŸç”Ÿè·Ÿäº‘ä¸­ä»¶å‘å±•æ˜¯éå¸¸è¿…é€Ÿçš„ï¼Œè€Œä¸” Go è¯­è¨€ç¤¾åŒºä¸­ï¼Œè®¨è®ºæœ€å¤šçš„ä¹Ÿæ˜¯äº‘è®¡ç®—çš„å‘å±•ï¼Œdockerã€K8Sé›†ç¾¤ã€æ™®ç½—ç±³ä¿®æ–¯ï¼Œéƒ½æ˜¯äº‘ä¸­ä»¶çš„ä»£è¡¨ï¼Œæ‰€ä»¥å»å­¦ä¹ å…¶ä¸­è®¾è®¡çš„æ€æƒ³ã€æºç çš„æ€æƒ³æ˜¯éå¸¸é‡è¦çš„ï¼</p><h2 id="2ã€Go-é¢è¯•"><a href="#2ã€Go-é¢è¯•" class="headerlink" title="2ã€Go é¢è¯•"></a>2ã€Go é¢è¯•</h2><blockquote><p>æ€»ç»“ä¸€ä¸‹é¢è¯•çš„é—®é¢˜ï¼š</p><p>1ã€æ•°ç»„ä¸é“¾è¡¨çš„åŒºåˆ«ï¼ˆæ•°æ®ç»“æ„åŸºç¡€çŸ¥è¯†ï¼‰</p><p>2ã€è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹æœ‰ä»€ä¹ˆåŒºåˆ« ï¼ˆæ“ä½œç³»ç»Ÿçš„çŸ¥è¯†ï¼ŒåŠ  Go è¯­è¨€ç‰¹æœ‰çš„åç¨‹ï¼‰</p><p>3ã€Redis ä¸ MYSQL ç†Ÿæ‚‰å—ï¼ŒRedis æœ‰å“ªå‡ ç§æ•°æ®ç»“æ„ï¼Œç¼“å­˜è¿‡æœŸï¼ˆTTL ç½‘ç»œä¸­çš„ç”Ÿå­˜æ—¶é—´ï¼‰ï¼ŒRedis ä¸€èˆ¬ä½¿ç”¨åœ¨å“ªä¸€äº›åœºæ™¯é‡Œé¢ï¼ˆé’ˆå¯¹çƒ­ç‚¹æ•°æ®è¿›è¡Œç¼“å­˜ã€é™æ—¶æ•°æ®ç¼“å­˜ã€çƒ­ç‚¹æƒå€¼æ•°æ®è¿›è¡Œç¼“å­˜ï¼‰</p><p>4ã€channel æœ‰å‡ ç§ç±»å‹(è‡ªå·±å›ç­”æ˜¯è¯»ã€å†™ã€è¯»å†™ä¸‰ç§ï¼Œä¸ä¸€å®šå¯¹ï¼Œä¹Ÿå¯èƒ½chan intã€stringã€byte)</p><p>5ã€æ§åˆ¶ Goroutine æ•°é‡çš„å‡ ç§æ–¹å¼(channel æ§åˆ¶ï¼Œsync.WaitGroup æ§åˆ¶)</p><p>6ã€Go è¯­è¨€è°ƒåº¦æ¨¡å‹ï¼šGMP æ¨¡å‹ï¼ˆhand off æœºåˆ¶æ²¡å›ç­”ç‰¹åˆ«å¥½ï¼‰</p><p>7ã€Go è¯­è¨€çš„ GC (æ ‡è®°æ¸…é™¤æ³•ã€ä¸‰è‰²æ ‡è®°æ³•ã€æ··åˆå†™å±éšœæœºåˆ¶)</p><p>8ã€Go GC åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ GC æ•ˆç‡ä¸é«˜ï¼ˆSTW æ¬¡æ•°å¤šçš„æ—¶å€™æ•ˆç‡ä¸é«˜ï¼Œæ¯•ç«Ÿä¾èµ–äº STW æœºåˆ¶ï¼‰</p><p>9ã€TCP çš„ CLOSE_WAIT çŠ¶æ€å‡ºç°åœ¨é‚£ä¸€æ­¥</p><p>10ã€slice ä¸ map åº•å±‚æºç  (slice åº•å±‚ä¸ºæŒ‡é’ˆ Array ç±»å‹ï¼ŒGo ä¸­çš„ map æ˜¯ slice + list æ•°ç»„åŠ é“¾è¡¨ï¼Œè€Œ java é‡Œé¢æ˜¯æœ€ç®€å•çš„æ˜¯ æ•°ç»„, è§„æ¨¡è¾¾åˆ°ä¸€å®šç¨‹åº¦è½¬æ¢ä¸ºæ•°ç»„ + é“¾è¡¨æˆ–æ•°ç»„ + çº¢é»‘æ ‘çš„å½¢å¼)</p><p>11ã€Go è¯­è¨€çš„å†…å­˜æ³„æ¼ã€å†…å­˜é€ƒé€¸é—®é¢˜ (å†…å­˜é€ƒé€¸å°±æ˜¯æ ˆä¸Šå¼€è¾Ÿç©ºé—´å­˜æ”¾çš„å˜é‡ï¼Œé€ƒé€¸åˆ°å †ä¸Šå»äº†ï¼Œå†…å­˜æ³„æ¼ä¸»è¦æ˜¯çœ‹ OS çš„ç¯å¢ƒ, Linux ä¸‹ä½¿ç”¨ top&#x2F;htop)</p><p>12ã€å‡ é“ Go è¯­è¨€é¢è¯•çš„é¢˜ç›®ï¼šé—­åŒ…ä¼ å‚ã€å‘ç©º slice append æ•°ç­‰</p><p>13ã€Go è¯­è¨€å¦‚ä½• debug (è‡ªå·±å›ç­”æ˜¯ é‡‡ç”¨å•å…ƒæµ‹è¯•çš„åŠæ³•ã€pprof ç­‰æ–¹å¼æ–¹æ³•)</p><p>14ã€ç®—æ³•é¢˜ç›®ï¼šä¸‰æ•°ä¹‹å’Œï¼Œè¿”å›äºŒç»´æ•°ç»„ï¼ŒäºŒç»´æ•°ç»„å†…ä¸èƒ½æœ‰é‡å¤å€¼ï¼Œå³æ•°ç»„å†…å…ƒç´ ç›¸ç­‰</p></blockquote><h2 id="3ã€5-æœˆ-21-æ—¥æ¸©æ•…è€ŒçŸ¥æ–°"><a href="#3ã€5-æœˆ-21-æ—¥æ¸©æ•…è€ŒçŸ¥æ–°" class="headerlink" title="3ã€5 æœˆ 21 æ—¥æ¸©æ•…è€ŒçŸ¥æ–°"></a>3ã€5 æœˆ 21 æ—¥æ¸©æ•…è€ŒçŸ¥æ–°</h2><blockquote><p>1ã€Go è¯­è¨€ä¸­åç¨‹å‡ºç°äº†panic çš„æƒ…å†µï¼Œæœ‰ä»€ä¹ˆæ ·çš„æœºåˆ¶ä¿è¯åç¨‹æ¢å¤å¹¶ç»§ç»­æ‰§è¡Œä¸‹å»ï¼Ÿ</p><p>2ã€Go è¯­è¨€ä¸­çš„è°ƒè¯•ä¿¡æ¯ä½¿ç”¨ä»€ä¹ˆæŸ¥çœ‹ï¼Ÿ</p><p>3ã€Go è¯­è¨€ä¸­çš„å†…å­˜æ¨¡å‹ä¸å†…å­˜å›æ”¶æœºåˆ¶</p><p>4ã€Go ä¸ Python è¯­è¨€çš„åç¨‹å¯¹æ¯”æœ‰ä»€ä¹ˆåŒºåˆ«</p><p>5ã€<strong>Mysql é‡Œé¢æ‰§è¡Œè®¡åˆ’çš„æ¦‚å¿µ</strong>(ä¹‹å‰å¤ç›˜éƒ½æ²¡æœ‰å¬å‡ºæ¥è¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªåŠ²åœ¨è¯´ä¸çŸ¥é“)</p><p>6ã€redo-logã€undo-logã€bin-log ä¸‰ä¸ª log æ–‡ä»¶çš„ä½œç”¨ä¸åŒºåˆ«ï¼Œå¦‚ä½•ä½¿ç”¨ redo ä¸ bin ä¸¤ç§æ—¥å¿—å»ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Ÿ</p><p>7ã€<strong>æ•°æ®åº“å‡ºç°è¿‡æ€§èƒ½é—®é¢˜å˜›ï¼Œåƒä¸‡çº§æ•°æ®é‡çš„è¡¨å¦‚ä½•è¿›è¡Œä¸€ä¸ªæ’æŸ¥+ å¤„ç†</strong></p><p>8ã€grom æ“ä½œæ•°æ®åº“æ˜¯å¦‚ä½•æ“ä½œçš„ ï¼Ÿ</p><p>9ã€<strong>redis ä¸­ AOF ä¸ RDB ä¸¤ç§å¿«ç…§æ—¥å¿—ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Ÿ</strong></p><p>10ã€gin æ¡†æ¶çš„æºç çœ‹è¿‡å—ï¼Œé‡Œé¢è·¯ç”±å…·ä½“çš„å®ç°æœºåˆ¶æ˜¯æ€æ ·çš„</p><p>11ã€å¹³æ—¶å…³æ³¨é‚£æ ·ä¸€äº›å¼€æºæŠ€æœ¯ï¼Ÿ</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Direction</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Golang åƒåœ¾å›æ”¶æœºåˆ¶</title>
    <link href="/2022/03/01/go/basic/GC/"/>
    <url>/2022/03/01/go/basic/GC/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å­¦ä¹  Go è¯­è¨€ä¸­çš„å„ä¸ªç‰ˆæœ¬çš„åƒåœ¾å›æ”¶çš„æœºåˆ¶ã€‚</p></blockquote><h2 id="1ã€Go-V1-3-ç‰ˆæœ¬ä¹‹å‰çš„æ ‡è®°æ¸…é™¤-mark-and-sweep"><a href="#1ã€Go-V1-3-ç‰ˆæœ¬ä¹‹å‰çš„æ ‡è®°æ¸…é™¤-mark-and-sweep" class="headerlink" title="1ã€Go V1.3 ç‰ˆæœ¬ä¹‹å‰çš„æ ‡è®°æ¸…é™¤(mark and sweep)"></a>1ã€Go V1.3 ç‰ˆæœ¬ä¹‹å‰çš„æ ‡è®°æ¸…é™¤(mark and sweep)</h2><p>æ­¤ç‰ˆæœ¬çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹å››æ­¥ï¼š</p><blockquote><p>1ã€æš‚åœç¨‹åºä¸šåŠ¡é€»è¾‘ï¼Œæ‰¾å‡ºä¸å¯è¾¾çš„å¯¹è±¡ä»¥åŠå¯è¾¾çš„å¯¹è±¡</p><p>2ã€å¼€å§‹æ ‡è®°ï¼Œç¨‹åºæ‰¾å‡ºå…¶æ‰€æœ‰å¯è¾¾çš„å¯¹è±¡ï¼Œå¹¶è¿›è¡Œæ ‡è®°</p><p>3ã€æ ‡è®°å®Œä¹‹åï¼Œå¼€å§‹æ¸…é™¤æœªæ ‡è®°çš„å¯¹è±¡</p><p>4ã€ç»§ç»­è¿è¡Œç¨‹åºã€‚å¾ªç¯ä»¥ä¸Šçš„è¿‡ç¨‹ï¼ŒçŸ¥é“ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸç»ˆæ­¢ä¸ºæ­¢</p></blockquote><p>ä½†æ˜¯ç›¸åº”çš„ï¼ŒV1.3 ç‰ˆæœ¬ä¸­çš„åƒåœ¾å›æ”¶çš„é—®é¢˜ä¹Ÿè¾ƒå¤§ï¼š</p><p>é¦–å…ˆæœ‰ä¸ª STW æš‚åœç¨‹åºï¼Œè¿™ä¼šæµªè´¹å¤§é‡çš„æ—¶é—´å»å¤„ç†åƒåœ¾å›æ”¶ï¼Œä¸åˆ©äºæ•ˆç‡çš„æå‡ï¼Œå…¶æ¬¡æ¯ä¸€æ¬¡çš„æ ‡è®°éœ€è¦æ‰«ææ•´ä¸ª Heap å †åŒºï¼Œè€Œä¸”æ¸…é™¤ç›¸å…³çš„æ•°æ®ä¹Ÿä¼šäº§ç”Ÿå†…å­˜å †çš„ç¢ç‰‡ã€‚</p><h2 id="2ã€Go-v1-5-ç‰ˆæœ¬çš„ä¸‰è‰²æ ‡è®°æ³•"><a href="#2ã€Go-v1-5-ç‰ˆæœ¬çš„ä¸‰è‰²æ ‡è®°æ³•" class="headerlink" title="2ã€Go v1.5 ç‰ˆæœ¬çš„ä¸‰è‰²æ ‡è®°æ³•"></a>2ã€Go v1.5 ç‰ˆæœ¬çš„ä¸‰è‰²æ ‡è®°æ³•</h2><p>æ­¤æ—¶ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶å°†è¿è¡Œä¸­çš„ç¨‹åºçŠ¶æ€åˆ†ä¸ºï¼šç™½ã€é»‘ã€ç°ä¸‰ç§çŠ¶æ€</p><blockquote><p>1ã€æ¯ä¸€æ­¥é»˜è®¤åˆ›å»ºçš„å¯¹è±¡å‡æ ‡è®°å‡ä¸ºâ€ç™½è‰²â€</p><p>2ã€æ¯ä¸€æ¬¡ GC å›æ”¶çš„æ—¶å€™ï¼Œå‡ä¼šä»æ ¹èŠ‚ç‚¹éå†æ‰€æœ‰çš„å¯¹è±¡ï¼Œè€Œä¸”æŠŠéå†çš„å¯¹è±¡ä»ç™½è‰²çš„é›†åˆæ”¾å…¥â€ç°è‰²â€ çš„é›†åˆä¸­ï¼Œéå†ä¸ºéé€’å½’å½¢å¼ã€‚</p><p>3ã€éå†ç°è‰²çš„é›†åˆï¼Œå°†ç°è‰²å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡ä»ç™½è‰²é›†åˆä¸­æ”¾å…¥ç°è‰²é›†åˆï¼Œç„¶åå°†ç°è‰²å¯¹è±¡æ”¾å…¥é»‘è‰²é›†åˆä¸­ã€‚</p><p>4ã€é‡å¤ç¬¬ä¸‰æ­¥ï¼Œç›´åˆ°ç°è‰²é›†åˆä¸­ä¸­æ— ä»»ä½•å¯¹è±¡ã€‚</p><p>5ã€å›æ”¶æ‰€æœ‰ç™½è‰²é›†åˆä¸­çš„å¯¹è±¡ï¼Œå³å›æ”¶åƒåœ¾ã€‚</p></blockquote><p>ä½†æ˜¯æ­¤å¤„æœ‰ä¸¤ä¸ªé—®é¢˜:</p><ul><li><p>1ã€å¦‚æœé»‘è‰²å¯¹è±¡åä¹‹é—´å¼•ç”¨æŒ‡å‘ä¸€ä¸ªç™½è‰²çš„å¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨ç¬¬äºŒæ­¥çš„æ—¶å€™ï¼Œæ­¤ç™½è‰²å¯¹è±¡å¹¶ä¸èƒ½è¿›è¡Œç›¸åº”çš„æŸ“è‰²ï¼Œæ‰€ä»¥è¯´æ­¤å¤„ä¼šå¯¼è‡´ç™½è‰²å¯¹è±¡è¢«æ¸…é™¤ï¼</p></li><li><p>2ã€å¦‚æœä¹‹å‰ç™½è‰²å¯¹è±¡è¢«ç°è‰²å¯¹è±¡å¼•ç”¨ï¼Œè€Œåœ¨æ‰«ææ—¶ç³»ç»Ÿå‘ç”Ÿäº†æ•…éšœï¼Œå¯¼è‡´ç°è‰²å¯¹è±¡å¼•ç”¨ç™½è‰²å¯¹è±¡çš„æŒ‡é’ˆä¸¢å¤±ï¼Œå¯¼è‡´ç™½è‰²å¯¹è±¡è¢«æ¸…é™¤ã€‚</p></li></ul><p>æ‰€ä»¥è¿™æ ·ä¹Ÿå¼•å…¥äº†ç›¸åº”çš„ä¼˜åŒ–æ–¹æ³•ï¼šæ’å…¥å±éšœä¸åˆ é™¤å±éšœæœºåˆ¶ã€‚</p><h2 id="3ã€Go-æ’å…¥å†™å±éšœã€åˆ é™¤å†™å±éšœ"><a href="#3ã€Go-æ’å…¥å†™å±éšœã€åˆ é™¤å†™å±éšœ" class="headerlink" title="3ã€Go æ’å…¥å†™å±éšœã€åˆ é™¤å†™å±éšœ"></a>3ã€Go æ’å…¥å†™å±éšœã€åˆ é™¤å†™å±éšœ</h2><p>â€‹ æ’å…¥å†™å±éšœä¸»è¦åº”ç”¨ä¸ºï¼šåœ¨å¼ºä¸‰è‰²ä¸å˜å¼ä¸‹ï¼ˆé»‘è‰²ç›´æ¥å¼•ç”¨ç™½è‰²çš„å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œä½¿ç”¨æ’å…¥å†™å±éšœæœºåˆ¶ï¼Œå¼ºè¡Œæ”¹å†™é»‘è‰²å¼•ç”¨å¯¹è±¡ç™½è‰²ä¸ºç°è‰²ã€‚ä½†æ˜¯æ’å…¥å†™å±éšœæœºåˆ¶ä¼šæœ‰å‡ ä¸ªç¼ºç‚¹ï¼šéœ€è¦é‡æ–°æ‰«ææ ˆï¼Œå¤§çº¦ 10 ms ~ 100 msï¼Œä¹Ÿæ¶ˆè€—äº†ç›¸åº”çš„ç³»ç»Ÿèµ„æºã€‚</p><p>â€‹ åˆ é™¤å†™å±éšœä¸»è¦åº”ç”¨ä¸ºï¼šåœ¨å¼±ä¸‰è‰²ä¸å˜å¼ä¸‹ï¼ˆé»‘è‰²å¼•ç”¨ç™½è‰²å¯¹è±¡ï¼Œç™½è‰²å¯¹è±¡å…¶ä»–ä¸Šæ¸¸çš„å¼•ç”¨å¯¹è±¡æœ‰ç°è‰²å¯¹è±¡è¿›è¡Œå¼•ç”¨ï¼šè§£å†³æ–¹æ³•ä¹‹åå†™ï¼‰ï¼Œå…¶ä¹Ÿå­˜åœ¨ç›¸åº”çš„ä¸è¶³ï¼šå›æ”¶ç²¾åº¦ä½ã€ä¸€ä¸ªå¯¹è±¡å³ä½¿è¢«åˆ é™¤äº†æœ€åä¸€ä¸ªæŒ‡å‘å®ƒçš„æŒ‡é’ˆä¹Ÿä¾æ—§èƒ½æ´»è¿‡è¿™ä¸€è½®ï¼Œåœ¨ä¸‹ä¸€è½®çš„ GC ä¸­è¢«æ¸…é™¤ã€‚</p><h2 id="4ã€Go-V1-8-ä¸‰è‰²æ ‡è®°æ³•ä¸æ··åˆå†™å±éšœ"><a href="#4ã€Go-V1-8-ä¸‰è‰²æ ‡è®°æ³•ä¸æ··åˆå†™å±éšœ" class="headerlink" title="4ã€Go V1.8 ä¸‰è‰²æ ‡è®°æ³•ä¸æ··åˆå†™å±éšœ"></a>4ã€Go V1.8 ä¸‰è‰²æ ‡è®°æ³•ä¸æ··åˆå†™å±éšœ</h2><p>â€‹ æ··åˆæ ‡è®°æ³•å…¶å®å¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æŠŠæ’å…¥å†™å±éšœä¸åˆ é™¤å†™å±éšœæ··åˆèµ·æ¥è¿›è¡Œä½¿ç”¨ï¼Œå…¶ç›¸åº”çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><blockquote><p>1ã€åœ¨ Go GC è§¦å‘ä¹‹å‰ï¼Œé€’å½’æ‰«æåˆ†é…åœ¨æ ˆä¸Šçš„å¯¹è±¡ï¼Œä½¿æ ˆä¸Šçš„å¯¹è±¡å…¨éƒ¨æ ‡è®°ä¸ºâ€é»‘è‰²â€ï¼ˆæ­¤å¤„å› ä¸ºæ˜¯æ ‡è®°ä¸ºå…¨éƒ¨ â€œé»‘è‰²â€ï¼Œæ‰€ä»¥ä¸ä¼šä½¿ç”¨ STW æœºåˆ¶ï¼‰</p><p>2ã€åœ¨ Go GC è¿è¡ŒæœŸé—´ï¼Œå¦‚æœå¾€æ ˆä¸Šæ’å…¥å¯¹è±¡ï¼Œå°†æ ˆä¸Šçš„å¯¹è±¡å…¨éƒ¨æ ‡è®°ä¸º â€œé»‘è‰²â€ã€‚</p><p>3ã€åŒç†ï¼Œåœ¨ Go GC è¿è¡Œï¼Œæ‰€æœ‰å¾€å †ä¸Šæ’å…¥æˆ–è€…åˆ é™¤çš„å¯¹è±¡ï¼Œéƒ½æ ‡è®°ä¸º â€œç°è‰²â€</p></blockquote><h2 id="5ã€Go-GC-æ€§èƒ½ä¸ä½³çš„åŸå› "><a href="#5ã€Go-GC-æ€§èƒ½ä¸ä½³çš„åŸå› " class="headerlink" title="5ã€Go GC æ€§èƒ½ä¸ä½³çš„åŸå› "></a>5ã€Go GC æ€§èƒ½ä¸ä½³çš„åŸå› </h2><p>1ã€å»ºç«‹çš„ struct å¯¹è±¡è¿‡å°ï¼Œæ‰€ä»¥å¯¼è‡´é¢‘ç¹çš„ GC æ£€æŸ¥ï¼›</p><p>2ã€Go æ–‡ä»¶ä¸­å‡ºç°å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GMP æ¨¡å‹åˆ†æ</title>
    <link href="/2022/02/24/go/concurrency/GMP/"/>
    <url>/2022/02/24/go/concurrency/GMP/</url>
    
    <content type="html"><![CDATA[<p>â€‹ å…³äº GMP æ¨¡å‹çš„ä¸€äº›ç†è§£ï¼ŒG ä¸º goroutine, M ä¸º thread(å†…æ ¸çº§çº¿ç¨‹)ã€P ä¸º Processor(å¤„ç†å™¨)ã€‚</p><h2 id="1ã€Golang-æ—©æœŸè°ƒåº¦å™¨çš„ç”±æ¥"><a href="#1ã€Golang-æ—©æœŸè°ƒåº¦å™¨çš„ç”±æ¥" class="headerlink" title="1ã€Golang æ—©æœŸè°ƒåº¦å™¨çš„ç”±æ¥"></a>1ã€Golang æ—©æœŸè°ƒåº¦å™¨çš„ç”±æ¥</h2><p>â€‹ åœ¨è®²è¿°æ—©æœŸè°ƒåº¦å™¨ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆèŠä¸€ä¸‹æ—©æœŸçš„æ“ä½œç³»ç»Ÿã€‚</p><p>â€‹ åœ¨æ²¡æœ‰å¤šæ ¸ CPU ä¹‹å‰ï¼Œæ“ä½œç³»ç»Ÿä»¥å•è¿›ç¨‹çš„ä»»åŠ¡æ‰§è¡Œï¼Œè®¡ç®—æœºåœ¨åªèƒ½ä¸€ä¸ªä»»åŠ¡ä¸€ä¸ªä»»åŠ¡å®Œæ•´çš„æ‰§è¡Œçš„æƒ…å†µã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œæ“ä½œç³»ç»Ÿä¸ä»…å­˜åœ¨å·¥ä½œæ•ˆç‡ä½ä¸‹çš„é—®é¢˜ï¼Œè€Œä¸”ä¸€æ—¦æ­£åœ¨æ‰§è¡Œä»»åŠ¡è¢«é˜»å¡æ—¶ï¼ŒCPU èµ„æºæ— æ³•é‡Šæ”¾ï¼Œä¼šå¯¼è‡´å…¶ CPU èµ„æºä¸æ—¶é—´çš„æµªè´¹ï¼Œå› æ­¤æ“ä½œç³»ç»Ÿé‡‡ç”¨äº†æ—¶é—´ç‰‡è½®è¯¢çš„æ–¹å¼è°ƒåº¦è¿›ç¨‹ï¼Œè€Œæ­¤ä¸¾åŠ¨ä¹Ÿæ— æ³•æ”¹å˜å•æ ¸ CPU çš„ç¡¬ä»¶æ¡ä»¶ã€‚</p><p>â€‹ ä¸ºäº†è§£å†³ä¸Šè¿°ç¼ºé™·ï¼Œéšåå¼•å…¥äº†å¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹çš„è§£å†³æ–¹å¼ã€‚è™½ç„¶å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹çš„æ–¹å¼å¾ˆå¥½è§£å†³äº† CPU è°ƒåº¦çš„ï¼Œæ•ˆç‡é—®é¢˜ï¼Œä½†æ˜¯è®¾è®¡å¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹çš„æ¶æ„ä¼šå˜å¾—å¼‚å¸¸å¤æ‚ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå½“è¿›ç¨‹ä¸çº¿ç¨‹æ•°é‡è¶Šå¤šçš„æ—¶å€™ï¼Œå¤šè¿›ç¨‹å¤šçº¿ç¨‹ç³»ç»Ÿè¿›è¡Œè¿›ç¨‹çº¿ç¨‹åˆ‡æ¢çš„æˆæœ¬å°±è¶Šå¤§ï¼Œèµ„æºæµªè´¹ç°è±¡ä¹Ÿè¶Šæ˜æ˜¾ï¼šå¦‚(é”ã€ç«äº‰èµ„æºå†²çªç­‰)ï¼Œæ‰€ä»¥åœ¨å¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹æ¨¡å‹ä¸­ä¹Ÿå­˜åœ¨ç›¸åº”çš„å£å’ï¼Œå³é«˜å†…å­˜å ç”¨ä¸é«˜ CPU è°ƒåº¦æ¶ˆè€—ã€‚</p><p>â€‹ è€Œ Go è¯­è¨€ä¸ºäº†æ›´å¥½çš„è§£å†³æ“ä½œç³»ç»Ÿä¸­çº¿ç¨‹è°ƒåº¦çš„å¼€é”€å¤§ï¼Œå¼•å…¥äº†æ¯”çº¿ç¨‹æ›´è½»é‡çº§çš„åç¨‹ï¼Œå…¶å†…å­˜å ç”¨ä¸€èˆ¬åªæœ‰ 4KB ï¼Œè°ƒåº¦çµæ´»ï¼Œåˆ‡æ¢æˆæœ¬ä½ã€‚å¹¶ä¸”å¼€å‘å‡º Go è¯­è¨€æ—©æœŸçš„è°ƒåº¦å™¨ï¼šåŸºæœ¬çš„å…¨å±€ Go é˜Ÿåˆ—å’Œæ¯”è¾ƒä¼ ç»Ÿçš„è½®è¯¢æ–¹æ³•ï¼Œåˆ©ç”¨å¤šä¸ª M è¿›è¡Œ G çš„è°ƒåº¦ï¼Œå¯ä»¥ç§°å…¶ä¸º GM æ¨¡å‹ã€‚</p><h2 id="2ã€GM-æ—©æœŸè°ƒåº¦å™¨çš„ç¼ºç‚¹"><a href="#2ã€GM-æ—©æœŸè°ƒåº¦å™¨çš„ç¼ºç‚¹" class="headerlink" title="2ã€GM æ—©æœŸè°ƒåº¦å™¨çš„ç¼ºç‚¹"></a>2ã€GM æ—©æœŸè°ƒåº¦å™¨çš„ç¼ºç‚¹</h2><p>â€‹ Go è¯­è¨€æ—©æœŸçš„è°ƒåº¦å™¨ GM æ¨¡å‹è™½ç„¶èƒ½å¤Ÿåˆ©ç”¨å¤šæ ¸çš„ CPU ï¼Œä½†æ˜¯å…¶ç›¸åº”çš„ç¼ºç‚¹ä¹Ÿéå¸¸æ˜æ˜¾ï¼š</p><blockquote><ul><li>1ã€åˆ›å»ºã€é”€æ¯ã€è°ƒåº¦ G éƒ½éœ€è¦æ¯ä¸ª M è·å–é”ï¼Œå½¢æˆäº†æ¿€çƒˆçš„é”ç«äº‰</li><li>2ã€M è°ƒåº¦ G æ—¶ï¼Œä¼šé€ æˆå»¶è¿Ÿä»¥åŠé¢å¤–çš„ç³»ç»Ÿè´Ÿè½½</li><li>3ã€ç³»ç»Ÿè°ƒç”¨(CPU åœ¨ M ä¹‹é—´çš„åˆ‡æ¢)å¯¼è‡´é¢‘ç¹çš„çº¿ç¨‹é˜»å¡å’Œå–æ¶ˆæ“ä½œï¼Œå¢åŠ äº†ç³»ç»Ÿå¼€é”€ã€‚</li></ul></blockquote><p>â€‹ æ‰€ä»¥ä¸ºäº†è§£å†³ä»¥ä¸Šçš„é—®é¢˜ï¼Œå¼•å…¥äº† GMP æ¨¡å‹ã€‚</p><h2 id="3ã€GMP-ç°ä»£è°ƒåº¦å™¨ç®€ä»‹"><a href="#3ã€GMP-ç°ä»£è°ƒåº¦å™¨ç®€ä»‹" class="headerlink" title="3ã€GMP ç°ä»£è°ƒåº¦å™¨ç®€ä»‹"></a>3ã€GMP ç°ä»£è°ƒåº¦å™¨ç®€ä»‹</h2><p>â€‹ å¦‚ä¸‹å›¾å¯çŸ¥ï¼ŒGMP ç°ä»£è°ƒåº¦å™¨ï¼Œé‡‡ç”¨äº†ä¸¤ç§é˜Ÿåˆ—ï¼šå…¨å±€é˜Ÿåˆ—ä»¥åŠæœ¬åœ°é˜Ÿåˆ—ã€‚</p><p><img src="/images/go/GMP2.png"></p><p>å…¨å±€é˜Ÿåˆ—å¾ˆå¥½ç†è§£ï¼Œå¯è§†ä¸ºå…¨å±€å˜é‡ï¼Œæœ¬åœ°é˜Ÿåˆ—åˆ™èƒ½ç†è§£ä¸ºå±€éƒ¨å˜é‡ã€‚æœ¬åœ°é˜Ÿåˆ—çš„ä¸ªæ•°ä¾èµ–äº P çš„ä¸ªæ•°ï¼Œå³ GOMAXPROCS çš„ä¸ªæ•°ï¼Œæ­¤å€¼ç”±å¯åŠ¨æ—¶ç¯å¢ƒå˜é‡<code>$GOMAXPROCS</code>æˆ–è€…æ˜¯ç”±<code>runtime</code>çš„æ–¹æ³•<code>GOMAXPROCS()</code>å†³å®šã€‚è¿™æ„å‘³ç€åœ¨ç¨‹åºæ‰§è¡Œçš„ä»»æ„æ—¶åˆ»éƒ½åªæœ‰<code>$GOMAXPROCS</code>ä¸ªgoroutineåœ¨åŒæ—¶è¿è¡Œã€‚æ¯ä¸€ä¸ª P çš„æœ¬åœ°é˜Ÿåˆ—ä¸­èƒ½å­˜æ”¾ G çš„ä¸ªæ•°ä¸è¶…è¿‡ 256 ä¸ªã€‚æ–°å»ºçš„ G ä¸€èˆ¬ä¼˜å…ˆæ”¾ç½®åœ¨ P çš„æœ¬åœ°é˜Ÿåˆ—ä¸­ã€‚</p><p>â€‹ Go è¯­è¨€æœ¬èº«é™å®š M æ•°é‡çš„æœ€å¤§é‡ä¸º 10000 (å¿½ç•¥)ï¼Œä¸€èˆ¬æ“ä½œç³»ç»Ÿä¹Ÿè¾¾ä¸åˆ° 10000 ä¸ªçº¿ç¨‹ã€‚ä½¿ç”¨ runtime&#x2F;debug åŒ…ä¸­çš„SetMaxThreads å‡½æ•°æ¥è®¾ç½®ã€‚æœ‰ä¸€ä¸ª M é˜»å¡ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Mï¼Œå¦‚æœæœ‰ M ç©ºé—²ï¼Œåˆ™ä¼šè¿›è¡Œå›æ”¶æˆ–è€…ç¡çœ ã€‚</p><h2 id="4ã€GMP-è°ƒåº¦ç­–ç•¥"><a href="#4ã€GMP-è°ƒåº¦ç­–ç•¥" class="headerlink" title="4ã€GMP è°ƒåº¦ç­–ç•¥"></a>4ã€GMP è°ƒåº¦ç­–ç•¥</h2><p>â€‹ è®¾è®¡ç­–ç•¥æœ‰ä»¥ä¸‹å››ç§ï¼š</p><blockquote><p>1ã€çº¿ç¨‹å¤ç”¨</p><p>â€‹ é‡‡ç”¨ä¸¤ç§æœºåˆ¶ï¼šwork stealing æœºåˆ¶ ä¸ hand off æœºåˆ¶ã€‚</p><p>â€‹ work stealing æœºåˆ¶ï¼šå½“æœ¬çº¿ç¨‹æ— å¯è¿è¡Œçš„ G æ—¶ï¼Œå°è¯•ä»å…¶ä»–çš„çº¿ç¨‹ç»‘å®šçš„ P å·å– Gï¼Œè€Œä¸æ˜¯é”€æ¯çº¿ç¨‹ï¼Œä¼˜å…ˆçº§æ˜¯å…ˆä»å…¨å±€é˜Ÿåˆ—ä¸­è·å– Gï¼Œå†ä»å…¶ä»–çš„ P çš„æœ¬åœ°é˜Ÿåˆ—ä¸­è·å– G ã€‚</p><p>â€‹ hand off æœºåˆ¶ï¼šå½“æœ¬çº¿ç¨‹å› ä¸º G è¿›è¡Œç³»ç»Ÿè°ƒç”¨é˜»å¡çš„æ—¶å€™ï¼Œçº¿ç¨‹é‡Šæ”¾ç»‘å®šçš„ Pï¼ŒæŠŠ P è½¬ç§»ç»™å…¶ä»–ç©ºé—²çš„çº¿ç¨‹æ‰§è¡Œã€‚</p><p>2ã€å¹¶è¡Œåº”ç”¨</p><p>â€‹ ä¸€èˆ¬æ¥è¯´ï¼ŒGOMAXPROCS é™å®šçš„ P ä¸ªæ•°ä¸º CPU çš„æ ¸å¿ƒæ•°é‡çš„ä¸€åŠã€‚</p><p>3ã€æŠ¢å </p><p>â€‹ æœ‰å¤šä¸ª G ç­‰å¾…æ‰§è¡Œæ—¶å€™ï¼Œæ¯ä¸ª G åœ¨ cpu æ‰§è¡Œä¸‹ä¸è¶…è¿‡ 10msï¼Œé˜²æ­¢å…¶ä»– G è¢«é¥¿æ­»ç°è±¡ã€‚</p><p>4ã€å…¨å±€ G é˜Ÿåˆ—</p><p>â€‹ åŸºäºwork stealing æœºåˆ¶è¿›è¡Œçš„è¡¥å……ã€‚ä»å…¶ä»– P æœ¬åœ°é˜Ÿåˆ—å·ä¸åˆ° G æ—¶ï¼Œå·å–å…¨å±€é˜Ÿåˆ—çš„ G ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GMP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go web çš„ç›¸å…³çŸ¥è¯†å¤ä¹ </title>
    <link href="/2022/02/22/go/basic/gin/"/>
    <url>/2022/02/22/go/basic/gin/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å¼€å§‹åŠ¨æ‰‹å­¦ä¹ ä¸€äº›æ¡†æ¶çš„åŸºæœ¬æ ·ä¾‹ï¼ŒæŠ›å¼€å­¦ä¹ åº•å±‚çš„è®¾è®¡ä¸è°ˆï¼Œä¸»è¦è¿˜æ˜¯å‚è€ƒæ–‡æ¡£è¿›è¡Œç›¸åº”çš„ç»„ä»¶å¼€å‘ã€‚å‚è€ƒæ–‡æ¡£è§æ–‡æœ«</p></blockquote><h2 id="1ã€Beego-ä¸-gin"><a href="#1ã€Beego-ä¸-gin" class="headerlink" title="1ã€Beego ä¸ gin"></a>1ã€Beego ä¸ gin</h2><p>â€‹ é¦–å…ˆå­¦ä¹ æ¡†æ¶ä¹‹å‰ï¼Œéœ€è¦æˆ‘ä»¬ç†è§£ä¸€ä¸ªé“ç†ï¼Œå­¦ä¹ æ¡†æ¶çš„ç›®çš„æ˜¯é¦–å…ˆæ˜¯é€‚åº”ä¸šåŠ¡åœºæ™¯çš„éœ€è¦ï¼Œå…¶æ¬¡æ˜¯æœ‰ä¸¤ç§å¤§ç±»ï¼šä¸€ç§æ˜¯ä¸ºäº†å¼€å‘æ•ˆç‡ï¼Œå¦ä¸€ç§æ˜¯ä¸ºäº†è¿½æ±‚è¿è¡Œçš„æ€§èƒ½ã€‚</p><p>â€‹ è¿½æ±‚è¿è¡Œæ€§èƒ½çš„æ¡†æ¶åŒ…å«çš„ä¸œè¥¿æŒºå¥½ï¼Œæ¯”å¦‚ GIN ï¼Œå¦ä¸€ç§è¿½æ±‚å¼€å‘æ•ˆç‡çš„æ¡†æ¶å°è£…å¾—éå¸¸å¥½ï¼Œå³æ˜¯ Beego æ¡†æ¶ã€‚</p><h2 id="2ã€è·¯ç”±åˆ†ç»„"><a href="#2ã€è·¯ç”±åˆ†ç»„" class="headerlink" title="2ã€è·¯ç”±åˆ†ç»„"></a>2ã€è·¯ç”±åˆ†ç»„</h2><p>â€‹ gin æ¡†æ¶çš„è·¯ç”±åˆ†ç»„ä¸ºï¼šå¯¹ router åˆ›å»º Group å³ä¸ºåˆ†ç»„ï¼ŒåŒä¸€åˆ†ç»„æ‹¥æœ‰åŒä¸€å‰ç¼€å’ŒåŒä¸€ä¸­é—´ä»¶ã€‚å…¶ç›¸å…³çš„å†™æ³•å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>v1 <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Group</span><span class="token punctuation">(</span><span class="token string">"v1"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    v1<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">,</span> login<span class="token punctuation">)</span>    v1<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/submit"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">)</span>    v1<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/read"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è·¯ç”±åˆ†ç»„çš„ç›®çš„æ˜¯ï¼šä½¿è·¯ç”±æ›´åŠ æ¸…æ™°ï¼Œæ–¹ä¾¿ç®¡ç†è·¯ç”±</p><h2 id="3ã€ä¸­é—´ä»¶"><a href="#3ã€ä¸­é—´ä»¶" class="headerlink" title="3ã€ä¸­é—´ä»¶"></a>3ã€ä¸­é—´ä»¶</h2><p>â€‹ åœ¨è¯·æ±‚åˆ°è¾¾è·¯ç”±çš„æ–¹æ³•å‰å’Œåè¿›è¡Œçš„ä¸€ç³»åˆ—çš„æ“ä½œï¼Œä½¿ç”¨ä¸­é—´ä»¶çš„æ—¶å€™ï¼Œåœ¨è·¯ç”±ç»„ä¸Šè¿›è¡Œ use æ“ä½œï¼Œåé¢ä¼ å…¥ä¸­é—´ä»¶å‡½æ•°å³å¯ã€‚ä¸­é—´ä»¶æœ‰æ¦‚å¿µå«åš<a href="https://zhuanlan.zhihu.com/p/279391637">æ´‹è‘±ä¸­é—´ä»¶</a>ï¼Œæ­¤å¤„å¼•ç”¨çŸ¥ä¹åšä¸»çš„å›¾ï¼š</p><p><img src="/images/go/gin.jpg" alt="gin"></p><p>ç”¨ Go è¯­è¨€å†™çš„è¿˜æœ‰ä»¥ä¸‹çš„ç›¸å…³ä¸­é—´ä»¶</p><blockquote><p>æ—¥å¿—: ä¸€èˆ¬æ—¥å¿—ä½¿ç”¨å…¶ä»–çš„å·¥å…·ï¼šå¦‚ go-loggingã€logrus ç­‰å¼€æºåº“ã€‚ä»¥åŠé…åˆç›¸åº”çš„æ—¥å¿—åˆ‡å‰²å·¥å…·å»ä½¿ç”¨ã€‚</p><p>Gorm: orm ä¸ºæ˜¯ä¸€ç§æ•°æ®åº“æ“ä½œè¾…åŠ©å·¥å…·ã€‚Gorm å³æ˜¯åœ¨ go è¯­è¨€ç»“æ„ä½“å’Œæ•°æ®åº“äº§ç”Ÿæ˜ å°„ï¼Œä½¿å¾—æ•°æ®åº“å…³ç³»ã€è¡¨å†…å®¹å¯ä»¥ç›´è§‚çš„ä½“ç°åœ¨ç»“æ„ä½“ä¸Šã€‚å³å¯ä½¿ç”¨ç»“æ„ä½“å®Œæˆå¢åˆ æ”¹æŸ¥çš„æ“ä½œï¼è‡³äº Gorm å¦‚ä½•ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒç›¸åº”çš„è¯¦ç»†æ–‡æ¡£ï¼Œç®€å•çš„å¢åˆ æ”¹æŸ¥å¯ä»¥ä½¿ç”¨ Gormã€‚è®¾è®¡å¤æ‚çš„ç»“æ„ä»¥åŠä¼˜åŒ–æ“ä½œï¼Œå»ºè®®é˜…è¯» MYSQL æ€§èƒ½è°ƒä¼˜ï¼Œé˜…è¯»ç›¸åº”çš„ä¾‹å­è¿›è¡Œä¼˜åŒ–ã€‚</p></blockquote><h2 id="4ã€æ¡†æ¶çš„å­¦ä¹ "><a href="#4ã€æ¡†æ¶çš„å­¦ä¹ " class="headerlink" title="4ã€æ¡†æ¶çš„å­¦ä¹ "></a>4ã€æ¡†æ¶çš„å­¦ä¹ </h2><p>â€‹å¿«é€ŸæŒæ¡ä»£ç åº“ä¸­çš„åº“å‡½æ•°ï¼Œæœ€é€‚åˆçš„å­¦ä¹ æ–¹æ³•ä¸ºï¼šå…ˆè¯»åº“å‡½æ•° -&gt;  å†è¯»ç›¸åº”çš„ç»“æ„ä½“å®šä¹‰ -&gt; æœ€åè¯»ç›¸åº”çš„ç»“æ„ä½“ç»‘å®šçš„æ–¹æ³•ã€‚</p><p>â€‹å…¶ä¸­å‰ä¸¤éƒ¨åˆ†åªéœ€è¦æ‰§è¡Œ go doc å‘½ä»¤å³å¯æŸ¥çœ‹ç›¸åº”çš„å‡½æ•°ä¸ç»“æ„ä½“ï¼Œè€Œç¬¬ä¸‰éƒ¨åˆ†éœ€è¦ä»”ç»†é˜…è¯»ç›¸åº”çš„æºç ã€‚è®°å½•å­¦ä¹ çš„è¿‡ç¨‹ï¼Œå»ºè®®ä½¿ç”¨æ€ç»´å¯¼å›¾ï¼Œæœ€åå¯¼å…¥ markdown æ–‡ä»¶ä¸­ã€‚</p><h2 id="5ã€Restful-é£æ ¼"><a href="#5ã€Restful-é£æ ¼" class="headerlink" title="5ã€Restful é£æ ¼"></a>5ã€Restful é£æ ¼</h2><p>å…¶ä¸­ restful ä¸»è¦æ˜¯å››ç§æ–¹å¼ GETã€POSTã€PUTã€DELETE</p><blockquote><p>GET ç”¨äºè·å–èµ„æº</p><p>POST ç”¨äºåˆ›å»ºèµ„æº</p><p>PUT ç”¨äºä¿®æ”¹èµ„æº</p><p>DELETE ç”¨äºåˆ é™¤èµ„æº</p></blockquote><hr><h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><p><a href="https://www.kancloud.cn/shuangdeyu/gin_book/949415">https://www.kancloud.cn/shuangdeyu/gin_book/949415</a></p><p><a href="https://gorm.io/zh_CN/docs/">https://gorm.io/zh_CN/docs/</a></p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL ä¸ SQL å¤ä¹ </title>
    <link href="/2022/02/19/middleware/mysql1/"/>
    <url>/2022/02/19/middleware/mysql1/</url>
    
    <content type="html"><![CDATA[<blockquote><p>è½»é‡åŒ–å¤ç›˜ä¸€ä¸‹ sql æ“ä½œï¼Œä»¥åŠ MySQL</p></blockquote><h2 id="1ã€SELECT-è¯­å¥"><a href="#1ã€SELECT-è¯­å¥" class="headerlink" title="1ã€SELECT è¯­å¥"></a>1ã€SELECT è¯­å¥</h2><p>â€‹ æ•°æ®æŸ¥è¯¢ä¸ºå…³ç³»è¿ç®—ç†è®ºåœ¨ SQL è¯­è¨€ä¸­çš„ä¸»è¦ä½“ç°ã€‚SQL çš„æ•°æ®æŸ¥è¯¢åªä¸€æ¡ SELECT è¯­å¥ï¼Œå…¶ä½¿ç”¨æœ€å¹¿æ³›ã€‚ä¸€ä¸ªå®Œæ•´çš„ SELECT è¯­å¥åŒ…å«äº†å…­ä¸ªå­—å¥ï¼Œå‰ä¸¤ä¸ªå­—å¥æ˜¯å¿…å¤‡çš„ï¼Œå…¶ä»–å­—å¥å¯ä»¥çœç•¥</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> å®Œæ•´æ ¼å¼ï¼š<span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">DISTINCT</span><span class="token punctuation">]</span> ç›®æ ‡åˆ—ååºåˆ— <span class="token comment">------ æŸ¥çœ‹çš„åˆ— [distinct] ä¸ºå»é‡æ“ä½œ</span><span class="token keyword">FROM</span> è¡¨åæˆ–è§†å›¾å <span class="token comment">------------------- æ•°æ®æ¥æº</span><span class="token punctuation">[</span><span class="token keyword">WHERE</span> æ¡ä»¶è¡¨è¾¾å¼<span class="token punctuation">]</span> <span class="token comment">------------------ æŸ¥è¯¢æ¡ä»¶</span><span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token operator">+</span> åˆ—å<span class="token punctuation">]</span> <span class="token comment">------------------ åˆ†ç»„ä¾æ®</span><span class="token punctuation">[</span><span class="token keyword">HAVING</span> <span class="token operator">+</span> ç»„æ¡ä»¶è¡¨è¾¾å¼<span class="token punctuation">]</span> <span class="token comment">------------- åˆ†ç»„æ¡ä»¶</span><span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token operator">+</span> åˆ—å <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token operator">|</span><span class="token keyword">DESC</span><span class="token punctuation">]</span>åºåˆ—<span class="token punctuation">]</span><span class="token comment">--- æ’åºä¾æ®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ å…¶ä¸­ä½¿ç”¨ distinct æ—¶è¦æ³¨æ„åˆ—åè¦åœ¨ distinct çš„åé¢ï¼Œè€Œä½¿ç”¨èšåˆå‡½æ•°æ—¶ï¼Œåˆ™æ˜¯åœ¨ count[distinct&lt;åˆ—å&gt;] è¯­æ³•ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> device_id <span class="token keyword">FROM</span> usr_profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ æŸ¥è¯¢åˆ—åï¼Œå°†åˆ—å–åˆ«åæ“ä½œï¼Œè¦ä½¿ç”¨ as ï¼Œä½†æ˜¯ä¹Ÿèƒ½çœç•¥</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">åˆ—å <span class="token operator">|</span> è¡¨è¾¾å¼ <span class="token punctuation">[</span> <span class="token keyword">AS</span> <span class="token punctuation">]</span> æ–°åˆ—å æˆ– æ–°åˆ—åï¼åˆ—å <span class="token operator">|</span> è¡¨è¾¾å¼<span class="token keyword">SELECT</span> device_id <span class="token keyword">as</span> user_infos_example <span class="token keyword">FROM</span> user_profile<span class="token comment"># ç­‰åŒäº</span><span class="token keyword">SELECT</span> device_id user_infos_example <span class="token keyword">FROM</span> user_profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="2ã€LIMIT-è¯­å¥"><a href="#2ã€LIMIT-è¯­å¥" class="headerlink" title="2ã€LIMIT è¯­å¥"></a>2ã€LIMIT è¯­å¥</h2><p>â€‹ åœ¨å¤§è¡¨ä¸­ï¼Œä¸€èˆ¬å¾ˆå°‘ä¸€æ¬¡æ€§æŸ¥å‡ºæ‰€æœ‰æ•°æ®ï¼Œè¿™æ ·å¯¹æ•°æ®åº“çš„å‹åŠ›å¤ªå¤§ï¼Œå¦‚æœåªæ˜¯æŠ½æŸ¥ä¸€äº›æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨LIMITå…³é”®å­—æ¥æŸ¥è¯¢ã€‚ LIMIT å­å¥çš„ä½¿ç”¨ï¼Œç”¨äºå¼ºåˆ¶ SELECT è¯­å¥è¿”å›æŒ‡å®šçš„è®°å½•æ•°ã€‚å…¶æ¥å—ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°å­—å‚æ•°ï¼Œä¸”å‚æ•°å¿…é¡»ä¸ºæ•´å‹å¸¸é‡ã€‚</p><p>â€‹ å¦‚æœåªç»™å®šä¸€ä¸ªå‚æ•°ï¼Œè¿”å›æœ€å¤§çš„è®°å½•è¡Œæ•°ç›®</p><p>â€‹ ç»™çš„ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡Œæ•°åºå·ï¼ˆä»0å¼€å§‹è¡¨ç¤ºç¬¬ä¸€è¡Œï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°é‡ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token comment"># æ£€ç´¢è®°å½•è¡Œ6-10</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ ä¹Ÿèƒ½ç»“åˆoffset ä¸€èµ·ä½¿ç”¨ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> device_id <span class="token keyword">from</span> user_profile <span class="token keyword">limit</span> <span class="token number">2</span> <span class="token keyword">offset</span> <span class="token number">0</span> <span class="token comment"># è·³è¿‡0æ¡ï¼Œä»ç¬¬ä¸€æ¡æ•°æ®å¼€å§‹å–ï¼Œå–ä¸¤æ¡æ•°æ®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="3ã€BETWEEN-è¯­å¥"><a href="#3ã€BETWEEN-è¯­å¥" class="headerlink" title="3ã€BETWEEN è¯­å¥"></a>3ã€BETWEEN è¯­å¥</h2><p>â€‹ å½“éœ€è¦æŸ¥è¯¢æŸä¸ªèŒƒå›´å€¼çš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨ä¸¤ç§è¯­å¥ï¼Œbetween andï¼Œ ä»¥åŠ and è¯­å¥</p><figure><div class="code-wrapper"><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT device_id, gender, age FROM user_profile where age between 20 and 23# ç­‰ä»·äºSELECT device_id, gender, age FROM user_profile where age &gt;&#x3D; 20 and age &lt;&#x3D; 23<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="4ã€NOT-IN-è¯­å¥"><a href="#4ã€NOT-IN-è¯­å¥" class="headerlink" title="4ã€NOT IN è¯­å¥"></a>4ã€NOT IN è¯­å¥</h2><p>â€‹ å½“éœ€è¦æŸ¥è¯¢é›†åˆä¸­æŒ‡å®šå±æ€§å€¼æ—¶ï¼Œä½¿ç”¨ IN ï¼Œé™¤æ­¤å±æ€§å€¼ä¹‹å¤–çš„æ‰€æœ‰å€¼ä½¿ç”¨ NOT IN</p><figure><div class="code-wrapper"><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">åˆ—å [NOT] IN &#39;å±æ€§å€¼&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>â€‹ INï¼šå½“åˆ—ä¸­çš„å€¼ä¸INä¸­çš„æŸä¸ªå¸¸é‡å€¼ç›¸ç­‰æ—¶ï¼Œåˆ™ç»“æœä¸ºTrueï¼Œè¡¨æ˜æ­¤è®°å½•ä¸ºç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„è®°å½•ã€‚<br>â€‹ NOT INï¼šå½“åˆ—ä¸­çš„å€¼ä¸æŸä¸ªå¸¸é‡å€¼ç›¸ç­‰æ—¶ï¼Œç»“æœä¸ºFalseï¼Œè¡¨æ˜æ­¤è®°å½•ä¸ºä¸ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„è®°å½•ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">where</span> university <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token string">'å¤æ—¦å¤§å­¦'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ å½“éœ€è¦è¿‡æ»¤ç©ºå€¼æ—¶</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> university <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> age <span class="token operator">!=</span><span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment"># æˆ–è€…</span><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> university <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> age <span class="token operator">is</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="5ã€AND-OR-è¯­å¥"><a href="#5ã€AND-OR-è¯­å¥" class="headerlink" title="5ã€AND OR è¯­å¥"></a>5ã€AND OR è¯­å¥</h2><p>â€‹ bool å€¼è¿ç®—å…³ç³»</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> university<span class="token punctuation">,</span> gpa <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> gpa <span class="token operator">></span> <span class="token number">3.5</span> <span class="token operator">AND</span> gender <span class="token operator">=</span> <span class="token string">'male'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ æ··åˆä½¿ç”¨ï¼ŒAND çš„ä¼˜å…ˆçº§å¤§äº OR</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> university<span class="token punctuation">,</span> gpa <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>gpa <span class="token operator">></span> <span class="token number">3.5</span> <span class="token operator">and</span> university <span class="token operator">=</span> <span class="token string">'å±±ä¸œå¤§å­¦'</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token punctuation">(</span>gpa <span class="token operator">></span> <span class="token number">3.8</span> <span class="token operator">and</span> university <span class="token operator">=</span> <span class="token string">'å¤æ—¦å¤§å­¦'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="6ã€æ¨¡ç³ŠåŒ¹é…"><a href="#6ã€æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="6ã€æ¨¡ç³ŠåŒ¹é…"></a>6ã€æ¨¡ç³ŠåŒ¹é…</h2><p>â€‹ æ•°æ®åº“ä¸­è¦è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¸»è¦ä½¿ç”¨ä»¥ä¸‹æ“ä½œ</p><blockquote><ol><li>_ ï¼šä¸‹åˆ’çº¿ï¼Œä»£è¡¨åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼›</li><li>% ï¼šç™¾åˆ†å·ï¼Œä»£è¡¨åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼›</li><li>[]: ä¸­æ‹¬å·ï¼Œä»£è¡¨åŒ¹é…å…¶ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼›</li><li>[^]: ^å°–å†’å· ä»£è¡¨ éï¼Œå–åçš„æ„æ€ï¼›ä¸åŒ¹é…ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚</li></ol></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token operator">like</span> æ¨¡ç³ŠæŸ¥è¯¢ç”¨æ³•ï¼š  <span class="token string">'%åŒ—äº¬'</span>   åŒ—äº¬å¼€å¤´çš„  <span class="token string">'_åŒ—äº¬%'</span>  ç¬¬äºŒä¸‰ä¸ªå­—ä¸ºåŒ—äº¬   <span class="token string">'%åŒ—äº¬%'</span>  å«æœ‰åŒ—äº¬çš„tips:  ä½ äº†è§£å“ªäº›æ•°æ®åº“ä¼˜åŒ–æŠ€æœ¯ï¼Ÿ  ç­”ï¼š<span class="token keyword">SQL</span>è¯­å¥ä¼˜åŒ–ä¹Ÿå±äºæ•°æ®åº“ä¼˜åŒ–ä¸€éƒ¨åˆ†ï¼Œè€Œæˆ‘ä»¬çš„ <span class="token operator">like</span> æ¨¡ç³ŠæŸ¥è¯¢ä¼šå¼•èµ·å…¨è¡¨æ‰«æï¼Œé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œåº”è¯¥å°½é‡é¿å…ä½¿ç”¨<span class="token operator">like</span>å…³é”®å­—è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ã€‚ <span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span>age<span class="token punctuation">,</span>university <span class="token keyword">FROM</span> user_profile<span class="token keyword">WHERE</span> university <span class="token operator">LIKE</span> <span class="token string">'%åŒ—äº¬%'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="7ã€SQL-ä¸­ç›¸åº”çš„ä¸€äº›å‡½æ•°"><a href="#7ã€SQL-ä¸­ç›¸åº”çš„ä¸€äº›å‡½æ•°" class="headerlink" title="7ã€SQL ä¸­ç›¸åº”çš„ä¸€äº›å‡½æ•°"></a>7ã€SQL ä¸­ç›¸åº”çš„ä¸€äº›å‡½æ•°</h2><p>â€‹ 1ã€max</p><p>â€‹ æŸ¥æ‰¾æŸä¸ªæ¡ä»¶é™åˆ¶ä¸‹çš„æœ€å°æœ€å¤§å€¼æ—¶å€™ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼šç¬¬ä¸€ç§ä¸ºä½¿ç”¨ æœ€é«˜åˆ†-é™åºæ’åºï¼Œå–ç¬¬ä¸€ä¸€ä½ã€‚ç¬¬äºŒç§ä¸ºä½¿ç”¨ max å‡½æ•°ä¹Ÿè¡Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span>     <span class="token function">max</span><span class="token punctuation">(</span>gpa<span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> university <span class="token operator">=</span> <span class="token string">'å¤æ—¦å¤§å­¦'</span><span class="token comment"># ä¸Šä¸ºç¬¬äºŒç§ï¼Œä¸‹ä¸ºç¬¬ä¸€ç§æ–¹æ³•</span><span class="token keyword">SELECT</span>     gpa <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> university <span class="token operator">=</span> <span class="token string">'å¤æ—¦å¤§å­¦'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> gpa <span class="token keyword">DESC</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token comment"># order by ä¸ºå‡åºæ’åˆ—ï¼Œorder by desc ä¸ºé™åºæ’åˆ—</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ 2ã€countã€roundã€avg å‡½æ•°</p><p>â€‹ count ç”¨äºç»Ÿè®¡æŸä¸ªå€¼çš„æ•°é‡ï¼Œround ç”¨äºä¿ç•™å‡ ä½å°æ•°ï¼Œavg ç”¨äºæ±‚æŸä¸€åˆ—çš„å¹³å‡å€¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span>     <span class="token function">COUNT</span><span class="token punctuation">(</span>gender<span class="token punctuation">)</span> <span class="token keyword">as</span> male_num<span class="token punctuation">,</span>    <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>gpa<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">as</span> avg_gpa<span class="token keyword">from</span> user_profile <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">'male'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹ 3ã€èšåˆå‡½æ•°ç»“æœä½œä¸ºç­›é€‰æ¡ä»¶æ—¶ï¼Œä¸èƒ½ç”¨whereï¼Œè€Œæ˜¯ç”¨havingè¯­æ³•ï¼Œé…åˆé‡å‘½åå³å¯ï¼›</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span>     university<span class="token punctuation">,</span>    <span class="token function">avg</span><span class="token punctuation">(</span>question_cnt<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_question_cnt<span class="token punctuation">,</span>    <span class="token function">avg</span><span class="token punctuation">(</span>answer_cnt<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_answer_cnt<span class="token keyword">FROM</span> user_profile <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> university<span class="token keyword">HAVING</span> avg_question_cnt <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token operator">OR</span> avg_answer_cnt <span class="token operator">&lt;</span> <span class="token number">20</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="8ã€å¤šè¡¨æŸ¥è¯¢"><a href="#8ã€å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="8ã€å¤šè¡¨æŸ¥è¯¢"></a>8ã€å¤šè¡¨æŸ¥è¯¢</h2><p>â€‹ è‹¥ä¸€ä¸ªæŸ¥è¯¢åŒæ—¶æ¶‰åŠä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨ï¼Œåˆ™ç§°ä¹‹ä¸ºè¿æ¥æŸ¥è¯¢ã€‚è¿æ¥æŸ¥è¯¢æ˜¯å…³ç³»æ•°æ®åº“ä¸­æœ€ä¸»è¦çš„æŸ¥è¯¢ã€‚</p><p>â€‹ è¿æ¥æŸ¥è¯¢åŒ…æ‹¬ï¼šå†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ç­‰</p><p>â€‹ è¿æ¥æŸ¥è¯¢ç”¨äºè¿æ¥ä¸¤ä¸ªè¡¨çš„æ¡ä»¶ç§°ä¸ºè¿æ¥æ¡ä»¶æˆ–è€…è¿æ¥è°“è¯ã€‚</p><p>â€‹ ç›¸åº”çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> â€¦<span class="token keyword">FROM</span> è¡¨å<span class="token punctuation">[</span><span class="token keyword">INNER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> è¢«è¿æ¥è¡¨<span class="token keyword">ON</span> è¿æ¥æ¡ä»¶<span class="token comment">#ä»¥ä¸Šç»“æœä¸­ä¼šåŒ…å«é‡å¤çš„åˆ—</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> å­¦ç”Ÿè¡¨<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> ç­çº§è¡¨ <span class="token keyword">ON</span> å­¦ç”Ÿè¡¨<span class="token punctuation">.</span>ç­å·<span class="token operator">=</span>ç­çº§è¡¨<span class="token punctuation">.</span>ç­å·<span class="token comment">#å»é™¤é‡å¤åˆ—ï¼</span><span class="token keyword">SELECT</span> å­¦å·<span class="token punctuation">,</span> å§“å<span class="token punctuation">,</span> ç­çº§è¡¨<span class="token punctuation">.</span>ç­å·<span class="token punctuation">,</span> ç­å <span class="token keyword">FROM</span> å­¦ç”Ÿè¡¨ <span class="token keyword">JOIN</span> ç­çº§è¡¨ <span class="token keyword">ON</span> å­¦ç”Ÿè¡¨<span class="token punctuation">.</span>ç­å·<span class="token operator">=</span>ç­çº§è¡¨<span class="token punctuation">.</span>ç­å·<span class="token comment"># ä¸¾å‡ ä¸ªå¤šè¡¨è¿æ¥çš„ä¾‹å­ï¼Œå¤šä½“ä¼š</span><span class="token keyword">select</span>    u<span class="token punctuation">.</span>university<span class="token punctuation">,</span>    <span class="token function">count</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>question_id<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span>device_id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> avg_answer_cnt <span class="token keyword">from</span> user_profile <span class="token keyword">as</span> u<span class="token keyword">right</span> <span class="token keyword">join</span> question_practice_detail <span class="token keyword">as</span> q <span class="token keyword">on</span> u<span class="token punctuation">.</span>device_id <span class="token operator">=</span> q<span class="token punctuation">.</span>device_id<span class="token keyword">group</span> <span class="token keyword">by</span> u<span class="token punctuation">.</span>university<span class="token comment"># right join è”ç»“ç»“æœä¿ç•™å³è¡¨çš„å…¨éƒ¨æ•°æ®</span><span class="token comment"># left join  è”ç»“ç»“æœä¿ç•™å·¦è¡¨çš„å…¨éƒ¨æ•°æ®</span><span class="token comment"># inner join ä¿ç•™ä¸¤è¡¨çš„å…¬å…±æ•°æ®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="9ã€ç»„åˆæŸ¥è¯¢"><a href="#9ã€ç»„åˆæŸ¥è¯¢" class="headerlink" title="9ã€ç»„åˆæŸ¥è¯¢"></a>9ã€ç»„åˆæŸ¥è¯¢</h2><figure><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">é¢˜ç›®ï¼šç°åœ¨è¿è¥æƒ³è¦åˆ†åˆ«æŸ¥çœ‹å­¦æ ¡ä¸ºå±±ä¸œå¤§å­¦æˆ–è€…æ€§åˆ«ä¸ºç”·æ€§çš„ç”¨æˆ·çš„device_idã€genderã€ageå’Œgpaæ•°æ®ï¼Œè¯·å–å‡ºç›¸åº”ç»“æœï¼Œç»“æœä¸å»é‡ã€‚<span class="token keyword">select</span>     device_id<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gpa <span class="token keyword">from</span> user_profile <span class="token keyword">where</span> university <span class="token operator">=</span> <span class="token string">'å±±ä¸œå¤§å­¦'</span><span class="token keyword">union</span> <span class="token keyword">all</span><span class="token keyword">select</span>     device_id<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gpa <span class="token keyword">from</span> user_profile <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">'male'</span> ä½¿ç”¨ä»¥ä¸‹è¯­å¥ï¼Œä¼šå»é‡<span class="token keyword">where</span> university <span class="token operator">=</span> <span class="token string">'å±±ä¸œå¤§å­¦'</span> <span class="token operator">or</span> gender <span class="token operator">=</span> <span class="token string">'male'</span> <span class="token keyword">union</span> ä¼šå»é‡ï¼Œ <span class="token keyword">union</span> <span class="token keyword">all</span> ä¸ä¼šå»é‡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h2 id="å‚è€ƒç½‘ç«™"><a href="#å‚è€ƒç½‘ç«™" class="headerlink" title="å‚è€ƒç½‘ç«™"></a>å‚è€ƒç½‘ç«™</h2><p><a href="https://www.nowcoder.com/exam/oj?tab=SQL%E7%AF%87&topicId=199">https://www.nowcoder.com/exam/oj?tab=SQL%E7%AF%87&amp;topicId=199</a></p>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1791. æ‰¾å‡ºæ˜Ÿå‹å›¾çš„ä¸­å¿ƒèŠ‚ç‚¹</title>
    <link href="/2022/02/18/Leetcode/1791/"/>
    <url>/2022/02/18/Leetcode/1791/</url>
    
    <content type="html"><![CDATA[<h1 id="1791-æ‰¾å‡ºæ˜Ÿå‹å›¾çš„ä¸­å¿ƒèŠ‚ç‚¹"><a href="#1791-æ‰¾å‡ºæ˜Ÿå‹å›¾çš„ä¸­å¿ƒèŠ‚ç‚¹" class="headerlink" title="1791. æ‰¾å‡ºæ˜Ÿå‹å›¾çš„ä¸­å¿ƒèŠ‚ç‚¹"></a><strong><a href="https://leetcode-cn.com/problems/find-center-of-star-graph/">1791. æ‰¾å‡ºæ˜Ÿå‹å›¾çš„ä¸­å¿ƒèŠ‚ç‚¹</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æœ‰ä¸€ä¸ªæ— å‘çš„ æ˜Ÿå‹ å›¾ï¼Œç”± n ä¸ªç¼–å·ä» <span class="token number">1</span> åˆ° n çš„èŠ‚ç‚¹ç»„æˆã€‚æ˜Ÿå‹å›¾æœ‰ä¸€ä¸ª ä¸­å¿ƒ èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ°æœ‰ n <span class="token operator">-</span> <span class="token number">1</span> æ¡è¾¹å°†ä¸­å¿ƒèŠ‚ç‚¹ä¸å…¶ä»–æ¯ä¸ªèŠ‚ç‚¹è¿æ¥èµ·æ¥ã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ edges ï¼Œå…¶ä¸­ edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>ui<span class="token punctuation">,</span> vi<span class="token punctuation">]</span> è¡¨ç¤ºåœ¨èŠ‚ç‚¹ ui å’Œ vi ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å› edges æ‰€è¡¨ç¤ºæ˜Ÿå‹å›¾çš„ä¸­å¿ƒèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šedges <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒèŠ‚ç‚¹ <span class="token number">2</span> ä¸å…¶ä»–æ¯ä¸ªèŠ‚ç‚¹éƒ½ç›¸è¿ï¼Œæ‰€ä»¥èŠ‚ç‚¹ <span class="token number">2</span> æ˜¯ä¸­å¿ƒèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šedges <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1</span> æç¤ºï¼š<span class="token number">3</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">105</span>edges<span class="token punctuation">.</span>length <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token number">1</span> <span class="token operator">&lt;=</span> ui<span class="token punctuation">,</span> vi <span class="token operator">&lt;=</span> nui <span class="token operator">!=</span> vié¢˜ç›®æ•°æ®ç»™å‡ºçš„ edges è¡¨ç¤ºä¸€ä¸ªæœ‰æ•ˆçš„æ˜Ÿå‹å›¾<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä½¿ç”¨ä¸€ä¸ªè®¡æ•°æ’åºï¼Œå¯ä»¥ä½¿ç”¨ mapï¼Œä¹Ÿèƒ½ä½¿ç”¨ç»“æ„ä½“ï¼Œéå†ç„¶åå–æ¬¡æ•°æœ€å¤§çš„ä¸€ä¸ªå³å¯</li><li>2ã€æ˜Ÿå‹çº¿çš„å®šä¹‰ï¼Œæ‰€æœ‰ç‚¹åªä¸ä¸­å¿ƒç‚¹è¿æ¥ï¼Œæ‰€ä»¥åªè¦åˆ¤æ–­ä¸¤ä¸ªç‚¹å³å¯</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">findCenter</span><span class="token punctuation">(</span>edges <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/*    æ–¹æ³• 1ï¼šéå†äºŒç»´æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦O(n ^ 2)     n, m := len(edges), len(edges[0])    hash := map[int]int&#123;&#125;    for i := 0; i &lt; n; i++ &#123;        for j := 0; j &lt; m; j++ &#123;            hash[edges[i][j]]++         &#125;    &#125;    p := hash[0]    q := 0    for i, v := range hash &#123;        if v > p &#123;            p = v            q = i        &#125;    &#125;    return q */</span>    <span class="token comment">//æ–¹æ³•äºŒ ï¼šç”±äºæ˜¯æ˜Ÿå‹çº¿ï¼Œæ‰€ä»¥æ¯ä¸ªå­æ•°ç»„ä¸¤ä¸ªå€¼å¿…æœ‰ä¸€ä¸ªå€¼ç›¸ç­‰</span>    <span class="token keyword">if</span> edges<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> edges<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> edges<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> edges<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> edges<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> edges<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2) &#x2F; O(1)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n) &#x2F; O(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Go</tag>
      
      <tag>c++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›åˆ·ç®—æ³•çš„å°æ¨¡ç‰ˆ</title>
    <link href="/2022/02/18/Leetcode/template/"/>
    <url>/2022/02/18/Leetcode/template/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å±äºä¹‹å‰ç”¨golangåˆ·ç®—æ³•é¢˜çš„æ¨¡ç‰ˆï¼Œä»…ä½œä¸ºæ€ç»´è®­ç»ƒä½¿ç”¨<br>å®é™…å·¥ä½œä¸­ï¼Œé‡åˆ°å…·ä½“çš„åœºæ™¯ä¸€èˆ¬æ¯”ç®—æ³•è¦å¤æ‚ï¼Œæ‰€ä»¥ç®—æ³•åœ¨å®é™…ç”Ÿæ´»ä¸­ä½¿ç”¨è¾ƒå°‘ã€‚</p></blockquote><h2 id="å¿«æ’"><a href="#å¿«æ’" class="headerlink" title="å¿«æ’"></a>å¿«æ’</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>q <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">if</span> l <span class="token operator">==</span> r <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#125;</span> x <span class="token operator">:=</span> q<span class="token punctuation">[</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">]</span> i<span class="token punctuation">,</span> j <span class="token operator">:=</span> l<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">for</span> i <span class="token operator">&lt;</span> j <span class="token punctuation">&#123;</span>  <span class="token keyword">for</span> <span class="token punctuation">&#123;</span>   i<span class="token operator">++</span>   <span class="token keyword">if</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> x <span class="token punctuation">&#123;</span>    <span class="token keyword">break</span>   <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">&#123;</span>   j<span class="token operator">--</span>   <span class="token keyword">if</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> x <span class="token punctuation">&#123;</span>    <span class="token keyword">break</span>   <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> i <span class="token operator">&lt;</span> j <span class="token punctuation">&#123;</span>   q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> l<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å½’å¹¶æ’åºï¼ˆé’ˆå¯¹å•ä¸ªæ•°ç»„ç‰ˆæœ¬ï¼‰"><a href="#å½’å¹¶æ’åºï¼ˆé’ˆå¯¹å•ä¸ªæ•°ç»„ç‰ˆæœ¬ï¼‰" class="headerlink" title="å½’å¹¶æ’åºï¼ˆé’ˆå¯¹å•ä¸ªæ•°ç»„ç‰ˆæœ¬ï¼‰"></a>å½’å¹¶æ’åºï¼ˆé’ˆå¯¹å•ä¸ªæ•°ç»„ç‰ˆæœ¬ï¼‰</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> q <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">if</span> l <span class="token operator">==</span> r <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#125;</span> mid <span class="token operator">:=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> q<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">)</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> q<span class="token punctuation">,</span> mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span> k<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">for</span> i <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> r <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>   p<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span>   k<span class="token operator">++</span>   i<span class="token operator">++</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>   p<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span>   k<span class="token operator">++</span>   j<span class="token operator">++</span>  <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">for</span> i <span class="token operator">&lt;=</span> mid <span class="token punctuation">&#123;</span>  p<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  k<span class="token operator">++</span>  i<span class="token operator">++</span> <span class="token punctuation">&#125;</span> <span class="token keyword">for</span> j <span class="token operator">&lt;=</span> r <span class="token punctuation">&#123;</span>  p<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">[</span>j<span class="token punctuation">]</span>  k<span class="token operator">++</span>  j<span class="token operator">++</span> <span class="token punctuation">&#125;</span> i<span class="token punctuation">,</span> j <span class="token operator">=</span> l<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">for</span> i <span class="token operator">&lt;</span> r <span class="token punctuation">&#123;</span>  q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span>  i<span class="token operator">++</span>  j<span class="token operator">++</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go åŸºç¡€çŸ¥è¯†ç‚¹è‡ªæˆ‘æ€»ç»“</title>
    <link href="/2022/02/13/go/basic/go-study/"/>
    <url>/2022/02/13/go/basic/go-study/</url>
    
    <content type="html"><![CDATA[<blockquote><p>tips: æ€»ç»“çŸ¥è¯†ç‚¹ä¸€å®šè¦è‡ªå·±åŠ¨æ‰‹ï¼Œè¿™æ ·çŸ¥è¯†ç‚¹æ‰èƒ½ç‰¢è®°ï¼</p><p>â€‹æ¯”å¦‚å¼€æºç¤¾åŒºæœ‰é›¨ç—•å¤§ä½¬çš„ Go è¯­è¨€ç¬”è®°ï¼Œä½†æ˜¯å…‰çœ‹å‡ ä¸ªç”¨æ³•ï¼Œè€Œä¸è¿›è¡Œä»£ç çš„ç¼–å†™ï¼Œä»£ç èƒ½åŠ›æå‡ä¸æ˜æ˜¾ï¼Œèƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯åšä¸åˆ°ï¼Œå½¢æˆä¸€ç§çœ¼é«˜æ‰‹ä½çš„ä¹ æƒ¯ã€‚æ›´ä½•å†µï¼Œä»¥åçš„å·¥ä½œæœ¬æ¥å°±æ˜¯å†™éœ€æ±‚çš„ä»£ç ï¼Œæ‰€ä»¥ï¼Œå„ç§åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œå¿«é€Ÿè¿‡å®Œï¼</p></blockquote><h2 id="1ã€ä¿ç•™å­—ä¸é¢„å®šä¹‰å­—"><a href="#1ã€ä¿ç•™å­—ä¸é¢„å®šä¹‰å­—" class="headerlink" title="1ã€ä¿ç•™å­—ä¸é¢„å®šä¹‰å­—"></a>1ã€ä¿ç•™å­—ä¸é¢„å®šä¹‰å­—</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//ä¿ç•™å­—æœ‰ 25 ä¸ª</span><span class="token keyword">break</span>  <span class="token keyword">continue</span>  <span class="token keyword">func</span>  <span class="token keyword">interface</span>  <span class="token keyword">select</span> <span class="token keyword">case</span>  <span class="token keyword">defer</span>   <span class="token keyword">go</span>  <span class="token keyword">map</span>   <span class="token keyword">struct</span><span class="token keyword">chan</span>  <span class="token keyword">else</span>   <span class="token keyword">goto</span>  <span class="token keyword">package</span>   <span class="token keyword">fallthrough</span><span class="token keyword">const</span>  <span class="token keyword">switch</span>   <span class="token keyword">if</span>  <span class="token keyword">range</span>   <span class="token keyword">type</span><span class="token keyword">default</span>  <span class="token keyword">for</span>   <span class="token keyword">import</span>  <span class="token keyword">return</span>    <span class="token keyword">var</span><span class="token comment">//ä»¥ä¸‹ä¸ºç›¸å…³çš„é¢„å®šä¹‰å­—</span><span class="token boolean">true</span>  <span class="token boolean">false</span>   <span class="token boolean">iota</span>  <span class="token boolean">nil</span>  <span class="token comment">//å†…å»ºå­—ç±»å‹</span><span class="token builtin">int</span>  <span class="token builtin">int16</span>  <span class="token builtin">int32</span> <span class="token builtin">int64</span><span class="token builtin">uint</span>  <span class="token builtin">uint16</span>   <span class="token builtin">uint32</span>  <span class="token builtin">uint64</span><span class="token builtin">float32</span>  <span class="token builtin">float64</span>   <span class="token builtin">complex64</span> <span class="token builtin">complex128</span><span class="token builtin">bool</span>  <span class="token builtin">byte</span>   <span class="token builtin">rune</span>  <span class="token builtin">string</span>   <span class="token builtin">error</span> <span class="token comment">//å†…å»ºå‡½æ•°</span><span class="token builtin">make</span>  <span class="token builtin">len</span>   <span class="token builtin">cap</span>  <span class="token builtin">new</span>  <span class="token builtin">append</span><span class="token builtin">copy</span>  <span class="token builtin">close</span>   <span class="token builtin">delete</span>  <span class="token builtin">complex</span>  <span class="token builtin">real</span><span class="token builtin">imag</span>  <span class="token builtin">panic</span>   <span class="token builtin">recover</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="2ã€Go-ä¸­çš„ä¸€äº›å¸¸ç”¨å‡½æ•°"><a href="#2ã€Go-ä¸­çš„ä¸€äº›å¸¸ç”¨å‡½æ•°" class="headerlink" title="2ã€Go ä¸­çš„ä¸€äº›å¸¸ç”¨å‡½æ•°"></a>2ã€Go ä¸­çš„ä¸€äº›å¸¸ç”¨å‡½æ•°</h2><figure><div class="code-wrapper"><pre class="line-numbers language-Go" data-language="Go"><code class="language-Go">append          -- ç”¨æ¥è¿½åŠ å…ƒç´ åˆ°æ•°ç»„ã€sliceä¸­,è¿”å›ä¿®æ”¹åçš„æ•°ç»„ã€sliceclose           -- ä¸»è¦ç”¨æ¥å…³é—­ channel delete          -- ä»mapä¸­åˆ é™¤ key å¯¹åº”çš„ valuepanic           -- åœæ­¢å¸¸è§„çš„ goroutine (panicå’Œrecoverï¼šç”¨æ¥åšé”™è¯¯å¤„ç†)   recover         -- å…è®¸ç¨‹åºå®šä¹‰goroutineçš„panicåŠ¨ä½œreal            -- è¿”å›complexçš„å®éƒ¨ (complexã€real imagç”¨äºåˆ›å»ºå’Œæ“ä½œå¤æ•°)   imag            -- è¿”å›complexçš„è™šéƒ¨   make            -- ç”¨æ¥åˆ†é…å†…å­˜ï¼Œè¿”å› Type æœ¬èº«(åªèƒ½åº”ç”¨äº slice, map, channel )   new             -- ç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å€¼ç±»å‹ï¼Œå¦‚ intã€struct è¿”å›æŒ‡å‘ Type çš„æŒ‡é’ˆ   cap             -- capacityæ˜¯å®¹é‡çš„æ„æ€ï¼Œç”¨äºè¿”å›æŸä¸ªç±»å‹çš„æœ€å¤§å®¹é‡ï¼ˆåªèƒ½ç”¨äºåˆ‡ç‰‡å’Œ mapï¼‰   copy            -- ç”¨äºå¤åˆ¶å’Œè¿æ¥ sliceï¼Œè¿”å›å¤åˆ¶çš„æ•°ç›®   len             -- æ¥æ±‚é•¿åº¦ï¼Œæ¯”å¦‚ stringã€arrayã€sliceã€mapã€channelï¼Œè¿”å›é•¿åº¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="3ã€Go-ä¸­çš„-Array-æ•°ç»„"><a href="#3ã€Go-ä¸­çš„-Array-æ•°ç»„" class="headerlink" title="3ã€Go ä¸­çš„ Array æ•°ç»„"></a>3ã€Go ä¸­çš„ Array æ•°ç»„</h2><blockquote><p>ç­”ï¼šGo è¯­è¨€ä¸­çš„æ•°ç»„ä¸å…¶ä»–è¯­è¨€çš„æ•°ç»„ä¸ä¸€æ ·<br>1ã€Go è¯­è¨€ä¸­çš„æ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œèµ‹å€¼å’Œä¼ å‚ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯æŒ‡é’ˆ</p><p>â€‹ 2ã€Go è¯­è¨€ä¸­çš„æ•°ç»„é•¿åº¦å¿…é¡»æ˜¯å¸¸é‡ï¼Œè€Œä¸”æ˜¯ç±»å‹çš„ç»„æˆæˆåˆ†ï¼Œ[2]int,[3]int æ˜¯ä¸åŒç±»å‹</p><p>â€‹ 3ã€Go è¯­è¨€ä¸­çš„æ•°ç»„èƒ½æ”¯æŒ â€œ&#x3D;&#x3D;â€ â€œ!&#x3D;â€ æ“ä½œï¼Œå› ä¸ºå†…å­˜è¢«åˆåˆå§‹åŒ–è¿‡ã€‚</p><p>â€‹ 4ã€æŒ‡é’ˆæ•°ç»„ [n]<em>T &#x2F;&#x2F;è¡¨ç¤ºç”± n ä¸ª</em>T æŒ‡é’ˆæ„æˆ</p><p>â€‹ 5ã€æ•°ç»„æŒ‡é’ˆ *[n]T &#x2F;&#x2F;è¡¨ç¤ºç”±ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ•°ç»„ï¼Œå¯ä»¥è§†ä¸ºä¸€ç»´æ•°ç»„æ¥çœ‹</p><p>â€‹ 6ã€array æ•°ç»„ä¸å»ºè®®æ‹·è´ï¼Œå¦‚éœ€è¦æ‹·è´ä½¿ç”¨ slice æ›´å¥½ï¼Œæˆ–è€…æ•°ç»„æŒ‡é’ˆ</p></blockquote><h2 id="4ã€Go-ä¸­çš„-slice"><a href="#4ã€Go-ä¸­çš„-slice" class="headerlink" title="4ã€Go ä¸­çš„ slice"></a>4ã€Go ä¸­çš„ slice</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">/* slice ä¸ºç»“æ„ä½“ï¼Œé€šè¿‡å†…éƒ¨æŒ‡é’ˆå’Œç›¸å…³çš„ç»“æ„å±æ€§å¼•ç”¨æ•°ç»„ç‰‡æ®µ*/</span><span class="token keyword">struct</span> Slice <span class="token punctuation">&#123;</span> <span class="token builtin">byte</span><span class="token operator">*</span> array  <span class="token comment">//å¼•ç”¨ç±»å‹ï¼Œä½†æ˜¯æ˜¯ç»“æ„ä½“ï¼Œæ‰€ä»¥é‡‡ç”¨å€¼æ‹·è´ä¼ é€’</span>    uintgo <span class="token builtin">len</span>  <span class="token comment">//slice æ•°é‡ï¼Œè¯»å†™ä¸è¶…è¿‡è¯¥é™åˆ¶</span>    uintgo <span class="token builtin">cap</span>  <span class="token comment">//slice å®¹é‡ï¼Œä¸èƒ½è¶…å‡ºæ•°ç»„é™åˆ¶</span> <span class="token comment">//slice == nil, len = cap = 0</span><span class="token punctuation">&#125;</span> <span class="token comment">//Go ä¸­è¿˜æœ‰ä¸€ä¸ªå…³äº slice çš„æ‹¼æ¥é—®é¢˜ å¦‚ä¸‹</span><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span> s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span> s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¸Šè¿°ä»£ç ç¼–è¯‘å¤±è´¥ 8:13: cannot use s2 (type []int) as type int in appendï¼› ä¸¤ä¸ªslice åœ¨ append çš„æ—¶å€™ï¼Œè®°ä½éœ€è¦è¿›è¡Œç¬¬äºŒä¸ª slice æ—¶å€™ï¼Œå°†sliceæ‰“æ•£å†æ‹¼æ¥ï¼</span>s1 <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token operator">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="5ã€Go-ä¸­çš„é¢å‘å¯¹è±¡"><a href="#5ã€Go-ä¸­çš„é¢å‘å¯¹è±¡" class="headerlink" title="5ã€Go ä¸­çš„é¢å‘å¯¹è±¡"></a>5ã€Go ä¸­çš„é¢å‘å¯¹è±¡</h2><p>â€‹ é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼šå¤šæ€ã€ç»§æ‰¿ã€å°è£…<br>Go è¯­è¨€åªæ”¯æŒå°è£…è¡Œä¸ºï¼Œæ²¡æœ‰ç»§æ‰¿ä¸å¤šæ€ï¼Œä¹Ÿæ²¡æœ‰ class å…³é”®å­—ä½†æ˜¯èƒ½åšåˆ° struct ä¸­åµŒå…¥ structç±»å‹</p><h2 id="6ã€Go-æ–¹æ³•"><a href="#6ã€Go-æ–¹æ³•" class="headerlink" title="6ã€Go æ–¹æ³•"></a>6ã€Go æ–¹æ³•</h2><p>æ–¹æ³•ï¼šæ–¹æ³•æ˜¯ç»‘å®šå¯¹è±¡å®ä¾‹çš„ï¼Œéšå¼å°†å®ä¾‹ä½œä¸ºç¬¬ä¸€å½¢å‚</p><ul><li>1ã€åªèƒ½ä¸ºå½“å‰åŒ…å†…å‘½åç±»å‹å®šä¹‰æ–¹æ³•</li><li>2ã€å‚æ•° receiver éšæ„å‘½åï¼Œå¦‚æœæœªä½¿ç”¨æ­¤åç§°ï¼Œå¯çœç•¥</li><li>3ã€å‚æ•° receiver ç±»å‹å¯ä»¥ä¸º Tã€*Tï¼Œä½†æ˜¯åŸºç±»Tä¸èƒ½æ˜¯æŒ‡é’ˆä¸æ¥å£</li><li>4ã€ä¸æ”¯æŒæ–¹æ³•é‡è½½ï¼Œreceiver ä¸ºå‚æ•°ç­¾åçš„ç»„æˆæˆåˆ†</li><li>5ã€å¯ç”¨å®ä¾‹ value æˆ– pointer è°ƒç”¨å…¨éƒ¨æ–¹æ³•ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨è½¬æ¢</li><li>6ã€é€šå¸¸ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼è¿”å›å¯¹è±¡å®ä¾‹</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> Queue <span class="token keyword">struct</span><span class="token punctuation">&#123;</span>    elements <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">NewQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token operator">&amp;</span>Queue<span class="token punctuation">&#123;</span>        <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>Queue<span class="token punctuation">)</span> <span class="token function">push</span><span class="token punctuation">(</span>e <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>    <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"not implemented"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//func (Queue) push(e int) error &#123;</span><span class="token comment">//    panic("not implemented")</span><span class="token comment">//&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>Queue<span class="token punctuation">)</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>elements<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="6ã€Go-æ¥å£"><a href="#6ã€Go-æ¥å£" class="headerlink" title="6ã€Go æ¥å£"></a>6ã€Go æ¥å£</h2><p>â€‹ æ¥å£æ˜¯æ–¹æ³•çš„é›†åˆï¼Œç”±äºä¸æ”¯æŒé‡è½½ï¼Œæ‰€ä»¥æ¯ä¸ªæ–¹æ³•å‘½åå”¯ä¸€</p><ul><li>1ã€æ¥å£å‘½åä»¥ er ç»“å°¾ï¼Œç»“æ„ä½“</li><li>2ã€æ¥å£ä¸å®ç°æ–¹æ³•</li><li>3ã€æ¥å£æ— æ•°æ®å­—æ®µ</li><li>4ã€æ¥å£å†…å¯ä»¥åµŒå…¥å…¶ä»–æ¥å£</li><li>5ã€ç±»å‹å¯å®ç°å¤šæ¥å£</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> Stringer <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>    <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span><span class="token punctuation">&#125;</span><span class="token keyword">type</span> Pointer <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>    Stringer    <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>    id <span class="token builtin">int</span>    name <span class="token builtin">string</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>User<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"User %d, %s"</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>id<span class="token punctuation">,</span> this<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>User<span class="token punctuation">)</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="7ã€Goroutine"><a href="#7ã€Goroutine" class="headerlink" title="7ã€Goroutine"></a>7ã€Goroutine</h2><p>â€‹ Goroutine ä¸º go åç¨‹ï¼Œä»…ä»…éœ€è¦åœ¨å‡½æ•°è°ƒç”¨è¯­å¥å‰æ·»åŠ  go å…³é”®å­—å³å¯è°ƒç”¨goroutineï¼Œå¹¶ä¸”åˆ›å»ºå¹¶å‘æ‰§è¡Œå•å…ƒã€‚goroutine çš„è®¾è®¡å…·æœ‰è½»é‡çº§ï¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span> <span class="token comment">//æ­¤ä¸º goroutine  </span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//main å‡½æ•°çš„æ‰§è¡Œå…¶å®ä¹Ÿæ˜¯ goroutine </span>runtime<span class="token punctuation">.</span><span class="token function">Goexit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//ç«‹å³ç»ˆæ­¢å½“å‰ goroutine çš„æ‰§è¡Œ</span>æ­¤å¤„å­¦ä¸€ä¸‹ä½¿ç”¨å³å¯ï¼Œå…·ä½“ CSP çš„æ¨¡å¼ä¸ GMP çš„æ¨¡å‹ä¸‹ä¸€ç¯‡åšå®¢ç»§ç»­å­¦ä¹ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="8ã€Channel"><a href="#8ã€Channel" class="headerlink" title="8ã€Channel"></a>8ã€Channel</h2><p>â€‹ å¼•ç”¨ç±»å‹ channel ä¸º CSP çš„æ¨¡å¼çš„å…·ä½“å®ç°ï¼Œä½¿ç”¨ channel ç”¨äºå¤šä¸ª goroutine çš„é€šä¿¡ï¼Œç¡®ä¿å¹¶å‘å®‰å…¨ï¼Œå°½é‡ä½¿ç”¨ channel æ¥ä»£æ›¿é”è¿›è¡ŒåŒæ­¥ã€‚<br>â€‹ channel é»˜è®¤ä¸ºåŒæ­¥çš„æ¨¡å¼ï¼Œéœ€è¦å‘é€å’Œæ¥å—é…å¯¹ï¼Œå¦åˆ™ä¸€ç›´å¤„äºè¢«é˜»å¡çš„çŠ¶æ€ï¼Œç›´åˆ°ä¸¤è¾¹éƒ½å¤„äºæ´»è·ƒçŠ¶æ€ç„¶åæ‰è¢«å”¤é†’ã€‚<br>â€‹ ä»¥ä¸‹ä¸ºåŒæ­¥æ¨¡å¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token comment">// æ•°æ®äº¤æ¢é˜Ÿåˆ—</span>    exit <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token comment">// é€€å‡ºé€šçŸ¥</span>    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> d <span class="token operator">:=</span> <span class="token keyword">range</span> data <span class="token punctuation">&#123;</span> <span class="token comment">// ä»é˜Ÿåˆ—è¿­ä»£æ¥æ”¶æ•°æ®ï¼Œç›´åˆ° close ã€‚</span>            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"recv over."</span><span class="token punctuation">)</span>        exit <span class="token operator">&lt;-</span> <span class="token boolean">true</span> <span class="token comment">// å‘å‡ºé€€å‡ºé€šçŸ¥ã€‚</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    data <span class="token operator">&lt;-</span> <span class="token number">1</span> <span class="token comment">// å‘é€æ•°æ®ã€‚</span>    data <span class="token operator">&lt;-</span> <span class="token number">2</span>    data <span class="token operator">&lt;-</span> <span class="token number">3</span>    <span class="token function">close</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// å…³é—­é˜Ÿåˆ—ã€‚</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"send over."</span><span class="token punctuation">)</span>    <span class="token operator">&lt;-</span>exit <span class="token comment">// ç­‰å¾…é€€å‡ºé€šçŸ¥ã€‚</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>â€‹å¼‚æ­¥æ–¹å¼ï¼šé€šè¿‡åˆ¤æ–­ç¼“å†²åŒºæ¥å†³å®šæ˜¯å¦é˜»å¡ã€‚<br>å¦‚æœç¼“å†²åŒºæ»¡ï¼Œå‘é€é˜»å¡ï¼›ç¼“å†²åŒºä¸ºç©ºï¼Œæ¥å—é˜»å¡ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¼‚æ­¥çš„ channel å¯ä»¥å‡å°‘æ’é˜Ÿé˜»å¡ï¼Œå…·æœ‰æ›´é«˜çš„æ•ˆç‡ã€‚<br>â€‹ä½†æ˜¯åº”è¯¥è€ƒè™‘ä½¿ç”¨æŒ‡é’ˆè§„é¿å¤§å¯¹è±¡çš„æ‹·è´ï¼Œå°†å¤§å¯¹è±¡åˆ†æ²»ä¸ºå°å¯¹è±¡ï¼Œå¦‚å¤šä¸ªå…ƒç´ æ‰“åŒ…ã€å‡å°ç¼“å†²åŒºå¤§å°ç­‰ã€‚</p><p>ä»¥ä¸‹ä¸ºå¼‚æ­¥æ¨¡å¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// æ•°æ®äº¤æ¢é˜Ÿåˆ—</span>    exit <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token comment">// é€€å‡ºé€šçŸ¥</span>    data <span class="token operator">&lt;-</span> <span class="token number">1</span> <span class="token comment">// åœ¨ç¼“å†²åŒºæœªæ»¡å‰ï¼Œä¸ä¼šé˜»å¡ã€‚</span>    data <span class="token operator">&lt;-</span> <span class="token number">2</span>    data <span class="token operator">&lt;-</span> <span class="token number">3</span>    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> d <span class="token operator">:=</span> <span class="token keyword">range</span> data <span class="token punctuation">&#123;</span> <span class="token comment">// åœ¨ç¼“å†²åŒºæœªç©ºå‰ï¼Œä¸ä¼šé˜»å¡ã€‚</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    exit <span class="token operator">&lt;-</span> <span class="token boolean">true</span> <span class="token comment">// å‘å‡ºé€€å‡ºé€šçŸ¥ã€‚</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    data <span class="token operator">&lt;-</span> <span class="token number">4</span>    data <span class="token operator">&lt;-</span> <span class="token number">5</span>    <span class="token function">close</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token operator">&lt;-</span>exit <span class="token comment">// ç­‰å¾…é€€å‡ºé€šçŸ¥ã€‚</span><span class="token punctuation">&#125;</span> å…¶ä¸­ç¼“å†²åŒºæ˜¯å†…éƒ¨å±æ€§ï¼Œéç±»å‹æ„æˆè¦ç´ ï¼Œå†…ç½®å‡½æ•° <span class="token builtin">len</span> è¿”å›æœªè¢«è¯»å–çš„ç¼“å†²å…ƒç´ æ•°é‡ï¼Œ <span class="token builtin">cap</span> è¿”å›ç¼“å†²åŒºâ¼¤â¼©ã€‚   channel æ˜¯ç¬¬ä¸€ç±»å¯¹è±¡ï¼Œå¯ä¼ å‚ <span class="token punctuation">(</span>å†…éƒ¨å®ç°ä¸ºæŒ‡é’ˆ<span class="token punctuation">)</span> æˆ–è€…ä½œä¸ºç»“æ„æˆå‘˜ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>Go è¯­è¨€è¿˜å†…å»ºäº† <code>close()</code> å‡½æ•°æ¥å…³é—­ä¸€ä¸ª channel<br>ä½†æ˜¯å­˜åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><blockquote><p>1ã€è¯»å†™ nil Channel ä¼šæ°¸è¿œé˜»å¡ï¼Œå…³é—­ nil Channel ä¼šå¯¼è‡´ panic</p><p>2ã€å…³é—­ä¸€ä¸ªå·²å…³é—­çš„ Channel ä¼šå¯¼è‡´ panic</p><p>3ã€å‘å·²ç»å…³é—­çš„ Channel å‘é€æ•°æ®ä¼šå¯¼è‡´ panic</p><p>4ã€å‘å·²ç»å…³é—­çš„ Channel è¯»å–æ•°æ®ä¸ä¼šå¯¼è‡´ panicï¼Œä½†è¯»å–çš„å€¼ä¸º Channel ä¼ é€’çš„æ•°æ®ç±»å‹çš„é›¶å€¼ï¼Œå¯ä»¥é€šè¿‡æ¥å—è¯­å¥ç¬¬äºŒä¸ªè¿”å›å€¼æ¥æ£€æŸ¥ Channel æ˜¯å¦å…³é—­ä¸”æ’ç©ºï¼š</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span> ch<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span><span class="token operator">...</span> <span class="token comment">// å¦‚æœæ˜¯éç¼“å†² Channel ï¼Œè¯´æ˜å·²ç»å…³é—­ï¼›</span>    <span class="token comment">// å¦‚æœæ˜¯å¸¦ç¼“å†² Channel ï¼Œè¯´æ˜å·²ç»å…³é—­ï¼Œä¸”å…¶å†…éƒ¨ç¼“å†²åŒºå·²ç»æ’ç©º</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="9ã€Go-ä¸­çš„-select-ç”¨æ³•"><a href="#9ã€Go-ä¸­çš„-select-ç”¨æ³•" class="headerlink" title="9ã€Go ä¸­çš„ select ç”¨æ³•"></a>9ã€Go ä¸­çš„ select ç”¨æ³•</h2><p>â€‹ select æ˜¯Goä¸­çš„ä¸€ä¸ªæ§åˆ¶ç»“æ„ï¼Œç±»ä¼¼äºç”¨äºé€šä¿¡çš„ switch è¯­å¥ï¼Œå…¶ç”¨äºå¤„ç†å¼‚æ­¥çš„ I&#x2F;O æ“ä½œã€‚ã€‚å…¶æœ‰ä»¥ä¸‹çš„å‡ ä¸ªç‰¹å¾</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token number">1</span>ã€æ¯ä¸ª<span class="token keyword">case</span>éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªé€šä¿¡ï¼Œæ‰€æœ‰ channel è¡¨è¾¾å¼éƒ½ä¼šè¢«æ±‚å€¼ã€‚      <span class="token number">3</span>ã€æ‰€æœ‰è¢«å‘é€çš„è¡¨è¾¾å¼éƒ½ä¼šè¢«æ±‚å€¼      <span class="token number">4</span>ã€å¦‚æœä»»æ„æŸä¸ªé€šä¿¡å¯ä»¥è¿›è¡Œï¼Œå®ƒå°±æ‰§è¡Œï¼›å…¶ä»–è¢«å¿½ç•¥ã€‚   <span class="token number">5</span>ã€å¦‚æœæœ‰å¤šä¸ª<span class="token keyword">case</span>éƒ½å¯ä»¥è¿è¡Œï¼Œ<span class="token keyword">select</span> ä¼šéšæœº <span class="token punctuation">(</span>çœ‹æºç <span class="token punctuation">)</span> å…¬å¹³åœ°é€‰å‡ºä¸€ä¸ªæ‰§è¡Œã€‚å…¶ä»–ä¸ä¼šæ‰§è¡Œã€‚      <span class="token number">6</span> ã€å¦‚æœæœ‰<span class="token keyword">default</span>å­å¥ï¼Œåˆ™æ‰§è¡Œè¯¥è¯­å¥ã€‚å¦‚æœæ²¡æœ‰<span class="token keyword">default</span>å­—å¥ï¼Œ<span class="token keyword">select</span>å°†é˜»å¡ï¼Œç›´åˆ°æŸä¸ªé€šä¿¡å¯ä»¥è¿è¡Œï¼›Goä¸ä¼šé‡æ–°å¯¹channelæˆ–å€¼è¿›è¡Œæ±‚å€¼ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>select ä¼šç›‘å¬æ¯ä¸ª case ä¸­ channel çš„è¯»å†™æ“ä½œï¼Œä½†æ˜¯æ¯æ¬¡åªèƒ½è¿è¡Œä¸€ä¸ªchannel è¿›è¡Œè¯»æˆ–å†™</p><h2 id="10ã€åˆå§‹åŒ–å‡½æ•°"><a href="#10ã€åˆå§‹åŒ–å‡½æ•°" class="headerlink" title="10ã€åˆå§‹åŒ–å‡½æ•°"></a>10ã€åˆå§‹åŒ–å‡½æ•°</h2><p>åˆå§‹åŒ–å‡½æ•° init()ï¼šgoè¯­è¨€ä¸­<code>init</code>å‡½æ•°ç”¨äºåŒ…<code>(package)</code>çš„åˆå§‹åŒ–ï¼Œè¯¥å‡½æ•°æ˜¯goè¯­è¨€çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"> <span class="token number">1</span> initå‡½æ•°æ˜¯ç”¨äºç¨‹åºæ‰§è¡Œå‰åšåŒ…çš„åˆå§‹åŒ–çš„å‡½æ•°ï¼Œæ¯”å¦‚åˆå§‹åŒ–åŒ…é‡Œçš„å˜é‡ç­‰   <span class="token number">2</span> æ¯ä¸ªåŒ…å¯ä»¥æ‹¥æœ‰å¤šä¸ªinitå‡½æ•°   <span class="token number">3</span> åŒ…çš„æ¯ä¸ªæºæ–‡ä»¶ä¹Ÿå¯ä»¥æ‹¥æœ‰å¤šä¸ªinitå‡½æ•°   <span class="token number">4</span> åŒä¸€ä¸ªåŒ…ä¸­å¤šä¸ªinitå‡½æ•°çš„æ‰§è¡Œé¡ºåº<span class="token keyword">go</span>è¯­è¨€æ²¡æœ‰æ˜ç¡®çš„å®šä¹‰<span class="token punctuation">(</span>è¯´æ˜<span class="token punctuation">)</span>   <span class="token number">5</span> ä¸åŒåŒ…çš„initå‡½æ•°æŒ‰ç…§åŒ…å¯¼å…¥çš„ä¾èµ–å…³ç³»å†³å®šè¯¥åˆå§‹åŒ–å‡½æ•°çš„æ‰§è¡Œé¡ºåº   <span class="token number">6</span> initå‡½æ•°ä¸èƒ½è¢«å…¶ä»–å‡½æ•°è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨mainå‡½æ•°æ‰§è¡Œä¹‹å‰ï¼Œè‡ªåŠ¨è¢«è°ƒç”¨main å¯¹æ¯” init å‡½æ•°ï¼Œmainå‡½æ•°åªèƒ½ç”¨äºmainåŒ…ä¸­ï¼Œä¸”åªèƒ½å®šä¹‰ä¸€ä¸ªã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="11ã€go-mod-åŒ…ç®¡ç†"><a href="#11ã€go-mod-åŒ…ç®¡ç†" class="headerlink" title="11ã€go mod åŒ…ç®¡ç†"></a>11ã€go mod åŒ…ç®¡ç†</h2><p> go mod æœ‰ä»¥ä¸‹å‡ ç§å‘½ä»¤</p><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">åˆå§‹åŒ–æ¨¡å— <span class="token keyword">go</span> mod init <span class="token operator">&lt;</span>é¡¹ç›®æ¨¡å—åç§°<span class="token operator">></span>ä¾èµ–å…³ç³»å¤„ç† <span class="token punctuation">,</span>æ ¹æ®<span class="token keyword">go</span><span class="token punctuation">.</span>modæ–‡ä»¶ <span class="token keyword">go</span> mod tidyå°†ä¾èµ–åŒ…å¤åˆ¶åˆ°é¡¹ç›®ä¸‹çš„ vendorç›®å½•ã€‚ <span class="token keyword">go</span> mod vendor å¦‚æœåŒ…è¢«å±è”½<span class="token punctuation">(</span>å¢™<span class="token punctuation">)</span><span class="token punctuation">,</span>å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œéšåä½¿ç”¨<span class="token keyword">go</span> build <span class="token operator">-</span>mod<span class="token operator">=</span>vendorç¼–è¯‘æ˜¾ç¤ºä¾èµ–å…³ç³» <span class="token keyword">go</span> list <span class="token operator">-</span>m allæ˜¾ç¤ºè¯¦ç»†ä¾èµ–å…³ç³» <span class="token keyword">go</span> list <span class="token operator">-</span>m <span class="token operator">-</span>json allä¸‹è½½ä¾èµ– <span class="token keyword">go</span> mod download <span class="token punctuation">[</span>path@version<span class="token punctuation">]</span> <span class="token punctuation">[</span>path@version<span class="token punctuation">]</span>æ˜¯éå¿…å†™çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="12ã€go-debug"><a href="#12ã€go-debug" class="headerlink" title="12ã€go debug"></a>12ã€go debug</h2><ul><li>go run -race å¯ä»¥æŸ¥çœ‹æœ‰æ— ç›¸åº”çš„é”ç«äº‰ä¸€å—</li><li>go tool complie -S [filename] æŸ¥çœ‹ç›¸åº”çš„æ±‡ç¼–ä»£ç </li><li>Linux ä¸‹ä½¿ç”¨ top&#x2F;htop æŒ‡ä»¤æŸ¥çœ‹ CPUã€Memoryã€VIRT ç­‰ä¿¡æ¯ï¼Œå…¶ä¸­å…³äºå†…å­˜æ³„æ¼çš„ç›¸åº”çš„é—®é¢˜ï¼Œä¸»è¦æŸ¥çœ‹çš„æ˜¯ VIRT æ˜¯å¦å‡ºç°ä¸æ–­å¢é•¿çš„ä¸€ç§æƒ…å†µã€‚</li></ul><h2 id="13ã€go-å†…å­˜é€ƒé€¸"><a href="#13ã€go-å†…å­˜é€ƒé€¸" class="headerlink" title="13ã€go å†…å­˜é€ƒé€¸"></a>13ã€go å†…å­˜é€ƒé€¸</h2><p>å†…å­˜é€ƒé€¸çš„ä¸»è¦æ¦‚å¿µæ˜¯ï¼šç¼–è¯‘æ—¶ go è¯­è¨€ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å†³å®šæŠŠä¸€ä¸ªå˜é‡æ”¾åœ¨æ ˆè¿˜æ˜¯æ”¾åœ¨å †ï¼Œç¼–è¯‘å™¨ä¼šåšé€ƒé€¸åˆ†æ(escape analysis)ï¼Œå½“<strong>å‘ç°å˜é‡çš„ä½œç”¨åŸŸæ²¡æœ‰è·‘å‡ºå‡½æ•°èŒƒå›´ï¼Œå°±å¯ä»¥åœ¨æ ˆä¸Šï¼Œåä¹‹åˆ™å¿…é¡»åˆ†é…åœ¨å †</strong>ã€‚</p><p>ä¸€èˆ¬å†…å­˜é€ƒé€¸éƒ½æ˜¯ç¼–è¯‘å™¨è¿›è¡Œåˆ†æçš„ï¼Œgo è¯­è¨€çš„è®¾è®¡è€…ä¸å¸Œæœ›æˆ‘ä»¬è¿‡å¤šçš„ç ”ç©¶è¿™ä¸ªæ–¹é¢çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨ç®¡ï¼</p><hr><blockquote><p>â€”â€”â€”â€”END å¦‚æœæœ¬åšå®¢å­˜åœ¨è¯¯è§£çš„é—®é¢˜ï¼Œæ³è¯·å¤§å®¶æŒ‡å‡ºï¼â€”â€”â€”â€”â€”-</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go basic</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go é¢è¯•å¤ç›˜</title>
    <link href="/2022/02/12/go/interview/Interview/"/>
    <url>/2022/02/12/go/interview/Interview/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å…ˆä¸Šæ€»ç»“ï¼š</p><ul><li>é¢ç»å…‰çœ‹æ²¡ç”¨ï¼Œåªæœ‰è‡ªå·±ä¸æ–­çš„é¢è¯•ï¼Œç„¶åæ€»ç»“ï¼Œè‡ªå·±ç†è§£æ€§çš„è¿›è¡Œæè¿°æ‰æœ‰æ„ä¹‰ï¼Œå¦åˆ™åªæ˜¯åƒå…«è‚¡æ–‡ä¸€æ ·å»èƒŒè®°ï¼Œä»è€Œæœªèƒ½ç†è§£çœŸæ­£çš„å«ä¹‰ã€‚é‚£ä¹ˆï¼Œå¯èƒ½ä¸‹ä¸€æ¬¡é¢è¯•çš„æ—¶å€™ï¼Œä¸Šä¸€æ¬¡é¢è¯•çš„é—®é¢˜ä¾ç„¶å¤„äºä¸€ç§é—ç•™çš„çŠ¶æ€ï¼Œè¿™æ ·å°±æ— æ³•åœ¨æŠ€æœ¯çš„å…³é”®èŠ‚ç‚¹è¿›è¡Œæˆé•¿ã€‚</li><li>å°¤å…¶æ˜¯ç®—æ³•é¢˜ï¼Œå¦‚æœä¸€ä¸¤ä¸ªæœˆä¸å¤ç›˜ç®—æ³•é—®é¢˜ï¼Œé‚£ä¹ˆç®—æ³•æ€ç»´å­˜åœ¨ï¼Œä½†æ˜¯ä»£ç ç†Ÿç»ƒåº¦ä¼šä¸‹é™ï¼Œä»è€Œå¯¼è‡´å†™ç®—æ³•çš„æ—¶é—´å˜é•¿ï¼Œä»¥åŠç›¸åº”çš„å¿ƒæ€ç„¦è™‘ã€‚è‡³äºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦æ”¾åœ¨ä¸‹æ–‡å…·ä½“è¯´æ˜ã€‚</li><li>ä»¥ä¸‹ä¸ºè‡ªå·±ç­”çš„ä¸å¥½ä¸æ²¡ç­”å‡ºçš„é—®é¢˜ã€‚</li></ul></blockquote><h2 id="1ã€TCP-ä¸‰æ¬¡æ¡æ‰‹"><a href="#1ã€TCP-ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="1ã€TCP ä¸‰æ¬¡æ¡æ‰‹"></a>1ã€TCP ä¸‰æ¬¡æ¡æ‰‹</h2><blockquote><p>ç­”ï¼šTCPçš„ä¸‰æ¬¡æ¡æ‰‹ä¸ºï¼š</p><p>â€‹ 1ã€å®¢æˆ·ç«¯å‘é€çš„æŠ¥æ–‡ä¸º SYN æŠ¥æ–‡ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªåˆå§‹çš„ Seq åºå·ï¼Œä¹‹åå®¢æˆ·ç«¯è¿›å…¥ç›‘å¬çŠ¶æ€ï¼ˆSYN-SENTï¼‰ã€‚</p><p>â€‹ 2ã€æœåŠ¡å™¨åœ¨æ¥å—åˆ°å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘é€çš„ ACK æŠ¥æ–‡ä¹‹åï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œå³å‘å®¢æˆ·ç«¯å‘é€è¿æ¥ç¡®è®¤æŠ¥æ–‡ï¼Œå³ SYN + ACK æŠ¥æ–‡ï¼Œä¹Ÿé™„åŠ ä¸€ä¸ªè‡ªé€‰çš„åˆå§‹ Seq åºå·ï¼Œå¹¶ä¸”æ­¤åºå·ä¸å®¢æˆ·ç«¯çš„åºå·æ— å…³ï¼Œä¹‹åæœåŠ¡å™¨ç«¯ç»§ç»­ç»´æŒç›‘å¬çŠ¶æ€ï¼ˆSYN-REVD)</p><p>â€‹ 3ã€å®¢æˆ·ç«¯åœ¨æ¥å—åˆ°æœåŠ¡å™¨å‘é€å›çš„æŠ¥æ–‡ä¹‹åï¼Œå†å‘æœåŠ¡å™¨ç«¯å‘é€ç¡®è®¤æŠ¥æ–‡ï¼Œç¡®è®¤å·ä¸ºæœåŠ¡å™¨åˆå§‹çš„  Seq åºå· + 1ï¼Œåºå·ä¸ºè‡ªå·±åˆå§‹çš„ Seq åºå· + 1ã€‚</p><p>â€‹ 4ã€æ­¤åæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ­£å¼å»ºç«‹è¿æ¥ï¼Œå¼€å§‹å‘é€æ•°æ®ï¼ŒåŒæ–¹çŠ¶æ€ä¸ºESTABLISHEDã€‚</p></blockquote><p>æ­¤å¤„å¼•ç”¨å“”å“©å“”å“© up ä¸»<a href="https://www.bilibili.com/video/BV1kV411j7hA?spm_id_from=333.999.0.0">æŒèŠå£«zzs</a>çš„å›¾ç‰‡</p><p><img src="/images/go/tcp3.png" alt="tcp3"></p><h2 id="2ã€TCP-éœ€è¦ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› "><a href="#2ã€TCP-éœ€è¦ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› " class="headerlink" title="2ã€TCP éœ€è¦ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› "></a>2ã€TCP éœ€è¦ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› </h2><blockquote><p>ç­”ï¼šé‡‡ç”¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› æ˜¯:</p><p>â€‹ 1ã€å¦‚æœç¬¬ä¸€æ¬¡å®¢æˆ·ç«¯çš„æŠ¥æ–‡ä¸­é€”å‡ºç°å»¶è¿Ÿï¼Œè€Œå®¢æˆ·ç«¯å¼€å§‹é‡å‘ç¬¬ä¸€æ¬¡çš„æŠ¥æ–‡ï¼Œå¹¶ä¸”é‡å‘æŠ¥æ–‡è¢«æœåŠ¡å™¨æ­£ç¡®æ¥æ”¶ã€‚</p><p>â€‹ 2ã€è€Œæ­¤æ—¶ï¼Œç¬¬ä¸€æ¬¡å®¢æˆ·ç«¯å‘é€çš„æŠ¥æ–‡åˆåˆ°è¾¾æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ¥å—åï¼Œåˆè¿”å›ä¸€ä¸ªæŠ¥æ–‡ï¼Œç›¸å½“äºæœåŠ¡å™¨åŒä¸€ä¸ªå®¢æˆ·ç«¯å»ºç«‹äº†ä¸¤ä¸ªè¿æ¥ï¼Œè€Œå®¢æˆ·ç«¯åªè®¤ä¸ºè‡ªå·±å»ºç«‹çš„ä¸€ä¸ªè¿æ¥ï¼Œé€ æˆäº†çŠ¶æ€ä¸ä¸€è‡´ï¼ŒåŒæ—¶æœåŠ¡å™¨çš„èµ„æºä¹Ÿè¢«æµªè´¹äº†ã€‚</p><p>â€‹ 3ã€æ•…ä¸ºäº†å°½å¯èƒ½ä¿è¯è¿æ¥çš„å»ºç«‹åŠæ—¶ã€æœ‰æ•ˆä¸”èµ„æºèŠ‚çº¦ï¼Œæ•…é‡‡ç”¨ TCP ä¸‰æ¬¡æ¡æ‰‹ã€‚</p></blockquote><h2 id="3ã€TCP-å››æ¬¡æŒ¥æ‰‹"><a href="#3ã€TCP-å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="3ã€TCP å››æ¬¡æŒ¥æ‰‹"></a>3ã€TCP å››æ¬¡æŒ¥æ‰‹</h2><blockquote><p>ç­”ï¼šTCP çš„å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ä¸º</p><p>â€‹ 1ã€é¦–å…ˆç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€å…³é—­è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œå³ FIN æŠ¥æ–‡ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯ç”± ESTABLISHED çŠ¶æ€è½¬å˜ä¸º FIN-WAIT-1 çŠ¶æ€ï¼Œæ­¤æ—¶è¿˜èƒ½ç»§ç»­æ¥å—æœåŠ¡å™¨æ‰€å‘é€çš„æ•°æ®ã€‚</p><p>â€‹ 2ã€æœåŠ¡å™¨åœ¨æ¥å—åˆ°å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€çš„ FIN åŒ…åï¼Œå‘å®¢æˆ·ç«¯å‘é€ç¡®è®¤æŠ¥æ–‡ï¼Œå³ ACK æŠ¥æ–‡ï¼Œæ­¤æ—¶æœåŠ¡å™¨çš„çŠ¶æ€ç”± ESTABLISHED çŠ¶æ€è½¬å˜ä¸º CLOSED-WAITçŠ¶æ€ï¼Œæ­¤æ—¶æœåŠ¡å™¨ç«¯è¿˜èƒ½ç»§ç»­æŠŠæœªèƒ½å‘é€å®Œçš„æ•°æ®ç»§ç»­å‘é€ã€‚</p><p>â€‹ 3ã€å®¢æˆ·ç«¯åœ¨æ¥å—äº†æœåŠ¡å™¨ç«¯å‘å›çš„ ACK ç¡®è®¤æŠ¥æ–‡ä¹‹åç”± FIN-WAIT-1 è½¬å˜ä¸º FIN-WAIT-2 çŠ¶æ€ï¼Œå¹¶ä¸”èƒ½ç»§ç»­æ¥å—æ•°æ®ï¼Œç›´åˆ°æœåŠ¡å™¨å‘é€ç»ˆæ­¢æŠ¥æ–‡ï¼Œå³ FIN åŒ…ä¸ºæ­¢ã€‚</p><p>â€‹ 4ã€æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€ FIN åŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨ç«¯ç”± CLOSED-WAIT çŠ¶æ€è½¬å˜ä¸º LAST-ACK çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿”å›æœ€åä¸€æ¬¡ç¡®è®¤æŠ¥æ–‡ï¼Œå³ ACK ä¸ºæ­¢ã€‚</p><p>â€‹ 5ã€å®¢æˆ·ç«¯æ¥æ”¶åˆ° FIN åŒ…åï¼Œç”± FIN-WAIT-2 å˜ä¸º TIME-WAIT çŠ¶æ€ï¼Œè¶…è¿‡ä¸€å®šçš„æ—¶é—´åè‡ªåŠ¨è½¬å˜ä¸º CLOSED çŠ¶æ€ã€‚</p><p>â€‹ 6ã€æœåŠ¡å™¨ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„ ACK æŠ¥æ–‡åï¼Œå³ç”± LAST-ACK çŠ¶æ€è½¬å˜ä¸º CLOSED çŠ¶æ€ï¼Œä¸å†å‘é€ä¸æ¥å—å®¢æˆ·ç«¯çš„æ•°æ®ã€‚</p></blockquote><p>æ­¤å¤„å¼•ç”¨å“”å“©å“”å“© up ä¸» <a href="https://www.bilibili.com/video/BV1kV411j7hA?spm_id_from=333.999.0.0">æŒèŠå£«zzs</a> çš„å›¾ç‰‡</p><p><img src="/images/go/tcp4.png" alt="tcp4"></p><h2 id="4ã€TCP-éœ€è¦å››æ¬¡æŒ¥æ‰‹çš„åŸå› "><a href="#4ã€TCP-éœ€è¦å››æ¬¡æŒ¥æ‰‹çš„åŸå› " class="headerlink" title="4ã€TCP éœ€è¦å››æ¬¡æŒ¥æ‰‹çš„åŸå› "></a>4ã€TCP éœ€è¦å››æ¬¡æŒ¥æ‰‹çš„åŸå› </h2><blockquote><p>ç­”ï¼šé‡‡ç”¨ç¬¬å››æ¬¡æŒ¥æ‰‹çš„åŸå› æ˜¯:</p><p>â€‹ 1ã€å¦‚æœå®¢æˆ·ç«¯ç¬¬å››æ¬¡å‘é€ ACK æŠ¥æ–‡åå°±ç›´æ¥è¿›å…¥ CLOSED çŠ¶æ€ï¼Œé‚£ä¹ˆå¦‚æœç¬¬å››æ¬¡å‘é€çš„ACKæŠ¥æ–‡åœ¨ä¼ è¾“çš„è¿‡ç¨‹ä¸­ä¸¢å¤±ï¼ŒæœåŠ¡å™¨ç”±äºä¸€ç›´æœªèƒ½æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„ ACK æŠ¥æ–‡ï¼Œå†æ¬¡å‘å®¢æˆ·ç«¯å‘é€ç›¸åº”çš„ FIN æŠ¥æ–‡ï¼Œè€Œæ­¤æ—¶å®¢æˆ·ç«¯å·²ç»å…³é—­ï¼Œæ¥å—ä¸åˆ°æœåŠ¡å™¨å‘é€çš„ FIN æŠ¥æ–‡ã€‚å³é€ æˆäº†æœåŠ¡å™¨çš„èµ„æºæµªè´¹</p><p>â€‹ 2ã€æ•…ä¸ºäº†ä¿è¯é€šä¿¡å°½å¯èƒ½çš„å¯é ï¼Œé‡‡ç”¨ TCP å››æ¬¡æ¡æ‰‹ï¼Œä½†æ˜¯åœ¨è€ƒç ”ä¸­ï¼Œæœ‰ç§ç‰¹æ®Šçš„æƒ…å†µï¼Œåœ¨ç¡®ä¿ç¬¬ä¸‰æ¬¡æ¡æ‰‹èƒ½æˆç«‹çš„æƒ…å†µä¸‹ï¼Œç¬¬å››æ¬¡æ¡æ‰‹å¯ä»¥è¢«çœç•¥ã€‚è‹¥å°†ä¸€ä¸ªå¾€è¿”è§†ä¸º RTT çš„æƒ…å†µä¸‹ï¼Œæœ€çŸ­çš„é‡Šæ”¾è¿æ¥æ‰€éœ€è¦çš„æ—¶é—´ä¸º 1.5 ä¸ª RTT å³å¯ï¼Œä¸éœ€è¦ 2 ä¸ª RTTï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸ºäº†èŠ‚çœèµ„æºæ‰€è€ƒè™‘çš„æƒ…å†µï¼Œå¹¶ä¸ä¸€å®šè§†ä¸ºé”™è¯¯ç­”æ¡ˆã€‚</p></blockquote><h2 id="5ã€TCPç²˜åŒ…é—®é¢˜"><a href="#5ã€TCPç²˜åŒ…é—®é¢˜" class="headerlink" title="5ã€TCPç²˜åŒ…é—®é¢˜"></a>5ã€TCPç²˜åŒ…é—®é¢˜</h2><blockquote><p>ç­”ï¼šTCP å¯¹æ¯” UDPï¼Œå‰è€…ä¸»è¦æ˜¯ä»¥å­—èŠ‚æµçš„å½¢å¼ä¼ è¾“æ•°æ®ï¼Œè€ŒUDPåˆ™ä»¥æŠ¥æ–‡çš„å½¢å¼ä¼ è¾“æ•°æ®ã€‚</p><p>â€‹ å…¶ä¸­æŠ¥æ–‡ä¸å­—èŠ‚æµçš„åŒºåˆ«ä¸»è¦æ˜¯ï¼Œå­—èŠ‚æµä¼ è¾“æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œä¸æ¯ä¸€ä¸ªæ•°æ®ä¸­çš„ç‹¬ç«‹çš„å†…å®¹æ— å…³ï¼Œè€ŒæŠ¥æ–‡ä¼ è¾“ä¸ºä¼ è¾“ä»¥æŠ¥æ–‡ä¸ºå•ä½ï¼Œä¿ç•™äº†æŠ¥æ–‡å†…å®¹çš„è¾¹ç•Œã€‚æ‰€ä»¥å°±ä¼šå¯¼è‡´TCPä¼ è¾“å­—èŠ‚æ—¶å€™ï¼Œæœ‰å¯èƒ½åŒºåˆ†ä¸äº†æ•°æ®çš„è¾¹ç•Œï¼Œå¯¼è‡´æœ€åè§£åŒ…æ•°æ®æ‰€é€ æˆçš„è§£ç ä¹±ç ç°è±¡ï¼Œå³TCPçš„ç²˜åŒ…çš„é—®é¢˜ã€‚</p><p>â€‹ è§£å†³ TCP ç²˜åŒ…é—®é¢˜çš„åŠæ³•æœ‰è®¸å¤šç§ï¼Œå…¶ä¸­åœ¨ä¹‹å‰æ‰€å­¦çš„Zinxæ¡†æ¶ä¸­ï¼Œåˆ˜ä¸¹å†°è€å¸ˆ(åé¢ç§°ä¸º Aceld è€å¸ˆ)è§£é‡Šäº†ä¸€ç§ TLV æ ¼å¼çš„å°åŒ…è§£åŒ…åŠæ³•ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå³ä½¿ç”¨ datalenã€msgIDã€dataä½œä¸ºå°åŒ…è§£åŒ…çš„å­—æ®µï¼Œé¦–å…ˆè¯»å–ä¸€éå°åŒ…çš„å¤´éƒ¨é•¿åº¦ï¼Œå³ datalen ä¸ msgID å­—æ®µçš„å¤§å°ï¼Œæ­¤å¤„æŒ‰ç…§è‡ªå·±è®¾ç½®çš„æ¥ã€‚ä¸€èˆ¬è®¾ç½®æ˜¯ä¸¤ä¸ª uint32 ç±»å‹ï¼Œå³ä¸º 8 Byte çš„ã€‚</p><p>â€‹ å…¶ä¸­è§£æå¼€å¤´çš„ datalenä¸º dataå­—æ®µçš„æ•°æ®é•¿åº¦ï¼ŒmsgID ä¸ºç›¸åº”çš„æ•°æ®åŒ…ç¼–å·ã€‚ç„¶åæ ¹æ®å¼€å¤´çš„ datalen çš„å…·ä½“æ•°å€¼æ¥è¯»å–ä¹‹åçš„ data æ®µçš„æ•°æ®ã€‚è‡³äºTCPå‘é€æ•°æ®æµä¸­å‡ºç°çš„é”™è¯¯ï¼Œåˆ©ç”¨å¥½ TCP çš„é”™è¯¯é‡ä¼ æœºåˆ¶å°±å¥½ï¼Œgo è¯­è¨€ä¹Ÿæœ‰ TCP åŒ…çš„å®ç°ï¼Œå…·ä½“ä»¥åçœ‹åº•å±‚ä»£ç æ¥è§£é‡Šï¼Œæœ¬ç¯‡åšå®¢æš‚æ—¶ä¸è®¨è®ºæ­¤é—®é¢˜ã€‚</p></blockquote><p><img src="/images/go/TLV.jpeg" alt="TLV"></p><h2 id="6ã€å†™ä»£ç ï¼šchannel"><a href="#6ã€å†™ä»£ç ï¼šchannel" class="headerlink" title="6ã€å†™ä»£ç ï¼šchannel"></a>6ã€å†™ä»£ç ï¼šchannel</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//å¤šå¤šç»ƒä¹ ä¸€ä¸‹ä»£ç èƒ½åŠ›ï¼Œè¦è„±ç¦»ç›¸åº”çš„è§†é¢‘é¡¹ç›®å¼€å‘ï¼Œå˜ä¸ºç”Ÿäº§å®é™…å¼€å‘ï¼Œæœ‰äº›ä¸œè¥¿ï¼Œä¸€æ®µæ—¶é—´æ²¡ç”¨å°±ä¼šå¿˜è®°ï¼Œæ¯”å¦‚ç®—æ³•æ—¶é—´å¤æ‚åº¦ï¼Œä»¥åŠç›¸åº”çš„ä»£ç ç†Ÿç»ƒåº¦</span><span class="token comment">//å®ç°ä¸¤ä¸ªchannelï¼Œä¸€ä¸ª channel è¾“å‡º pingï¼Œä¸€ä¸ªchannel è¾“å‡º pangï¼Œå¹¶å‘æ‰§è¡Œã€‚</span><span class="token comment">//22-5-13 æ—¥å†å›å¤´çœ‹ï¼Œå‘ç°é—®é¢˜å¾ˆæ˜¾ç„¶äº†ï¼Œè‡ªå·±å½“æ—¶å†™ä¸€ä¸ªç»å…¸çš„å¹¶å‘æ¡ˆä¾‹æ²¡å†™å‡ºæ¥å°±æ˜¯å±äºåŸºç¡€ä¸å¤Ÿå¥½ï¼Œè¿™ä¸ªä»£ç ä¹Ÿä¸ç¬¦åˆé¢è¯•å®˜éœ€è¦è¾¾åˆ°çš„è¦æ±‚ï¼Œåªæ˜¯æ•ˆæœè¾¾åˆ°äº†ã€‚</span><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>p <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span>q <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>p <span class="token operator">&lt;-</span> <span class="token string">"ping"</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>q <span class="token operator">&lt;-</span> <span class="token string">"pang"</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>c <span class="token operator">:=</span> <span class="token operator">&lt;-</span>qa <span class="token operator">:=</span> <span class="token operator">&lt;-</span>p<span class="token comment">/*è‹¥æ²¡æœ‰IDEï¼Œåœ¨vim çœ‹ c ä¸a çš„ç±»å‹è¦ä½¿ç”¨å¦‚ä¸‹*/</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of c : %T\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of a : %T\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="7ã€Go-ä¸­-map-æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ä¸º-O-1"><a href="#7ã€Go-ä¸­-map-æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ä¸º-O-1" class="headerlink" title="7ã€Go ä¸­ map æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)"></a>7ã€Go ä¸­ map æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)</h2><blockquote><p>ç­”ï¼šæŸ¥çœ‹äº†ç›¸åº”çš„å„ç§åšå®¢ï¼Œäº†è§£åˆ°ï¼š</p><ul><li><p>1ã€java ä¸­ map çš„åº•å±‚æºä»£ç å®ç°ä¸ºæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ï¼Œæ‰€ä»¥åœ¨æ•°æ®é‡æå°çš„æƒ…å†µä¸‹ï¼Œç›¸åº”çš„<strong>æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ä¸º O(1)</strong>ï¼Œè€Œåœ¨æ•°æ®é‡è¾ƒå¤šçš„æƒ…å†µï¼Œmap çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯å¤§äº O(1)ï¼Œå°äº O(N)ï¼Œæ¥è¿‘ O(logN) çš„æ—¶é—´å¤æ‚åº¦çš„ï¼</p></li><li><p>2ã€æ‰€ä»¥è¯´å…³äº map çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªå¾ˆè€çš„é—®é¢˜äº†ï¼Œä¸€èˆ¬ä½¿ç”¨æƒ…å†µé»˜è®¤ä¸º O(1) çš„æ—¶é—´å¤æ‚åº¦ã€‚ä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€å°±è¦å¦è®¤ map çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦æ˜¯ O(logN) çš„è¯´æ³•ã€‚</p></li><li><p>3ã€ä¸æ‡‚ä¸ç†è§£çš„é—®é¢˜ï¼Œä¸€å®šéœ€è¦äº‹åè¿›è¡Œç›¸å…³èµ„æ–™çš„æŸ¥è¯¢ï¼Œä»¥åŠæ€»ç»“ã€‚</p></li></ul></blockquote><p>å…³äºmap æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ï¼Œ<a href="https://stackoverflow.com/questions/1055243/is-a-java-hashmap-search-really-o1">StackOverFlow</a> ä¸Šç»™å‡ºçš„è¯´æ³•æŒºå¤š</p><p><img src="/images/go/mapsearch.png" alt="mapsearch"></p><p><img src="/images/go/mapAnswer1.png" alt="mapAnswer1"></p><p><img src="/images/go/mapAnswer2.png" alt="mapAnswer2"></p><h2 id="8ã€GMP-æ¨¡å‹"><a href="#8ã€GMP-æ¨¡å‹" class="headerlink" title="8ã€GMP æ¨¡å‹"></a>8ã€GMP æ¨¡å‹</h2><blockquote><p>å¼ºçƒˆæ¨è Aceld è€å¸ˆçš„ GMP æ¨¡å¼è¯¦ç»†è§£é‡Šï¼Œå¯ä»¥æ˜ç™½è°ƒåº¦å™¨çš„è°ƒåº¦è¡Œä¸ºã€‚<br>GMP æ¨¡å‹å·²ç»å•ç‹¬ä½œä¸ºä¸€ç¯‡åšå®¢å­˜åœ¨ï¼Œæ‰€ä»¥æ­¤å¤„ä¸å†é˜è¿°ã€‚</p></blockquote><h2 id="9ã€Go-GC-åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ€§èƒ½æ¯”è¾ƒä½"><a href="#9ã€Go-GC-åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ€§èƒ½æ¯”è¾ƒä½" class="headerlink" title="9ã€Go GC åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ€§èƒ½æ¯”è¾ƒä½"></a>9ã€Go GC åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ€§èƒ½æ¯”è¾ƒä½</h2><p>1ã€å†…å­˜æ³„éœ²ã€‚</p><p>2ã€å°å¯¹è±¡ï¼Œç»“æ„ä½“æ¯”æŒ‡é’ˆçš„å¥½</p><hr><blockquote><p>â€”â€”â€”â€”END å¦‚æœæœ¬åšå®¢å­˜åœ¨è¯¯è§£çš„é—®é¢˜ï¼Œæ³è¯·å¤§å®¶æŒ‡å‡ºï¼â€”â€”â€”â€”â€”-</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>interview</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1984. å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼</title>
    <link href="/2022/02/11/Leetcode/1984/"/>
    <url>/2022/02/11/Leetcode/1984/</url>
    
    <content type="html"><![CDATA[<h1 id="1984-å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼"><a href="#1984-å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼" class="headerlink" title="1984. å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼"></a><a href="https://leetcode-cn.com/problems/minimum-difference-between-highest-and-lowest-of-k-scores/">1984. å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼</a></h1><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">ç»™ä½ ä¸€ä¸ª ä¸‹æ ‡ä» <span class="token number">0</span> å¼€å§‹ çš„æ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­ nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> è¡¨ç¤ºç¬¬ i åå­¦ç”Ÿçš„åˆ†æ•°ã€‚å¦ç»™ä½ ä¸€ä¸ªæ•´æ•° k ã€‚ä»æ•°ç»„ä¸­é€‰å‡ºä»»æ„ k åå­¦ç”Ÿçš„åˆ†æ•°ï¼Œä½¿è¿™ k ä¸ªåˆ†æ•°é—´ æœ€é«˜åˆ† å’Œ æœ€ä½åˆ† çš„ å·®å€¼ è¾¾åˆ° æœ€å°åŒ– ã€‚è¿”å›å¯èƒ½çš„ æœ€å°å·®å€¼ ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">0</span>è§£é‡Šï¼šé€‰å‡º <span class="token number">1</span> åå­¦ç”Ÿçš„åˆ†æ•°ï¼Œä»…æœ‰ <span class="token number">1</span> ç§æ–¹æ³•ï¼š<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">90</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">90</span> <span class="token operator">-</span> <span class="token number">90</span> <span class="token operator">=</span> <span class="token number">0</span>å¯èƒ½çš„æœ€å°å·®å€¼æ˜¯ <span class="token number">0</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šé€‰å‡º <span class="token number">2</span> åå­¦ç”Ÿçš„åˆ†æ•°ï¼Œæœ‰ <span class="token number">6</span> ç§æ–¹æ³•ï¼š<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">9</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">9</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">9</span> <span class="token operator">-</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">7</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ä¹‹é—´çš„å·®å€¼æ˜¯ <span class="token number">7</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">6</span>å¯èƒ½çš„æœ€å°å·®å€¼æ˜¯ <span class="token number">2</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ’åºä¹‹åä½¿ç”¨æ»‘åŠ¨çª—å£çš„åŠæ³•ï¼Œæ‰¾å¯»æœ€å°å·®å€¼å°±éœ€è¦ä¸¤ä¸ªæ•°éƒ½å¤„äºæ’åºä¹‹åå±…ä¸­çš„ä½ç½®ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">minimumDifference</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> k <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token comment">//go sort</span>    ans <span class="token operator">:=</span> math<span class="token punctuation">.</span>MaxInt32    <span class="token keyword">for</span> i<span class="token punctuation">,</span> num <span class="token keyword">range</span> nums<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>        ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i <span class="token operator">+</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> num<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> ans<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">min</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> a <span class="token operator">></span> b <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> b    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> a<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sort</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>707. è®¾è®¡é“¾è¡¨</title>
    <link href="/2022/02/10/Leetcode/707/"/>
    <url>/2022/02/10/Leetcode/707/</url>
    
    <content type="html"><![CDATA[<h1 id="707-è®¾è®¡é“¾è¡¨"><a href="#707-è®¾è®¡é“¾è¡¨" class="headerlink" title="707.è®¾è®¡é“¾è¡¨"></a><a href="https://leetcode-cn.com/problems/design-linked-list/">707.è®¾è®¡é“¾è¡¨</a></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">è®¾è®¡é“¾è¡¨çš„å®ç°ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–åŒé“¾è¡¨ã€‚å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šval å’Œ nextã€‚val æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œnext æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ<span class="token operator">/</span>å¼•ç”¨ã€‚å¦‚æœè¦ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦ä¸€ä¸ªå±æ€§ prev ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ <span class="token number">0</span><span class="token operator">-</span>index çš„ã€‚åœ¨é“¾è¡¨ç±»ä¸­å®ç°è¿™äº›åŠŸèƒ½ï¼š<span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>ï¼šè·å–é“¾è¡¨ä¸­ç¬¬ index ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœç´¢å¼•æ— æ•ˆï¼Œåˆ™è¿”å›<span class="token operator">-</span><span class="token number">1</span>ã€‚<span class="token function">addAtHead</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>ï¼šåœ¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ·»åŠ ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹ã€‚æ’å…¥åï¼Œæ–°èŠ‚ç‚¹å°†æˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚<span class="token function">addAtTail</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>ï¼šå°†å€¼ä¸º val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚<span class="token function">addAtIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span>val<span class="token punctuation">)</span>ï¼šåœ¨é“¾è¡¨ä¸­çš„ç¬¬ index ä¸ªèŠ‚ç‚¹ä¹‹å‰æ·»åŠ å€¼ä¸º val  çš„èŠ‚ç‚¹ã€‚å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œåˆ™è¯¥èŠ‚ç‚¹å°†é™„åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æœ index å¤§äºé“¾è¡¨é•¿åº¦ï¼Œåˆ™ä¸ä¼šæ’å…¥èŠ‚ç‚¹ã€‚å¦‚æœindexå°äº<span class="token number">0</span>ï¼Œåˆ™åœ¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ã€‚<span class="token function">deleteAtIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>ï¼šå¦‚æœç´¢å¼• index æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬ index ä¸ªèŠ‚ç‚¹ã€‚MyLinkedList linkedList <span class="token operator">=</span> <span class="token builtin">new</span> <span class="token function">MyLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>linkedList<span class="token punctuation">.</span><span class="token function">addAtHead</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>linkedList<span class="token punctuation">.</span><span class="token function">addAtTail</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>linkedList<span class="token punctuation">.</span><span class="token function">addAtIndex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//é“¾è¡¨å˜ä¸º1-> 2-> 3</span>linkedList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è¿”å›2</span>linkedList<span class="token punctuation">.</span><span class="token function">deleteAtIndex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç°åœ¨é“¾è¡¨æ˜¯1-> 3</span>linkedList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è¿”å›3</span>æ‰€æœ‰valå€¼éƒ½åœ¨ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span> ä¹‹å†…ã€‚æ“ä½œæ¬¡æ•°å°†åœ¨  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span> ä¹‹å†…ã€‚è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„ LinkedList åº“ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä½¿ç”¨ Go è¯­è¨€å®ç°åŸºç¡€çš„æ•°æ®ç»“æ„</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> MyLinkedList <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span> Val  <span class="token builtin">int</span> Next <span class="token operator">*</span>MyLinkedList<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">Constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> MyLinkedList <span class="token punctuation">&#123;</span>    <span class="token comment">// è¯¥èŠ‚ç‚¹ä¸ºå¤´ç»“ç‚¹ï¼Œä¸ä¼šç”¨åˆ°</span> <span class="token keyword">return</span> MyLinkedList<span class="token punctuation">&#123;</span>        Val<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>        Next<span class="token punctuation">:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>MyLinkedList<span class="token punctuation">)</span> <span class="token function">Get</span><span class="token punctuation">(</span>index <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span> tmp <span class="token operator">:=</span> this<span class="token punctuation">.</span>Next <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> tmp <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> i <span class="token operator">==</span> index <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">.</span>Val        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>Next        <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>MyLinkedList<span class="token punctuation">)</span> <span class="token function">AddAtHead</span><span class="token punctuation">(</span>val <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> this<span class="token punctuation">.</span>Next <span class="token operator">=</span> <span class="token operator">&amp;</span>MyLinkedList<span class="token punctuation">&#123;</span>  Val<span class="token punctuation">:</span>  val<span class="token punctuation">,</span>  Next<span class="token punctuation">:</span> this<span class="token punctuation">.</span>Next<span class="token punctuation">,</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>MyLinkedList<span class="token punctuation">)</span> <span class="token function">AddAtTail</span><span class="token punctuation">(</span>val <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> tmp <span class="token operator">:=</span> this <span class="token keyword">for</span> tmp<span class="token punctuation">.</span>Next <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>  tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>Next <span class="token punctuation">&#125;</span> tmp<span class="token punctuation">.</span>Next <span class="token operator">=</span> <span class="token operator">&amp;</span>MyLinkedList<span class="token punctuation">&#123;</span>  Val<span class="token punctuation">:</span>  val<span class="token punctuation">,</span>  Next<span class="token punctuation">:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>MyLinkedList<span class="token punctuation">)</span> <span class="token function">AddAtIndex</span><span class="token punctuation">(</span>index <span class="token builtin">int</span><span class="token punctuation">,</span> val <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">if</span> index <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>  this<span class="token punctuation">.</span><span class="token function">AddAtHead</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>    tmp <span class="token operator">:=</span> this<span class="token punctuation">.</span>Next    <span class="token comment">// éå†åˆ°indexå¤„</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index <span class="token operator">&amp;&amp;</span> tmp<span class="token punctuation">.</span>Next <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>Next    <span class="token punctuation">&#125;</span>    <span class="token comment">// indexè¶…å‡ºé“¾è¡¨é•¿åº¦</span>    <span class="token keyword">if</span> tmp <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    tmp<span class="token punctuation">.</span>Next <span class="token operator">=</span> <span class="token operator">&amp;</span>MyLinkedList<span class="token punctuation">&#123;</span>        Val<span class="token punctuation">:</span>  val<span class="token punctuation">,</span>        Next<span class="token punctuation">:</span> tmp<span class="token punctuation">.</span>Next<span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>MyLinkedList<span class="token punctuation">)</span> <span class="token function">DeleteAtIndex</span><span class="token punctuation">(</span>index <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ç©ºé“¾è¡¨</span>    <span class="token keyword">if</span> this<span class="token punctuation">.</span>Next <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">if</span> index <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>  this<span class="token punctuation">.</span>Next <span class="token operator">=</span> this<span class="token punctuation">.</span>Next<span class="token punctuation">.</span>Next  <span class="token keyword">return</span> <span class="token punctuation">&#125;</span> tmp <span class="token operator">:=</span> this<span class="token punctuation">.</span>Next <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index <span class="token operator">&amp;&amp;</span> tmp<span class="token punctuation">.</span>Next <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>  tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>Next <span class="token punctuation">&#125;</span>    <span class="token comment">// indexè¶…å‡ºé“¾è¡¨é•¿åº¦</span> <span class="token keyword">if</span> tmp<span class="token punctuation">.</span>Next <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token punctuation">&#125;</span> tmp<span class="token punctuation">.</span>Next <span class="token operator">=</span> tmp<span class="token punctuation">.</span>Next<span class="token punctuation">.</span>Next<span class="token punctuation">&#125;</span><span class="token comment">/** * Your MyLinkedList object will be instantiated and called as such: * obj := Constructor(); * param_1 := obj.Get(index); * obj.AddAtHead(val); * obj.AddAtTail(val); * obj.AddAtIndex(index,val); * obj.DeleteAtIndex(index); */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LinkList</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Zinx æ¡†æ¶çš„å­¦ä¹ </title>
    <link href="/2022/01/10/go/zinx/zinx/"/>
    <url>/2022/01/10/go/zinx/zinx/</url>
    
    <content type="html"><![CDATA[<p>å¼€å§‹å­¦ä¹  Go è¯­è¨€å®ç°çš„ zinx æ¡†æ¶,é¡¹ç›®åœ°å€ä¸ºï¼š<a href="https://github.com/chaggle/zinx-study">https://github.com/chaggle/zinx-study</a></p><blockquote><p>ä½¿ç”¨ go mod ç®¡ç†, åˆå§‹åŒ–ä¸º go mod init github.com&#x2F;chaggle&#x2F;zinx-study<br>å¹¶éƒ¨ç½²ä»£ç åˆ° github.com ä»¥åŠä½¿ç”¨ go get åŒæ­¥åˆ°æœ¬åœ° Gopath çš„ github åŒ…ä¸‹ï¼</p></blockquote><h2 id="V0-1-åŸºç¡€çš„-server-æ¨¡å—"><a href="#V0-1-åŸºç¡€çš„-server-æ¨¡å—" class="headerlink" title="V0.1 åŸºç¡€çš„ server æ¨¡å—"></a>V0.1 åŸºç¡€çš„ server æ¨¡å—</h2><blockquote><p>æ–¹æ³•</p><p>åˆå§‹åŒ–æœåŠ¡å™¨ â€“ NewServer(name string) ziface.IServer</p><p>å¯åŠ¨æœåŠ¡å™¨ â€“ Start()</p><p>åœæ­¢æœåŠ¡å™¨ â€“ Stop()</p><p>è¿è¡ŒæœåŠ¡å™¨ â€“ Serve()</p><p>å±æ€§</p><p>åç§° â€“ name</p><p>IP ç‰ˆæœ¬ â€“ IPVersion</p><p>ç›‘å¬ IP â€“ IP</p><p>ç›‘å¬ç«¯å£ â€“ Port</p></blockquote><h2 id="V0-2-ç®€å•çš„é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®š"><a href="#V0-2-ç®€å•çš„é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®š" class="headerlink" title="V0.2 ç®€å•çš„é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®š"></a>V0.2 ç®€å•çš„é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®š</h2><blockquote><p>æ–¹æ³•</p><p>å¯åŠ¨é“¾æ¥ â€“ Start()</p><p>åœæ­¢é“¾æ¥ â€“ Stop()</p><p>è·å–å½“å‰é“¾æ¥çš„ conn å¯¹è±¡ (å¥—æ¥å­—) â€“ GetTCPConnection() *net.TCPConn</p><p>å¾—åˆ°é“¾æ¥ ID â€“ GetConnID() uint32</p><p>å¾—åˆ°å®¢æˆ·ç«¯è¿æ¥çš„åœ°å€å’Œç«¯å£ â€“ RemoteAddr() net.TCPAddr</p><p>å‘é€æ•°æ®çš„æ–¹æ³• â€“ Send(data []byte) error</p><p>å±æ€§<br>socket TCP å¥—æ¥å­— â€“ Conn *net.TCPConn</p><p>é“¾æ¥çš„ ID â€“ ConnID uint32</p><p>å½“å‰é“¾æ¥çŠ¶æ€ (æ˜¯å¦å·²ç»å…³é—­) â€“ isClosed bool</p><p>ä¸å½“å‰é“¾æ¥æ‰€ç»‘å®šçš„å¤„ç†ä¸šåŠ¡ä¸æ–¹æ³• â€“ handlerAPI ziface.HandleFunc</p><p>ç­‰å¾…é€€å‡ºçš„ channel ç®¡é“ â€“ ExitChan chan bool</p></blockquote><h2 id="V0-3-åŸºç¡€çš„-router-æ¨¡å—"><a href="#V0-3-åŸºç¡€çš„-router-æ¨¡å—" class="headerlink" title="V0.3 åŸºç¡€çš„ router æ¨¡å—"></a>V0.3 åŸºç¡€çš„ router æ¨¡å—</h2><blockquote><p>Request è¯·æ±‚å°è£…</p><p>å°†é“¾æ¥ä¸æ•°æ®ç»‘å®šä¸€èµ·</p><p>å±æ€§<br>é“¾æ¥çš„å¥æŸ„ â€“ GetConnection() IConnection</p><p>è¯·æ±‚æ•°æ® â€“ GetData() []byte</p><p>æ–¹æ³•<br>å¾—åˆ°é“¾æ¥â€“ func (r *Request) GetConnection() ziface.IConnection</p><p>å¾—åˆ°æ•°æ® â€“ func (r *Request) GetData() []byte</p><p>æ–°å»ºä¸€ä¸ª Request è¯·æ±‚</p><p>Router æ¨¡å—</p><p>æŠ½è±¡çš„ IRouter</p><p>å¤„ç†ä¸šåŠ¡ä¹‹å‰çš„æ–¹æ³• PreHandle(request IRequest) &#x2F;&#x2F;å¤„ç† conn ä¸šåŠ¡ä¹‹å‰çš„æ–¹æ³•</p><p>å¤„ç†ä¸šåŠ¡çš„ä¸»æ–¹æ³• Handle(request IRequest) &#x2F;&#x2F;å¤„ç† conn ä¸šåŠ¡çš„ä¸»æ–¹æ³•</p><p>å¤„ç†ä¸šåŠ¡ä¹‹åçš„æ–¹æ³• PostHandle(request IRequest) &#x2F;&#x2F;å¤„ç† conn ä¸šåŠ¡ä¹‹åçš„æ–¹æ³•</p><p>å…·ä½“çš„ BaseRouter</p><p>å¤„ç†ä¸šåŠ¡ä¹‹å‰çš„æ–¹æ³• func (br *BaseRouter) PreHandle(request ziface.IRequest)</p><p>å¤„ç†ä¸šåŠ¡çš„ä¸»æ–¹æ³• func (br *BaseRouter) Handle(request ziface.IRequest)</p><p>å¤„ç†ä¸šåŠ¡ä¹‹åçš„æ–¹æ³• func (br *BaseRouter) PostHandle(request ziface.IRequest)</p><p>zinx é›†æˆ Router æ¨¡å—</p><p>IServer å¢æ·»è·¯ç”±åŠŸèƒ½ - AddRouter(router IRouter)</p><p>Server ç±»å¢åŠ  Router æˆå‘˜ â€”&gt; å»æ‰ä¹‹å‰çš„ HandAPI</p><p>Connection ç±»ç»‘å®šä¸€ä¸ª Router æˆå‘˜</p><p>åœ¨ Connection è°ƒç”¨å·²ç»æ³¨å†Œè¿‡çš„ Router å¤„ç†ä¸šåŠ¡</p><p>ä½¿ç”¨ zinxV0.3 ç‰ˆæœ¬å¼€å‘æœåŠ¡å™¨</p><p>1ã€åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨å¥æŸ„</p><p>2ã€ç»™å½“å‰çš„ zinx æ¡†æ¶åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸šåŠ¡è·¯ç”±</p><p>3ã€å¯åŠ¨ server</p><p>4ã€éœ€è¦ç»§æ‰¿ BaseRouter å»å®ç°ä¸‰ä¸ªæ¥å£çš„æ–¹æ³•</p><p>å½“å‰ç‰ˆæœ¬åªæœ‰ä¸€ä¸ªè·¯ç”±èƒ½ä½¿ç”¨ï¼Œç›®å‰åªèƒ½ä½¿ç”¨ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œåœ¨åŠ å…¥è·¯ç”±æ¨¡å—ä¼šä½¿ä¸Šä¸€ä¸ªè·¯ç”±æ¨¡å—æ–¹æ³•è¿›è¡Œé‡å†™è¦†ç›–ã€‚</p></blockquote><h2 id="V0-4-å…¨å±€é…ç½®æ¨¡å—"><a href="#V0-4-å…¨å±€é…ç½®æ¨¡å—" class="headerlink" title="V0.4 å…¨å±€é…ç½®æ¨¡å—"></a>V0.4 å…¨å±€é…ç½®æ¨¡å—</h2><blockquote><p>è·¯å¾„ ï¼šæœåŠ¡å™¨é¡¹ç›®ä¸»åœ°å€&#x2F;conf&#x2F;zinx.json (ç”¨æˆ·è¿›è¡Œå¡«å†™)</p><p>åˆ›å»ºä¸€ä¸ª zinx çš„å…¨å±€é…ç½®æ¨¡å— utils&#x2F;globalobj.go</p><p>åˆå§‹åŒ–åè¯»å–ç”¨æˆ·é…ç½®çš„ zinx.json â€”&gt; globalobj å¯¹è±¡ä¸­å¯¹åº”çš„ zinx æœåŠ¡å™¨å¥æŸ„ä»£ç è¿›è¡Œå‚æ•°æ›¿æ¢</p><p>æä¾›ä¸€ä¸ª GlobalObject å¯¹è±¡ â€” var GlobalObject *GlobalObj</p><p>ä½¿ç”¨ zinx0.4 ç‰ˆæœ¬è¿›è¡Œå¼€å‘</p></blockquote><h2 id="V0-5-æ¶ˆæ¯å°è£…"><a href="#V0-5-æ¶ˆæ¯å°è£…" class="headerlink" title="V0.5 æ¶ˆæ¯å°è£…"></a>V0.5 æ¶ˆæ¯å°è£…</h2><blockquote><p>å®šä¹‰æ¶ˆæ¯çš„ç»“æ„ Message</p><p>å±æ€§<br>æ¶ˆæ¯çš„ ID</p><p>æ¶ˆæ¯çš„é•¿åº¦</p><p>æ¶ˆæ¯çš„å†…å®¹</p><p>æ–¹æ³•<br>SetMsgId(uint32) &#x2F;&#x2F;è®¾ç½®æ¶ˆæ¯ ID</p><p>SetData([]byte) &#x2F;&#x2F;è®¾ç½®æ¶ˆæ¯å†…å®¹</p><p>SetDataLen(uint32) &#x2F;&#x2F;è®¾ç½®æ¶ˆæ¯é•¿åº¦</p><p>GetDataLen() uint32 &#x2F;&#x2F;è·å–æ¶ˆæ¯é•¿åº¦</p><p>GetMsgId() uint32 &#x2F;&#x2F;è·å–æ¶ˆæ¯ ID</p><p>GetData() []byte &#x2F;&#x2F;è·å–æ¶ˆæ¯å†…å®¹</p><p>å®šä¹‰è§£å†³ TCP ç²˜åŒ…é—®é¢˜çš„å°åŒ…æ‹†åŒ…çš„æ¨¡å—</p><p>é’ˆå¯¹ Message è¿›è¡Œ TLV æ ¼å¼çš„å°è£… â€“ func (dp *DataPack) Pack(msg ziface.IMessage) ([]byte, error)</p><p>å†™ Message çš„é•¿åº¦</p><p>å†™ Message çš„ ID</p><p>å†™ Message çš„å†…å®¹</p><p>é’ˆå¯¹ Message è¿›è¡Œ TLV æ ¼å¼çš„æ‹†åŒ… â€“ func (dp *DataPack) Unpack(binaryData []byte) (ziface.IMessage, error)</p><p>å…ˆè¯»å–å›ºå®šé•¿åº¦çš„ head â€”&gt; æ¶ˆæ¯çš„é•¿åº¦å’Œæ¶ˆæ¯çš„ç±»å‹</p><p>å†æ ¹æ®æ¶ˆæ¯å†…å®¹çš„é•¿åº¦ï¼Œå†è¿›è¡Œä¸€æ¬¡è¯»å†™ï¼Œä» conn ä¸­è¯»å–æ¶ˆæ¯çš„å†…å®¹</p><p>å°†æ¶ˆæ¯å°è£…æœºåˆ¶é›†æˆåˆ° Zinx æ¡†æ¶ä¸­</p><p>å°† Message æ·»åŠ åˆ° Request å±æ€§å­—æ®µ</p><p>ä¿®æ”¹è¿æ¥è¯»å–æ•°æ®çš„æœºåˆ¶ï¼Œå°†ä¹‹å‰çš„å•çº¯è¯»å– byte æ”¹æˆæ‹†åŒ…å½¢å¼ï¼Œè¯»å–æŒ‰ç…§ TLV å½¢å¼è¿›è¡Œè¯»å–</p><p>ç»™é“¾æ¥æä¾›ä¸€ä¸ªå‘åŒ…çš„æœºåˆ¶ï¼šå°†å‘é€çš„æ¶ˆæ¯æ‰“åŒ…ï¼Œå†å‘é€</p><p>ä½¿ç”¨ zinxV0.5 å¼€å‘</p></blockquote><h2 id="V0-6-å¤šè·¯ç”±æ¨¡å¼"><a href="#V0-6-å¤šè·¯ç”±æ¨¡å¼" class="headerlink" title="V0.6 å¤šè·¯ç”±æ¨¡å¼"></a>V0.6 å¤šè·¯ç”±æ¨¡å¼</h2><blockquote><p>æ¶ˆæ¯ç®¡ç†æ¨¡å—(æ”¯æŒå¤šè·¯ç”± API è°ƒåº¦ç®¡ç†)</p><p>å±æ€§</p><p>é›†åˆ - æ¶ˆæ¯ ID ä¸å¯¹åº” router çš„å…³ç³» - map Apis map[uint32]ziface.IRouter</p><p>æ–¹æ³•</p><p> æ ¹æ® MsgId æ¥ç´¢å¼•è°ƒåº¦è·¯ç”±æ–¹æ³• func (mh *MsgHandle) DoMsgHandler(request ziface.IRequest)</p><p> æ·»åŠ è·¯ç”±æ–¹æ³•åˆ° map é›†åˆä¸­ func (mh *MsgHandle) AddRouter(msgID uint32, router ziface.IRouter)</p><p>æ¶ˆæ¯ç®¡ç†æ¨¡å—é›†æˆåˆ° Zinx æ¡†æ¶ä¸­</p><p>å°† server æ¨¡å—é‡Œé¢çš„ Router å±æ€§å˜ä¸º MsgHandle å±æ€§</p><p>å°† server æ¨¡å—ä¸­çš„ AddRouter ä¿®æ”¹è°ƒç”¨ MsgHandler çš„ AddRouter</p><p>å°† connection æ¨¡å—ä¸­çš„ Router å±æ€§æ›¿æ¢ä¸º MsgHandle å±æ€§</p><p>å°† connection æ¨¡å—ä¸­çš„ Router ä¸šåŠ¡è°ƒåº¦ Router çš„ä¸šåŠ¡æ”¹ä¸ºè°ƒåº¦ MsgHandle è°ƒåº¦ï¼Œ å¹¶ä¿®æ”¹ StartRead æ–¹æ³•</p><p>ä½¿ç”¨ Zinx V0.6 ç‰ˆæœ¬å¼€å‘</p></blockquote><h2 id="V0-7-è¯»å†™åç¨‹åˆ†ç¦»-å°ä¿®æ”¹ï¼Œæ–°å¢ä¸€ä¸ª-goroutine-å³å¯"><a href="#V0-7-è¯»å†™åç¨‹åˆ†ç¦»-å°ä¿®æ”¹ï¼Œæ–°å¢ä¸€ä¸ª-goroutine-å³å¯" class="headerlink" title="V0.7 è¯»å†™åç¨‹åˆ†ç¦»(å°ä¿®æ”¹ï¼Œæ–°å¢ä¸€ä¸ª goroutine å³å¯)"></a>V0.7 è¯»å†™åç¨‹åˆ†ç¦»(å°ä¿®æ”¹ï¼Œæ–°å¢ä¸€ä¸ª goroutine å³å¯)</h2><blockquote><p>1ã€æ·»åŠ ä¸€ä¸ª Reader å’Œ Writer ä¹‹é—´é€šä¿¡çš„ channel</p><p>2ã€æ·»åŠ ä¸€ä¸ª Writer Goroutine</p><p>3ã€Reader ç”±ä¹‹å‰å‘é€ç»™å®¢æˆ·ç«¯ æ”¹æˆ å‘é€ç»™ é€šä¿¡ Channel</p><p>4ã€å¯åŠ¨ Reader å’Œ Writer ä¸€åŒå·¥ä½œ</p></blockquote><h2 id="V0-8-æ¶ˆæ¯é˜Ÿåˆ—ä»¥åŠå¤šä»»åŠ¡"><a href="#V0-8-æ¶ˆæ¯é˜Ÿåˆ—ä»¥åŠå¤šä»»åŠ¡" class="headerlink" title="V0.8 æ¶ˆæ¯é˜Ÿåˆ—ä»¥åŠå¤šä»»åŠ¡"></a>V0.8 æ¶ˆæ¯é˜Ÿåˆ—ä»¥åŠå¤šä»»åŠ¡</h2><blockquote><p>æ¶ˆæ¯é˜Ÿåˆ—ä»¥åŠ Worker å·¥ä½œæ± çš„å®ç°</p><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ— --- MsgHandler æ¶ˆæ¯ç®¡ç†æ¨¡å—  æ¶ˆæ¯é˜Ÿåˆ— TaskQueue []chan ziface.IRequest  å·¥ä½œæ± çš„æ•°é‡ WorkPoolSize uint32åˆ›å»ºå¤šä»»åŠ¡workå·¥ä½œæ± ï¼Œå¹¶ä¸”å¯åŠ¨â€‹  åˆ›å»ºä¸€ä¸ª worker å·¥ä½œæ±  :func (mh *MsgHandle) StartWorkerPool() â€‹  æ ¹æ® WorkPoolSize çš„æ•°é‡å»åˆ›å»º Worker   æ¯ä¸ª worker éƒ½åº”è¯¥ç”¨ä¸€ä¸ª Go å»æ‰¿è½½â€‹  1ã€é˜»å¡ç­‰å¾…å½“å‰ worker çš„å¯¹åº”çš„ channel çš„æ¶ˆæ¯â€‹  2ã€ä¸€æ—¦æœ‰æ¶ˆæ¯åˆ°æ¥ï¼Œ worker åº”è¯¥å¤„ç†å½“å‰æ¶ˆæ¯å¯¹åº”çš„ä¸šåŠ¡â€‹  3ã€å°†ä¹‹å‰çš„å‘é€æ¶ˆæ¯ï¼Œå…¨éƒ¨æ”¹æˆå°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—å’Œ worker å·¥ä½œæ± å¤„ç†å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—å·¥ä½œæ± çš„æ–¹æ³•   func (mh *MsgHandle) SendMsgToTaskQueue(request ziface.IRequest)å°†æ¶ˆæ¯é˜Ÿåˆ—æœºåˆ¶é›†æˆåˆ° Zinx æ¡†æ¶ä¸­: 1ã€å¼€å¯å¹¶è°ƒç”¨æ¶ˆæ¯é˜Ÿåˆ—åŠ worker å·¥ä½œæ± , ä¿è¯ workerPool åªæœ‰ä¸€ä¸ªï¼Œåº”è¯¥åœ¨åˆ›å»º Serveræ¨¡å—æ—¶å€™å¼€å¯(åœ¨Server listen ä¹‹å‰æ·»åŠ )2ã€å°†ä»å®¢æˆ·ç«¯å¤„ç†çš„æ¶ˆæ¯ï¼Œå‘é€ç»™å½“å‰çš„Worker å·¥ä½œæ± æ¥å¤„ç†ï¼Œåœ¨å¤„ç†å®Œæ‹†åŒ…ï¼Œå¾—åˆ°äº† request è¯·æ±‚ï¼Œäº¤ç»™å·¥ä½œæ± æ¥å¤„ç†ä½¿ç”¨ Zinx V0.8 ç‰ˆæœ¬å¼€å‘</code></pre></div></figure></blockquote><p>å°å‹é¡¹ç›®ï¼Œå…·ä½“ä»¥æŠ€æœ¯æ–¹æ¡ˆè·Ÿæ€è€ƒä¸ºä¸»ï¼Œè€Œä¸éœ€æ±‚ã€äº§å“ã€æµ‹è¯•ã€è¿ç»´çš„æ²Ÿé€šå¯ä»¥è®©æ­¥äºé¡¹ç›®çš„ä¸Šçº¿</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>zinx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Goè¯­è¨€å®ç°çš„è½»é‡çº§IMé¡¹ç›®</title>
    <link href="/2022/01/04/go/go-im/"/>
    <url>/2022/01/04/go/go-im/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨-go-å®ç°çš„å¾®å‹æœåŠ¡å™¨"><a href="#ä½¿ç”¨-go-å®ç°çš„å¾®å‹æœåŠ¡å™¨" class="headerlink" title="ä½¿ç”¨ go å®ç°çš„å¾®å‹æœåŠ¡å™¨"></a>ä½¿ç”¨ go å®ç°çš„å¾®å‹æœåŠ¡å™¨</h2><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/chaggle/go-im">https://github.com/chaggle/go-im</a></p><h3 id="V0-1-å»ºç«‹åŸºç¡€çš„-main-go-server-goï¼Œç›¸åº”åŠŸèƒ½å¦‚ä¸‹"><a href="#V0-1-å»ºç«‹åŸºç¡€çš„-main-go-server-goï¼Œç›¸åº”åŠŸèƒ½å¦‚ä¸‹" class="headerlink" title="V0.1 :å»ºç«‹åŸºç¡€çš„ main.go server.goï¼Œç›¸åº”åŠŸèƒ½å¦‚ä¸‹"></a>V0.1 :å»ºç«‹åŸºç¡€çš„ main.go server.goï¼Œç›¸åº”åŠŸèƒ½å¦‚ä¸‹</h3><blockquote><p>main åŠŸèƒ½ä¸»è¦ä¸ºåˆ›å»ºæœåŠ¡å™¨ä»¥åŠå¯åŠ¨æœåŠ¡å™¨</p><p>server åŠŸèƒ½æœ‰ï¼š</p><p>1ã€åˆ›å»º server å¯¹è±¡</p><p>2ã€å¯åŠ¨ Server æœåŠ¡(TCP socket å¥—æ¥å­—)</p><p>3ã€å¤„ç†é“¾æ¥çš„ä¸šåŠ¡</p></blockquote><h3 id="V0-2-ç”¨æˆ·ä¸Šçº¿åŠŸèƒ½"><a href="#V0-2-ç”¨æˆ·ä¸Šçº¿åŠŸèƒ½" class="headerlink" title="V0.2 :ç”¨æˆ·ä¸Šçº¿åŠŸèƒ½"></a>V0.2 :ç”¨æˆ·ä¸Šçº¿åŠŸèƒ½</h3><blockquote><p>user åŠŸèƒ½æ–°å¢</p><p>1ã€åˆ›å»º user å¯¹è±¡</p><p>2ã€ç›‘å¬æ¯ä¸ª user å¯¹åº”çš„ channel çš„æ¶ˆæ¯</p><p>server æ–°å¢åŠŸèƒ½</p><p>1ã€æ–°å¢ OnlineMap ä¸ Message å±æ€§</p><p>2ã€åœ¨å¤„ç†å®¢æˆ·ç«¯ä¸Šçº¿çš„ Handler åˆ›å»ºå¹¶æ·»åŠ ç”¨æˆ·ï¼ˆä½¿ç”¨åˆ° OS ä¸­çš„åŒæ­¥ Lock ï¼‰</p><p>3ã€æ–°å¢å¹¿æ’­æ¶ˆæ¯æ–¹æ³•ä»¥åŠç›‘å¬å¹¿æ’­æ¶ˆæ¯çš„ channel æ–¹æ³•</p></blockquote><h3 id="V0-3-ç”¨æˆ·æ¶ˆæ¯å¹¿æ’­æœºåˆ¶å®Œå–„"><a href="#V0-3-ç”¨æˆ·æ¶ˆæ¯å¹¿æ’­æœºåˆ¶å®Œå–„" class="headerlink" title="V0.3 :ç”¨æˆ·æ¶ˆæ¯å¹¿æ’­æœºåˆ¶å®Œå–„"></a>V0.3 :ç”¨æˆ·æ¶ˆæ¯å¹¿æ’­æœºåˆ¶å®Œå–„</h3><blockquote><p>server æ–°å¢åŠŸèƒ½</p><p>1ã€å®Œå–„ handle æ¨¡å—å¤„å¤„ç†ä¸šåŠ¡çš„æ–¹æ³•ï¼Œå¯åŠ¨ä¸€ä¸ªé’ˆå¯¹ä¸å½“å‰å®¢æˆ·ç«¯çš„è¯» goroutine</p></blockquote><h3 id="V0-4-ç”¨æˆ·ä¸šåŠ¡å±‚å°è£…"><a href="#V0-4-ç”¨æˆ·ä¸šåŠ¡å±‚å°è£…" class="headerlink" title="V0.4 :ç”¨æˆ·ä¸šåŠ¡å±‚å°è£…"></a>V0.4 :ç”¨æˆ·ä¸šåŠ¡å±‚å°è£…</h3><blockquote><p>å¯¹äºç”¨æˆ·å±‚ä¸šåŠ¡çš„å±‚æ¬¡åŒ–ã€æ¨¡å—åŒ–</p><p>server ä¸­çš„ user ä¸šåŠ¡è¿›è¡Œè¿ç§»</p><p>1ã€server å…³è”</p><p>2ã€æ–°å¢ Onlineã€Offlineã€Domessage æ–¹æ³•</p></blockquote><h3 id="V0-5-æŸ¥è¯¢ç”¨æˆ·åä»¥åŠç”¨æˆ·åä¿®æ”¹"><a href="#V0-5-æŸ¥è¯¢ç”¨æˆ·åä»¥åŠç”¨æˆ·åä¿®æ”¹" class="headerlink" title="V0.5 :æŸ¥è¯¢ç”¨æˆ·åä»¥åŠç”¨æˆ·åä¿®æ”¹"></a>V0.5 :æŸ¥è¯¢ç”¨æˆ·åä»¥åŠç”¨æˆ·åä¿®æ”¹</h3><blockquote><p>user æ–°å¢ä¸¤ä¸ªåŠŸèƒ½ï¼Œ</p><p>1ã€ç”¨æˆ·åæŸ¥è¯¢çš„åŠŸèƒ½</p><p>2ã€ç”¨æˆ·åä¿®æ”¹çš„åŠŸèƒ½ï¼Œä¿è¯æ¯ä¸ªç”¨æˆ·åå”¯ä¸€</p></blockquote><h3 id="V0-6-è¶…æ—¶å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç§èŠåŠŸèƒ½"><a href="#V0-6-è¶…æ—¶å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç§èŠåŠŸèƒ½" class="headerlink" title="V0.6 :è¶…æ—¶å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç§èŠåŠŸèƒ½"></a>V0.6 :è¶…æ—¶å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç§èŠåŠŸèƒ½</h3><blockquote><p>user æ–°å¢ä¸¤ä¸ªåŠŸèƒ½ï¼Œ</p><p>1ã€è®¾ç½®å®šæ—¶å™¨ï¼Œè¶…æ—¶å¼ºåˆ¶å‰”é™¤ï¼Œå‘æ¶ˆæ¯ä»£è¡¨æ´»è·ƒï¼Œé•¿æ—¶é—´ä¸å‘æ¶ˆæ¯ä»£è¡¨è¶…æ—¶ï¼Œå³å¼ºåˆ¶å…³é—­ç”¨æˆ·è¿æ¥</p><p>2ã€ç§èŠåŠŸèƒ½ï¼Œé€šè¿‡è·å–ç”¨æˆ·åé˜Ÿåˆ—ä¸­çš„ç”¨æˆ·åï¼Œæ¥å‘ç”¨æˆ·å‘èµ·ç§èŠ</p></blockquote><h3 id="V1-0-ã€v1-1-å®¢æˆ·ç«¯åŸºæœ¬åŠŸèƒ½"><a href="#V1-0-ã€v1-1-å®¢æˆ·ç«¯åŸºæœ¬åŠŸèƒ½" class="headerlink" title="V1.0 ã€v1.1 :å®¢æˆ·ç«¯åŸºæœ¬åŠŸèƒ½"></a>V1.0 ã€v1.1 :å®¢æˆ·ç«¯åŸºæœ¬åŠŸèƒ½</h3><blockquote><p>æ–°å¢ client å®¢æˆ·ç«¯ï¼Œå½“ç„¶å¹¶é GUI ç•Œé¢ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¸¦ GUI ç•Œé¢ç‰ˆæœ¬ï¼Œæ»¡è¶³é€šä¿¡åè®®å³å¯</p><p>1ã€è¿æ¥å»ºç«‹åŠŸèƒ½ã€å‘½ä»¤è¡Œè§£æåŠŸèƒ½</p><p>2ã€å®¢æˆ·ç«¯èœå•åŠŸèƒ½çš„é¢„å†™</p></blockquote><h3 id="V1-2-å®¢æˆ·ç«¯çš„ç›¸åº”åŸºæœ¬è¯·æ±‚"><a href="#V1-2-å®¢æˆ·ç«¯çš„ç›¸åº”åŸºæœ¬è¯·æ±‚" class="headerlink" title="V1.2 :å®¢æˆ·ç«¯çš„ç›¸åº”åŸºæœ¬è¯·æ±‚"></a>V1.2 :å®¢æˆ·ç«¯çš„ç›¸åº”åŸºæœ¬è¯·æ±‚</h3><blockquote><p>client æ–°å¢</p><p>1ã€ç”¨æˆ·åä¿®æ”¹è¯·æ±‚ï¼Œé€šè¿‡ io.copy() é˜»å¡ç›‘å¬çš„æ–¹å¼è¿›è¡Œå›æ˜¾è¾“å‡º</p><p>2ã€ç”¨æˆ·è¿›å…¥å…¬èŠæ¨¡å¼ï¼Œè¿›è¡Œæ¶ˆæ¯çš„å¹¿æ’­ä¸é€€å‡ºå…¬èŠæ¨¡å¼</p><p>3ã€ç”¨æˆ·è¿›è¡Œç§èŠæ¨¡å¼ï¼Œé€‰æ‹©ç”¨æˆ·åŠŸèƒ½å°è£…ä»¥åŠå•ç‹¬å¯¹å…¶å‘é€æ¶ˆæ¯</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Instant Messaging</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 91 1206. è®¾è®¡è·³è¡¨</title>
    <link href="/2021/12/09/Leetcode/91-day/day-91/"/>
    <url>/2021/12/09/Leetcode/91-day/day-91/</url>
    
    <content type="html"><![CDATA[<h1 id="1206-è®¾è®¡è·³è¡¨"><a href="#1206-è®¾è®¡è·³è¡¨" class="headerlink" title="1206. è®¾è®¡è·³è¡¨"></a><strong><a href="https://leetcode-cn.com/problems/design-skiplist/">1206. è®¾è®¡è·³è¡¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä¸ä½¿ç”¨ä»»ä½•åº“å‡½æ•°ï¼Œè®¾è®¡ä¸€ä¸ªè·³è¡¨ã€‚è·³è¡¨æ˜¯åœ¨ <span class="token function">O</span><span class="token punctuation">(</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> æ—¶é—´å†…å®Œæˆå¢åŠ ã€åˆ é™¤ã€æœç´¢æ“ä½œçš„æ•°æ®ç»“æ„ã€‚è·³è¡¨ç›¸æ¯”äºæ ‘å †ä¸çº¢é»‘æ ‘ï¼Œå…¶åŠŸèƒ½ä¸æ€§èƒ½ç›¸å½“ï¼Œå¹¶ä¸”è·³è¡¨çš„ä»£ç é•¿åº¦ç›¸è¾ƒä¸‹æ›´çŸ­ï¼Œå…¶è®¾è®¡æ€æƒ³ä¸é“¾è¡¨ç›¸ä¼¼ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè·³è¡¨åŒ…å« <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span>ï¼Œç„¶åå¢åŠ  <span class="token number">80</span>ã€<span class="token number">45</span> åˆ°è·³è¡¨ä¸­ï¼Œä»¥ä¸‹å›¾çš„æ–¹å¼æ“ä½œï¼šè·³è¡¨ä¸­æœ‰å¾ˆå¤šå±‚ï¼Œæ¯ä¸€å±‚æ˜¯ä¸€ä¸ªçŸ­çš„é“¾è¡¨ã€‚åœ¨ç¬¬ä¸€å±‚çš„ä½œç”¨ä¸‹ï¼Œå¢åŠ ã€åˆ é™¤å’Œæœç´¢æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸è¶…è¿‡ <span class="token function">O</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>ã€‚è·³è¡¨çš„æ¯ä¸€ä¸ªæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="token function">O</span><span class="token punctuation">(</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ <span class="token function">O</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>ã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œä½ çš„è®¾è®¡åº”è¯¥è¦åŒ…å«è¿™äº›å‡½æ•°ï¼š<span class="token keyword">bool</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token operator">:</span> è¿”å›targetæ˜¯å¦å­˜åœ¨äºè·³è¡¨ä¸­ã€‚<span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token operator">:</span> æ’å…¥ä¸€ä¸ªå…ƒç´ åˆ°è·³è¡¨ã€‚<span class="token keyword">bool</span> <span class="token function">erase</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token operator">:</span> åœ¨è·³è¡¨ä¸­åˆ é™¤ä¸€ä¸ªå€¼ï¼Œå¦‚æœ num ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å› <span class="token boolean">false</span><span class="token punctuation">.</span>å¦‚æœå­˜åœ¨å¤šä¸ª num ï¼Œåˆ é™¤å…¶ä¸­ä»»æ„ä¸€ä¸ªå³å¯ã€‚äº†è§£æ›´å¤š <span class="token operator">:</span> https<span class="token operator">:</span><span class="token comment">//en.wikipedia.org/wiki/Skip_list</span>æ³¨æ„ï¼Œè·³è¡¨ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªç›¸åŒçš„å€¼ï¼Œä½ çš„ä»£ç éœ€è¦å¤„ç†è¿™ç§æƒ…å†µã€‚æ ·ä¾‹<span class="token operator">:</span>Skiplist skiplist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Skiplist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>skiplist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>skiplist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>skiplist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>skiplist<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// è¿”å› false</span>skiplist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>skiplist<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// è¿”å› true</span>skiplist<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› falseï¼Œ0 ä¸åœ¨è·³è¡¨ä¸­</span>skiplist<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› true</span>skiplist<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// è¿”å› falseï¼Œ1 å·²è¢«æ“¦é™¤</span>çº¦æŸæ¡ä»¶<span class="token operator">:</span><span class="token number">0</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">,</span> target <span class="token operator">&lt;=</span> <span class="token number">20000</span>æœ€å¤šè°ƒç”¨ <span class="token number">50000</span> æ¬¡ search<span class="token punctuation">,</span> add<span class="token punctuation">,</span> ä»¥åŠ eraseæ“ä½œã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ²¡å•¥æ—¶é—´é‡æ–°å†™ä¸€ä¸ªvectorï¼Œç°åœ¨å·ç‚¹æ‡’ç”¨ä¸€ä¸‹vectorçš„åº“å‡½æ•°ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> key<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span> nexts<span class="token punctuation">;</span>    <span class="token function">Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> level<span class="token punctuation">,</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">nexts</span><span class="token punctuation">(</span>level <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">key</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Skiplist</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    Node<span class="token operator">*</span> head<span class="token punctuation">;</span>    <span class="token keyword">int</span> allLevel <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Skiplist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">bool</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Node<span class="token operator">*</span> cur <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> curLevel <span class="token operator">=</span> allLevel<span class="token punctuation">;</span> curLevel <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> curLevel<span class="token operator">--</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                cur <span class="token operator">=</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> key <span class="token operator">==</span> key<span class="token punctuation">)</span>                 <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> newLevel <span class="token operator">=</span> <span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allLevel <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>allLevel<span class="token punctuation">,</span> newLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>        Node<span class="token operator">*</span> cur <span class="token operator">=</span> head<span class="token punctuation">;</span>        Node<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>newLevel<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> curLevel <span class="token operator">=</span> allLevel<span class="token punctuation">;</span> curLevel <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> curLevel<span class="token operator">--</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                cur <span class="token operator">=</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>curLevel <span class="token operator">&lt;=</span> newLevel<span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                newNode <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">=</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span><span class="token punctuation">;</span>                cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">=</span> newNode<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">bool</span> <span class="token function">erase</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Node<span class="token operator">*</span> cur <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">bool</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> curLevel <span class="token operator">=</span> allLevel<span class="token punctuation">;</span> curLevel <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> curLevel<span class="token operator">--</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> key <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                cur <span class="token operator">=</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> key <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                Node<span class="token operator">*</span> tmp <span class="token operator">=</span> cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span><span class="token punctuation">;</span>                cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>                cur <span class="token operator">-></span> nexts<span class="token punctuation">[</span>curLevel<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>ans <span class="token operator">&lt;</span> <span class="token number">32</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> RAND_MAX <span class="token operator">*</span> <span class="token number">0.25</span><span class="token punctuation">)</span> ans<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/** * Your Skiplist object will be instantiated and called as such: * Skiplist* obj = new Skiplist(); * bool param_1 = obj->search(target); * obj->add(num); * bool param_3 = obj->erase(num); */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n ^ 2)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Skip List</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 90 1054. è·ç¦»ç›¸ç­‰çš„æ¡å½¢ç </title>
    <link href="/2021/12/08/Leetcode/91-day/day-90/"/>
    <url>/2021/12/08/Leetcode/91-day/day-90/</url>
    
    <content type="html"><![CDATA[<h1 id="1054-è·ç¦»ç›¸ç­‰çš„æ¡å½¢ç "><a href="#1054-è·ç¦»ç›¸ç­‰çš„æ¡å½¢ç " class="headerlink" title="1054. è·ç¦»ç›¸ç­‰çš„æ¡å½¢ç "></a><strong><a href="https://leetcode-cn.com/problems/distant-barcodes/">1054. è·ç¦»ç›¸ç­‰çš„æ¡å½¢ç </a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åœ¨ä¸€ä¸ªä»“åº“é‡Œï¼Œæœ‰ä¸€æ’æ¡å½¢ç ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ¡å½¢ç ä¸º barcodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span>ã€‚è¯·ä½ é‡æ–°æ’åˆ—è¿™äº›æ¡å½¢ç ï¼Œä½¿å…¶ä¸­ä¸¤ä¸ªç›¸é‚»çš„æ¡å½¢ç  ä¸èƒ½ç›¸ç­‰ã€‚ ä½ å¯ä»¥è¿”å›ä»»ä½•æ»¡è¶³è¯¥è¦æ±‚çš„ç­”æ¡ˆï¼Œæ­¤é¢˜ä¿è¯å­˜åœ¨ç­”æ¡ˆã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> barcodes<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> barcodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ¯æ¬¡å–æœ€å¤§å †ä¸­çš„ä¸¤ä¸ªå¯¹å­ï¼Œç„¶åè¿›è¡Œé—´éš”æ’å…¥å³å¯.</li><li>2ã€æœ€åä¸¤æ—¥äº†ï¼Œæ˜å¤©æ‰“å¡ 91 æ—¥åï¼Œè¦è€ƒè¯•äº†ï¼Œæ‰€ä»¥åœæ­¢æ›´æ–°ã€‚ç›´åˆ° 12 æœˆ 30 æ—¥å¼€å§‹ï¼Œé‡å¤´å¤ç›˜ 91 æ—¥ï¼Œæ¯æ—¥å¤ç›˜ 4 é¢˜å·¦å³ï¼Œé¡ºä¾¿å¼€å§‹é˜…è¯»ç›¸åº”çš„è®ºæ–‡ï¼Œå¹¶å±•å¼€ç ”ç©¶å‹çš„å·¥ä½œã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">rearrangeBarcodes</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> barcodes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> barcodes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> up<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> barcodes<span class="token punctuation">)</span> up<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> fx<span class="token punctuation">]</span> <span class="token operator">:</span> up<span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> fx<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> a<span class="token punctuation">.</span>second <span class="token operator">></span> b<span class="token punctuation">.</span>second<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">res</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> fx<span class="token punctuation">]</span> <span class="token operator">:</span> ans<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fx<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">>=</span> n<span class="token punctuation">)</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                res<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>                m <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Search</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 89 378. æœ‰åºçŸ©é˜µä¸­ç¬¬ K å°çš„å…ƒç´ </title>
    <link href="/2021/12/07/Leetcode/91-day/day-89/"/>
    <url>/2021/12/07/Leetcode/91-day/day-89/</url>
    
    <content type="html"><![CDATA[<h1 id="378-æœ‰åºçŸ©é˜µä¸­ç¬¬-K-å°çš„å…ƒç´ "><a href="#378-æœ‰åºçŸ©é˜µä¸­ç¬¬-K-å°çš„å…ƒç´ " class="headerlink" title="378. æœ‰åºçŸ©é˜µä¸­ç¬¬ K å°çš„å…ƒç´ "></a><strong><a href="https://leetcode-cn.com/problems/kth-smallest-element-in-a-sorted-matrix/">378. æœ‰åºçŸ©é˜µä¸­ç¬¬ K å°çš„å…ƒç´ </a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ª n x n çŸ©é˜µ matrix ï¼Œå…¶ä¸­æ¯è¡Œå’Œæ¯åˆ—å…ƒç´ å‡æŒ‰å‡åºæ’åºï¼Œæ‰¾åˆ°çŸ©é˜µä¸­ç¬¬ k å°çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œå®ƒæ˜¯ æ’åºå çš„ç¬¬ k å°å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ª ä¸åŒ çš„å…ƒç´ ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">8</span>è¾“å‡ºï¼š<span class="token number">13</span>è§£é‡Šï¼šçŸ©é˜µä¸­çš„å…ƒç´ ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">]</span>ï¼Œç¬¬ <span class="token number">8</span> å°å…ƒç´ æ˜¯ <span class="token number">13</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">5</span> æç¤ºï¼šn <span class="token operator">==</span> matrix<span class="token punctuation">.</span>lengthn <span class="token operator">==</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token operator">-</span><span class="token number">109</span> <span class="token operator">&lt;=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">109</span>é¢˜ç›®æ•°æ® ä¿è¯ matrix ä¸­çš„æ‰€æœ‰è¡Œå’Œåˆ—éƒ½æŒ‰ éé€’å‡é¡ºåº æ’åˆ—<span class="token number">1</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> n<span class="token operator">^</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€é¢˜ç›®ä¸­æœ€åˆé€‚çš„åŠæ³•ç†åº”æ˜¯äºŒåˆ†çš„æ€æƒ³ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">check</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> matrix<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                num <span class="token operator">+=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> i<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> num <span class="token operator">>=</span> k<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">kthSmallest</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> matrix<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> matrix<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> matrix<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> k<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token keyword">else</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> l<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 88 451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº</title>
    <link href="/2021/12/06/Leetcode/91-day/day-88/"/>
    <url>/2021/12/06/Leetcode/91-day/day-88/</url>
    
    <content type="html"><![CDATA[<h1 id="451-æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº"><a href="#451-æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº" class="headerlink" title="451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº"></a><strong><a href="https://leetcode-cn.com/problems/sort-characters-by-frequency/">451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·å°†å­—ç¬¦ä¸²é‡Œçš„å­—ç¬¦æŒ‰ç…§å‡ºç°çš„é¢‘ç‡é™åºæ’åˆ—ã€‚ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span><span class="token string">"tree"</span>è¾“å‡º<span class="token operator">:</span><span class="token string">"eert"</span>è§£é‡Š<span class="token operator">:</span><span class="token char">'e'</span>å‡ºç°ä¸¤æ¬¡ï¼Œ<span class="token char">'r'</span>å’Œ<span class="token char">'t'</span>éƒ½åªå‡ºç°ä¸€æ¬¡ã€‚å› æ­¤<span class="token char">'e'</span>å¿…é¡»å‡ºç°åœ¨<span class="token char">'r'</span>å’Œ<span class="token char">'t'</span>ä¹‹å‰ã€‚æ­¤å¤–ï¼Œ<span class="token string">"eetr"</span>ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç­”æ¡ˆã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span><span class="token string">"cccaaa"</span>è¾“å‡º<span class="token operator">:</span><span class="token string">"cccaaa"</span>è§£é‡Š<span class="token operator">:</span><span class="token char">'c'</span>å’Œ<span class="token char">'a'</span>éƒ½å‡ºç°ä¸‰æ¬¡ã€‚æ­¤å¤–ï¼Œ<span class="token string">"aaaccc"</span>ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç­”æ¡ˆã€‚æ³¨æ„<span class="token string">"cacaca"</span>æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºç›¸åŒçš„å­—æ¯å¿…é¡»æ”¾åœ¨ä¸€èµ·ã€‚ç¤ºä¾‹ <span class="token number">3</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span><span class="token string">"Aabb"</span>è¾“å‡º<span class="token operator">:</span><span class="token string">"bbAa"</span>è§£é‡Š<span class="token operator">:</span>æ­¤å¤–ï¼Œ<span class="token string">"bbaA"</span>ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç­”æ¡ˆï¼Œä½†<span class="token string">"Aabb"</span>æ˜¯ä¸æ­£ç¡®çš„ã€‚æ³¨æ„<span class="token char">'A'</span>å’Œ<span class="token char">'a'</span>è¢«è®¤ä¸ºæ˜¯ä¸¤ç§ä¸åŒçš„å­—ç¬¦ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å¦‚é¢˜ç›®æ‰€è¯´ï¼Œæ‰‹å†™ä¸€ä¸ª cmp å‡½æ•°ç„¶åæŒ‰ç…§å…¶ä¸­æ’åºï¼Œè¿”å›å…¶å€¼å³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    string <span class="token function">frequencySort</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        unordered_map<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> up<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">:</span> s<span class="token punctuation">)</span> up<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> up<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">==</span> up<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">?</span> a <span class="token operator">></span> b <span class="token operator">:</span> up<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">></span> up<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> s<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 87 23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</title>
    <link href="/2021/12/05/Leetcode/91-day/day-87/"/>
    <url>/2021/12/05/Leetcode/91-day/day-87/</url>
    
    <content type="html"><![CDATA[<h1 id="23-åˆå¹¶-K-ä¸ªå‡åºé“¾è¡¨"><a href="#23-åˆå¹¶-K-ä¸ªå‡åºé“¾è¡¨" class="headerlink" title="23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨"></a><strong><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š<span class="token punctuation">[</span>  <span class="token number">1</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token operator">-></span><span class="token number">6</span><span class="token punctuation">]</span>å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚<span class="token number">1</span><span class="token operator">-></span><span class="token number">1</span><span class="token operator">-></span><span class="token number">2</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">5</span><span class="token operator">-></span><span class="token number">6</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span> æç¤ºï¼šk <span class="token operator">==</span> lists<span class="token punctuation">.</span>length<span class="token number">0</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span><span class="token number">0</span> <span class="token operator">&lt;=</span> lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">500</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span> <span class="token operator">&lt;=</span> lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span>lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span> æŒ‰ å‡åº æ’åˆ—lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length çš„æ€»å’Œä¸è¶…è¿‡ <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜ç›® day69 æ—¥æœ‰ä½¿ç”¨åˆ†æ²»çš„æ€æƒ³åšé¢˜ï¼Œä»Šæ—¥ä½¿ç”¨å¤§é¡¶å †è§£å†³é—®é¢˜ã€‚ï¼ˆéæ‰‹å†™å †ï¼Œè¿™ä¸¤æ—¥æ—¶é—´èŠ±è´¹æœ‰äº›å¤šï¼Œæ•…ä»Šæ—¥ä¸å†™ï¼‰</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; */</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    ListNode<span class="token operator">*</span> <span class="token function">mergeKLists</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>ListNode<span class="token operator">*</span><span class="token operator">></span><span class="token operator">&amp;</span> lists<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">auto</span> min <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>ListNode <span class="token operator">*</span>a<span class="token punctuation">,</span> ListNode <span class="token operator">*</span>b<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> a <span class="token operator">-></span> val <span class="token operator">></span> b <span class="token operator">-></span> val<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        priority_queue<span class="token operator">&lt;</span>ListNode<span class="token operator">*</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>ListNode<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token operator">></span> <span class="token function">ans</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> p<span class="token operator">:</span>  lists<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        ListNode <span class="token operator">*</span>cur <span class="token operator">=</span> root<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>ans<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            ListNode <span class="token operator">*</span>tmp <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ans<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>tmp <span class="token operator">-></span> next <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tmp<span class="token operator">-></span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>            tmp <span class="token operator">-></span> next <span class="token operator">=</span> cur <span class="token operator">-></span> next<span class="token punctuation">;</span>            cur <span class="token operator">-></span> next <span class="token operator">=</span> tmp<span class="token punctuation">;</span>            cur <span class="token operator">=</span> cur <span class="token operator">-></span> next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> root <span class="token operator">-></span> next<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>heap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 86 1046. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡</title>
    <link href="/2021/12/04/Leetcode/91-day/day-86/"/>
    <url>/2021/12/04/Leetcode/91-day/day-86/</url>
    
    <content type="html"><![CDATA[<h1 id="1046-æœ€åä¸€å—çŸ³å¤´çš„é‡é‡"><a href="#1046-æœ€åä¸€å—çŸ³å¤´çš„é‡é‡" class="headerlink" title="1046. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡"></a><strong><a href="https://leetcode-cn.com/problems/last-stone-weight/">1046. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æœ‰ä¸€å †çŸ³å¤´ï¼Œæ¯å—çŸ³å¤´çš„é‡é‡éƒ½æ˜¯æ­£æ•´æ•°ã€‚æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡ºä¸¤å— æœ€é‡çš„ çŸ³å¤´ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸º x å’Œ yï¼Œä¸” x <span class="token operator">&lt;=</span> yã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼šå¦‚æœ x <span class="token operator">==</span> yï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼›å¦‚æœ x <span class="token operator">!=</span> yï¼Œé‚£ä¹ˆé‡é‡ä¸º x çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸º y çš„çŸ³å¤´æ–°é‡é‡ä¸º y<span class="token operator">-</span>xã€‚æœ€åï¼Œæœ€å¤šåªä¼šå‰©ä¸‹ä¸€å—çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´çš„é‡é‡ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› <span class="token number">0</span>ã€‚ ç¤ºä¾‹ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1</span>è§£é‡Šï¼šå…ˆé€‰å‡º <span class="token number">7</span> å’Œ <span class="token number">8</span>ï¼Œå¾—åˆ° <span class="token number">1</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸º <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œå†é€‰å‡º <span class="token number">2</span> å’Œ <span class="token number">4</span>ï¼Œå¾—åˆ° <span class="token number">2</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸º <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œæ¥ç€æ˜¯ <span class="token number">2</span> å’Œ <span class="token number">1</span>ï¼Œå¾—åˆ° <span class="token number">1</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œæœ€åé€‰å‡º <span class="token number">1</span> å’Œ <span class="token number">1</span>ï¼Œå¾—åˆ° <span class="token number">0</span>ï¼Œæœ€ç»ˆæ•°ç»„è½¬æ¢ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œè¿™å°±æ˜¯æœ€åå‰©ä¸‹é‚£å—çŸ³å¤´çš„é‡é‡ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> stones<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token number">1</span> <span class="token operator">&lt;=</span> stones<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">1000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä»Šæ—¥ä»ä¸ºæœ€å¤§å †çš„ä½¿ç”¨åŠæ³•ï¼Œæ‹’ç»ä½¿ç”¨åº“å‡½æ•°è‡ªå·±å†™ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">buildmaxheap</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> stones<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> stones<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> stones<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> stones<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">>=</span> stones<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>             <span class="token punctuation">&#123;</span>                stones<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stones<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                i <span class="token operator">=</span> j<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        stones<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">lastStoneWeight</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> stones<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> max1<span class="token punctuation">,</span> max2<span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> stones<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token function">buildmaxheap</span><span class="token punctuation">(</span>stones<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            max1 <span class="token operator">=</span> stones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            stones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> stones<span class="token punctuation">[</span><span class="token operator">--</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token function">buildmaxheap</span><span class="token punctuation">(</span>stones<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>            max2 <span class="token operator">=</span> stones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>max1 <span class="token operator">==</span> max2<span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">else</span> stones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> stones<span class="token punctuation">[</span><span class="token operator">--</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span> stones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>max1 <span class="token operator">-</span> max2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">buildmaxheap</span><span class="token punctuation">(</span>stones<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> stones<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) </li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>heap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 85 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </title>
    <link href="/2021/12/03/Leetcode/91-day/day-85/"/>
    <url>/2021/12/03/Leetcode/91-day/day-85/</url>
    
    <content type="html"><![CDATA[<h1 id="215-æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "><a href="#215-æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ " class="headerlink" title="215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "></a><strong><a href="https://leetcode-cn.com/problems/kth-largest-element-in-an-array/">215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šæ•´æ•°æ•°ç»„ nums å’Œæ•´æ•° kï¼Œè¯·è¿”å›æ•°ç»„ä¸­ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> å’Œ k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">5</span>ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> å’Œ k <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">4</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">104</span><span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä»Šæ—¥é¢˜ç›®æ˜¯å¾ˆå¥½çš„é¢˜ç›®ï¼Œä¸€ä¸ªå¤ä¹ å¿«æ’çš„æ€æƒ³ï¼Œä¸€ä¸ªå¤ä¹ å¦‚ä½•å»ºç«‹å †ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">heap_sort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span>ans<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> max <span class="token operator">=</span> i<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> ans<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">></span> ans<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">)</span> max <span class="token operator">=</span> l<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> ans<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">></span> ans<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">)</span> max <span class="token operator">=</span> r<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>max <span class="token operator">!=</span> i<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">heap_sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> max<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">buildHeap</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> ans<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token function">heap_sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">findKthLargest</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">buildHeap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">--</span>n<span class="token punctuation">;</span>            <span class="token function">heap_sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) </li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(logn)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>heap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 83-84 28. å®ç° strStr()</title>
    <link href="/2021/12/02/Leetcode/91-day/day-84/"/>
    <url>/2021/12/02/Leetcode/91-day/day-84/</url>
    
    <content type="html"><![CDATA[<h1 id="28-å®ç°-strStr"><a href="#28-å®ç°-strStr" class="headerlink" title="28. å®ç° strStr()"></a><strong><a href="https://leetcode-cn.com/problems/implement-strstr/">28. å®ç° strStr()</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å®ç° <span class="token function">strStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å‡½æ•°ã€‚ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² haystack å’Œ needle åœ¨ haystack å­—ç¬¦ä¸²ä¸­æ‰¾å‡º needle å­—ç¬¦ä¸²å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆä¸‹æ ‡ä» <span class="token number">0</span> å¼€å§‹ï¼‰ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›  <span class="token operator">-</span><span class="token number">1</span> ã€‚ è¯´æ˜ï¼šå½“ needle æ˜¯ç©ºå­—ç¬¦ä¸²æ—¶æˆ‘ä»¬åº”å½“è¿”å›ä»€ä¹ˆå€¼å‘¢ï¼Ÿå¯¹äºæœ¬é¢˜è€Œè¨€ï¼Œå½“ needle æ˜¯ç©ºå­—ç¬¦ä¸²æ—¶æˆ‘ä»¬åº”å½“è¿”å› <span class="token number">0</span> ã€‚è¿™ä¸ C è¯­è¨€çš„ <span class="token function">strstr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ä»¥åŠ Java çš„ <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å®šä¹‰ç›¸ç¬¦ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šhaystack <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> needle <span class="token operator">=</span> <span class="token string">"ll"</span>è¾“å‡ºï¼š<span class="token number">2</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šhaystack <span class="token operator">=</span> <span class="token string">"aaaaa"</span><span class="token punctuation">,</span> needle <span class="token operator">=</span> <span class="token string">"bba"</span>è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šhaystack <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> needle <span class="token operator">=</span> <span class="token string">""</span>è¾“å‡ºï¼š<span class="token number">0</span> æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> haystack<span class="token punctuation">.</span>length<span class="token punctuation">,</span> needle<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">104</span>haystack å’Œ needle ä»…ç”±å°å†™è‹±æ–‡å­—ç¬¦ç»„æˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç»å…¸ä¸€çœ‹ï¼Œå‘ç°æ˜¯ KMP ç®—æ³•çš„å–œæ‚¦ï¼Œå°† haystack æ›¿æ¢ä¸º s ä¸»ä¸²ï¼Œneedle æ›¿æ¢ä¸ºæ¨¡å¼ä¸²ã€‚</li><li>2ã€æ˜¨æ—¥ BF ä»Šæ—¥ KMPï¼Œæˆ‘åˆšå¥½ç›¸åã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment">//KMP</span>    <span class="token keyword">int</span> <span class="token function">strStr</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>m <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        p<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">next</span><span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> p<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>            next<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> p<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">==</span> m<span class="token punctuation">)</span> <span class="token keyword">return</span> i <span class="token operator">-</span> m<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//BFç®—æ³•</span>    <span class="token keyword">int</span> <span class="token function">strStr</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                i<span class="token operator">++</span><span class="token punctuation">;</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                l<span class="token operator">++</span><span class="token punctuation">;</span>                i <span class="token operator">=</span> l<span class="token punctuation">;</span>                j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> l<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(m + n) &#x2F;&#x2F; KMP</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(m + n) &#x2F;&#x2F; KMP</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>string</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 82 47. å…¨æ’åˆ— II</title>
    <link href="/2021/11/30/Leetcode/91-day/day-82/"/>
    <url>/2021/11/30/Leetcode/91-day/day-82/</url>
    
    <content type="html"><![CDATA[<h1 id="47-å…¨æ’åˆ—-II"><a href="#47-å…¨æ’åˆ—-II" class="headerlink" title="47. å…¨æ’åˆ— II"></a><strong><a href="https://leetcode-cn.com/problems/permutations-ii/">47. å…¨æ’åˆ— II</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— nums ï¼ŒæŒ‰ä»»æ„é¡ºåº è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">8</span><span class="token operator">-</span><span class="token number">10</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å›æº¯æ³•ï¼Œåªä¸è¿‡ä»Šæ—¥çš„è¾ƒä¸ºç®€å•</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> vis<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">backtrack</span><span class="token punctuation">(</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> ans<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> res    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>j <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>vis<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            res<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token function">backtrack</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            res<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">permuteUnique</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res<span class="token punctuation">;</span>        vis<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">backtrack</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO($2 ^ n * n$)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO($n$)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 81 40. ç»„åˆæ€»å’Œ II</title>
    <link href="/2021/11/29/Leetcode/91-day/day-81/"/>
    <url>/2021/11/29/Leetcode/91-day/day-81/</url>
    
    <content type="html"><![CDATA[<h1 id="40-ç»„åˆæ€»å’Œ-II"><a href="#40-ç»„åˆæ€»å’Œ-II" class="headerlink" title="40. ç»„åˆæ€»å’Œ II"></a><strong><a href="https://leetcode-cn.com/problems/combination-sum-ii/">40. ç»„åˆæ€»å’Œ II</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªæ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target æ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚candidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚æ³¨æ„ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚  ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span>è¾“å‡º<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>è¾“å‡º<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span> æç¤º<span class="token operator">:</span><span class="token number">1</span> <span class="token operator">&lt;=</span> candidates<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token number">1</span> <span class="token operator">&lt;=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">50</span><span class="token number">1</span> <span class="token operator">&lt;=</span> target <span class="token operator">&lt;=</span> <span class="token number">30</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€åŒæ˜¨æ—¥ä¸€æ ·çš„å›æº¯æ³•ï¼Œçœ‹leetcodeå®˜æ–¹è§£ç­”å¯ä»¥ä½¿ç”¨pairå­˜å‚¨ï¼Œä½†æ˜¯å…¶å®ä¸å­˜å‚¨ç¼“å­˜è¿‡ç¨‹ä¸­çš„æ•°æ®ç±»å‹ vector<int> æ˜¯ä¸€æ ·çš„ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> tmp<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> target <span class="token operator">-</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">></span> start <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> res<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> target <span class="token operator">-</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">combinationSum2</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>candidates<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>candidates<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> candidates<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span> <span class="token operator">-></span> res <span class="token operator">=</span> candidates<span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO($2 ^ n * n$)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO($n$)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 80 39. ç»„åˆæ€»å’Œ</title>
    <link href="/2021/11/29/Leetcode/91-day/day-80/"/>
    <url>/2021/11/29/Leetcode/91-day/day-80/</url>
    
    <content type="html"><![CDATA[<h1 id="39-ç»„åˆæ€»å’Œ"><a href="#39-ç»„åˆæ€»å’Œ" class="headerlink" title="39. ç»„åˆæ€»å’Œ"></a><strong><a href="https://leetcode-cn.com/problems/combination-sum/">39. ç»„åˆæ€»å’Œ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ­£æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªæ­£æ•´æ•° targetæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„å”¯ä¸€ç»„åˆã€‚candidates ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ‰€é€‰æ•°å­—æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯å”¯ä¸€çš„ã€‚ å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º target çš„å”¯ä¸€ç»„åˆæ•°å°‘äº <span class="token number">150</span> ä¸ªã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">7</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">8</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">5</span>ï¼šè¾“å…¥<span class="token operator">:</span> candidates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> candidates<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token number">1</span> <span class="token operator">&lt;=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">200</span>candidate ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚<span class="token number">1</span> <span class="token operator">&lt;=</span> target <span class="token operator">&lt;=</span> <span class="token number">500</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç»å…¸é€’å½’ç®—æ³•</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> candidates<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> ans<span class="token punctuation">,</span>         vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> combine<span class="token punctuation">,</span> <span class="token keyword">int</span> idx    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>idx <span class="token operator">==</span> candidates<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>combine<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> target<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> combine<span class="token punctuation">,</span> idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">-</span> candidates<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            combine<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>candidates<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> target <span class="token operator">-</span> candidates<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">,</span> combine<span class="token punctuation">,</span> idx<span class="token punctuation">)</span><span class="token punctuation">;</span>            combine<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">combinationSum</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> candidates<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> combine<span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> target<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> combine<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(s)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(target)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 79 814. äºŒå‰æ ‘å‰ªæ</title>
    <link href="/2021/11/26/Leetcode/91-day/day-79/"/>
    <url>/2021/11/26/Leetcode/91-day/day-79/</url>
    
    <content type="html"><![CDATA[<h1 id="814-äºŒå‰æ ‘å‰ªæ"><a href="#814-äºŒå‰æ ‘å‰ªæ" class="headerlink" title="814. äºŒå‰æ ‘å‰ªæ"></a><strong><a href="https://leetcode-cn.com/problems/binary-tree-pruning/">814. äºŒå‰æ ‘å‰ªæ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œæ­¤å¤–æ ‘çš„æ¯ä¸ªç»“ç‚¹çš„å€¼è¦ä¹ˆæ˜¯ <span class="token number">0</span> ï¼Œè¦ä¹ˆæ˜¯ <span class="token number">1</span> ã€‚è¿”å›ç§»é™¤äº†æ‰€æœ‰ä¸åŒ…å« <span class="token number">1</span> çš„å­æ ‘çš„åŸäºŒå‰æ ‘ã€‚èŠ‚ç‚¹ node çš„å­æ ‘ä¸º node æœ¬èº«åŠ ä¸Šæ‰€æœ‰ node çš„åä»£ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è§£é‡Šï¼šåªæœ‰çº¢è‰²èŠ‚ç‚¹æ»¡è¶³æ¡ä»¶â€œæ‰€æœ‰ä¸åŒ…å« <span class="token number">1</span> çš„å­æ ‘â€ã€‚ å³å›¾ä¸ºè¿”å›çš„ç­”æ¡ˆã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> æç¤ºï¼šæ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span> å†…Node<span class="token punctuation">.</span>val ä¸º <span class="token number">0</span> æˆ– <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€äºŒå‰æ ‘é€’å½’çš„æƒ³æ³•ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; */</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> l <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>root <span class="token operator">-></span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> r <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>root <span class="token operator">-></span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>l<span class="token punctuation">)</span> root <span class="token operator">-></span> left <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>r<span class="token punctuation">)</span> root <span class="token operator">-></span> right <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> root <span class="token operator">-></span> val <span class="token operator">+</span> l <span class="token operator">+</span> r<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    TreeNode<span class="token operator">*</span> <span class="token function">pruneTree</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">?</span> root <span class="token operator">:</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tree</tag>
      
      <tag>recursion</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 78 1319. è¿é€šç½‘ç»œçš„æ“ä½œæ¬¡æ•°</title>
    <link href="/2021/11/26/Leetcode/91-day/day-78/"/>
    <url>/2021/11/26/Leetcode/91-day/day-78/</url>
    
    <content type="html"><![CDATA[<h1 id="1319-è¿é€šç½‘ç»œçš„æ“ä½œæ¬¡æ•°"><a href="#1319-è¿é€šç½‘ç»œçš„æ“ä½œæ¬¡æ•°" class="headerlink" title="1319. è¿é€šç½‘ç»œçš„æ“ä½œæ¬¡æ•°"></a><strong><a href="https://leetcode-cn.com/problems/number-of-operations-to-make-network-connected/">1319. è¿é€šç½‘ç»œçš„æ“ä½œæ¬¡æ•°</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç”¨ä»¥å¤ªç½‘çº¿ç¼†å°† n å°è®¡ç®—æœºè¿æ¥æˆä¸€ä¸ªç½‘ç»œï¼Œè®¡ç®—æœºçš„ç¼–å·ä» <span class="token number">0</span> åˆ° n<span class="token operator">-</span><span class="token number">1</span>ã€‚çº¿ç¼†ç”¨ connections è¡¨ç¤ºï¼Œå…¶ä¸­ connections<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> è¿æ¥äº†è®¡ç®—æœº a å’Œ bã€‚ç½‘ç»œä¸­çš„ä»»ä½•ä¸€å°è®¡ç®—æœºéƒ½å¯ä»¥é€šè¿‡ç½‘ç»œç›´æ¥æˆ–è€…é—´æ¥è®¿é—®åŒä¸€ä¸ªç½‘ç»œä¸­å…¶ä»–ä»»æ„ä¸€å°è®¡ç®—æœºã€‚ç»™ä½ è¿™ä¸ªè®¡ç®—æœºç½‘ç»œçš„åˆå§‹å¸ƒçº¿ connectionsï¼Œä½ å¯ä»¥æ‹”å¼€ä»»æ„ä¸¤å°ç›´è¿è®¡ç®—æœºä¹‹é—´çš„çº¿ç¼†ï¼Œå¹¶ç”¨å®ƒè¿æ¥ä¸€å¯¹æœªç›´è¿çš„è®¡ç®—æœºã€‚è¯·ä½ è®¡ç®—å¹¶è¿”å›ä½¿æ‰€æœ‰è®¡ç®—æœºéƒ½è¿é€šæ‰€éœ€çš„æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œåˆ™è¿”å› <span class="token operator">-</span><span class="token number">1</span> ã€‚  ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> connections <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1</span>è§£é‡Šï¼šæ‹”ä¸‹è®¡ç®—æœº <span class="token number">1</span> å’Œ <span class="token number">2</span> ä¹‹é—´çš„çº¿ç¼†ï¼Œå¹¶å°†å®ƒæ’åˆ°è®¡ç®—æœº <span class="token number">1</span> å’Œ <span class="token number">3</span> ä¸Šã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> connections <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> connections <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>è§£é‡Šï¼šçº¿ç¼†æ•°é‡ä¸è¶³ã€‚ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> connections <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">0</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">5</span><span class="token number">1</span> <span class="token operator">&lt;=</span> connections<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token function">min</span><span class="token punctuation">(</span>n<span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">5</span><span class="token punctuation">)</span>connections<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token number">0</span> <span class="token operator">&lt;=</span> connections<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> connections<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> nconnections<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> connections<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>æ²¡æœ‰é‡å¤çš„è¿æ¥ã€‚ä¸¤å°è®¡ç®—æœºä¸ä¼šé€šè¿‡å¤šæ¡çº¿ç¼†è¿æ¥ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ˜¨æ—¥è¯´æ³•</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Djset</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> parent<span class="token punctuation">;</span>  <span class="token comment">// è®°å½•èŠ‚ç‚¹çš„æ ¹</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> rank<span class="token punctuation">;</span>  <span class="token comment">// è®°å½•æ ¹èŠ‚ç‚¹çš„æ·±åº¦ï¼ˆç”¨äºä¼˜åŒ–ï¼‰</span>    <span class="token keyword">int</span> count<span class="token punctuation">;</span>         <span class="token comment">// è®°å½•è¿é€šåˆ†é‡çš„ä¸ªæ•°</span>    <span class="token keyword">int</span> rest<span class="token punctuation">;</span>          <span class="token comment">// è®°å½•å¤šä½™çš„è¿æ¥æ•°</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Djset</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">parent</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rank</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rest</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å‹ç¼©æ–¹å¼ï¼šç›´æ¥æŒ‡å‘æ ¹èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> rootx <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> rooty <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>rootx <span class="token operator">!=</span> rooty<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// æŒ‰ç§©åˆå¹¶</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>rank<span class="token punctuation">[</span>rootx<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rank<span class="token punctuation">[</span>rooty<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">swap</span><span class="token punctuation">(</span>rootx<span class="token punctuation">,</span> rooty<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            parent<span class="token punctuation">[</span>rooty<span class="token punctuation">]</span> <span class="token operator">=</span> rootx<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>rank<span class="token punctuation">[</span>rootx<span class="token punctuation">]</span> <span class="token operator">==</span> rank<span class="token punctuation">[</span>rooty<span class="token punctuation">]</span><span class="token punctuation">)</span> rank<span class="token punctuation">[</span>rootx<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            count<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            rest<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> count<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getRest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> rest<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">makeConnected</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> connections<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Djset <span class="token function">ds</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span>connections<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ds<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>e<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ds<span class="token punctuation">.</span><span class="token function">getRest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> ds<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ds<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO($n^2$)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UnionFind</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 77 924. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­</title>
    <link href="/2021/11/25/Leetcode/91-day/day-77/"/>
    <url>/2021/11/25/Leetcode/91-day/day-77/</url>
    
    <content type="html"><![CDATA[<h1 id="924-å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­"><a href="#924-å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­" class="headerlink" title="924. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­"></a><strong><a href="https://leetcode-cn.com/problems/minimize-malware-spread/">924. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åœ¨èŠ‚ç‚¹ç½‘ç»œä¸­ï¼Œåªæœ‰å½“ graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹ i èƒ½å¤Ÿç›´æ¥è¿æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ jã€‚ä¸€äº›èŠ‚ç‚¹ initial æœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ã€‚åªè¦ä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ï¼Œä¸”å…¶ä¸­è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹å—åˆ°æ¶æ„è½¯ä»¶çš„æ„ŸæŸ“ï¼Œé‚£ä¹ˆä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ã€‚è¿™ç§æ¶æ„è½¯ä»¶çš„ä¼ æ’­å°†ç»§ç»­ï¼Œç›´åˆ°æ²¡æœ‰æ›´å¤šçš„èŠ‚ç‚¹å¯ä»¥è¢«è¿™ç§æ–¹å¼æ„ŸæŸ“ã€‚å‡è®¾ <span class="token function">M</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span> æ˜¯åœ¨æ¶æ„è½¯ä»¶åœæ­¢ä¼ æ’­ä¹‹åï¼Œæ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°ã€‚å¦‚æœä»åˆå§‹åˆ—è¡¨ä¸­ç§»é™¤æŸä¸€èŠ‚ç‚¹èƒ½å¤Ÿæœ€å°åŒ– <span class="token function">M</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span>ï¼Œè¿”å›è¯¥èŠ‚ç‚¹ã€‚å¦‚æœæœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œå°±è¿”å›ç´¢å¼•æœ€å°çš„èŠ‚ç‚¹ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹å·²ä»å—æ„ŸæŸ“èŠ‚ç‚¹çš„åˆ—è¡¨ initial ä¸­åˆ é™¤ï¼Œå®ƒä»¥åå¯èƒ½ä»ç„¶å› æ¶æ„è½¯ä»¶ä¼ æ’­è€Œå—åˆ°æ„ŸæŸ“ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šgraph <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> initial <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">0</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šgraph <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> initial <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">0</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šgraph <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> initial <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span>length <span class="token operator">=</span> graph<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token number">0</span> <span class="token operator">&lt;=</span> graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> graph<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">1</span>graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token number">1</span> <span class="token operator">&lt;=</span> initial<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span>length<span class="token number">0</span> <span class="token operator">&lt;=</span> initial<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span>length<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ‰äº›å°éš¾ï¼Œé¦–å…ˆè¦è®¡ç®—å½“å‰ graph å›¾ä¸­çš„è¿é€šåˆ†é‡å—ï¼Œä»¥åŠè¿é€šå—çš„å¤§å°</li><li>2ã€ç„¶åè®¡ç®— initial è¡¨ä¸­çš„æ¯ä¸ªåˆ†é‡å—çš„å¤§å°</li><li>3ã€è¿é€šåˆ†é‡å—ä¸º1çš„æ—¶å€™ï¼Œæœç´¢è¯¥å—åœ¨åŸè¡¨ä¸­çš„å®é™…å¤§å°ï¼Œæ‰¾åˆ°æœ€å¤§çš„å—è¿›è¡Œåˆ é™¤å³å¯å¾—åˆ°æœ€å°‘çš„æ„ŸæŸ“èŠ‚ç‚¹ï¼Œå—å¤§å°ç›¸ç­‰æ—¶è¿”å›ç´¢å¼•æœ€å°çš„ç‚¹</li><li>4ã€ä¸å­˜åœ¨è¿é€šåˆ†é‡å—ä¸º1çš„æƒ…å†µï¼Œè¿”å›initialä¸­æœ€å°å€¼</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">UnionFind</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> data<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> cnt<span class="token punctuation">;</span> <span class="token comment">// æ¯ä¸ªèŠ‚ç‚¹è¿é€šå—å¤§å°</span>    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        data<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        cnt<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* int root = x;        while (data[root] >= 0) root = data[root];        //è·¯å¾„å‹ç¼©        while (x != root) &#123;            int tmp = data[x]; //tmp æŒ‡å‘ x çš„çˆ¶èŠ‚ç‚¹            data[x] = root;   //æŒ‚åˆ°æ ¹èŠ‚ç‚¹ä¸‹            x = tmp;        &#125;        return root; //è¿”å›æ ¹èŠ‚ç‚¹çš„ç¼–å·ã€‚ */</span>        <span class="token comment">//ä¸Šè¿°çš„ä¼˜åŒ–ä¼šè¶…æ—¶ï¼</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> x<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">Union</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        data<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> q<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            cnt<span class="token punctuation">[</span>q<span class="token punctuation">]</span> <span class="token operator">+=</span> cnt<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">GetCnt</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> cnt<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">minMalwareSpread</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> graph<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> initial<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        UnionFind u<span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> graph<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        u<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>initial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> initial<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> u<span class="token punctuation">.</span><span class="token function">Union</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// è®¡ç®—initialä¸­å…±è¿é€šå—å…ƒç´ ä¸ªæ•°</span>        map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> count<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> c <span class="token operator">:</span> initial<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            count<span class="token punctuation">[</span>u<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> c <span class="token operator">:</span> initial<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count<span class="token punctuation">[</span>u<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> size <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">GetCnt</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">></span> res<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> size<span class="token punctuation">;</span>                    ans <span class="token operator">=</span> c<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ans <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> initial<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO($n^2$)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UnionFind</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 76 547. çœä»½æ•°é‡</title>
    <link href="/2021/11/24/Leetcode/91-day/day-76/"/>
    <url>/2021/11/24/Leetcode/91-day/day-76/</url>
    
    <content type="html"><![CDATA[<h1 id="547-çœä»½æ•°é‡"><a href="#547-çœä»½æ•°é‡" class="headerlink" title="547. çœä»½æ•°é‡"></a><strong><a href="https://leetcode-cn.com/problems/number-of-provinces/">547. çœä»½æ•°é‡</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æœ‰ n ä¸ªåŸå¸‚ï¼Œå…¶ä¸­ä¸€äº›å½¼æ­¤ç›¸è¿ï¼Œå¦ä¸€äº›æ²¡æœ‰ç›¸è¿ã€‚å¦‚æœåŸå¸‚ a ä¸åŸå¸‚ b ç›´æ¥ç›¸è¿ï¼Œä¸”åŸå¸‚ b ä¸åŸå¸‚ c ç›´æ¥ç›¸è¿ï¼Œé‚£ä¹ˆåŸå¸‚ a ä¸åŸå¸‚ c é—´æ¥ç›¸è¿ã€‚çœä»½ æ˜¯ä¸€ç»„ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„åŸå¸‚ï¼Œç»„å†…ä¸å«å…¶ä»–æ²¡æœ‰ç›¸è¿çš„åŸå¸‚ã€‚ç»™ä½ ä¸€ä¸ª n x n çš„çŸ©é˜µ isConnected ï¼Œå…¶ä¸­ isConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> è¡¨ç¤ºç¬¬ i ä¸ªåŸå¸‚å’Œç¬¬ j ä¸ªåŸå¸‚ç›´æ¥ç›¸è¿ï¼Œè€Œ isConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> è¡¨ç¤ºäºŒè€…ä¸ç›´æ¥ç›¸è¿ã€‚è¿”å›çŸ©é˜µä¸­ çœä»½ çš„æ•°é‡ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šisConnected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šisConnected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">3</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">200</span>n <span class="token operator">==</span> isConnected<span class="token punctuation">.</span>lengthn <span class="token operator">==</span> isConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lengthisConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> ä¸º <span class="token number">1</span> æˆ– <span class="token number">0</span>isConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span>isConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> isConnected<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€åˆšå¥½è€ƒç ”ä»Šå¹´ä¹Ÿæ–°å¢å¹¶æŸ¥é›†çš„å­¦ä¹ ï¼Œæ‰€ä»¥æœ¬æ¬¡åˆšå¥½å¯ä»¥å¤ä¹ ä¸€ä¸‹UnionFind class çš„ç›¸åº”çš„å†™æ³•ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">UnionFind</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> data<span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨çˆ¶èŠ‚ç‚¹</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//è®°å½•æ•°ç›®</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> root <span class="token operator">=</span> x<span class="token punctuation">;</span>                <span class="token keyword">while</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>root<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> root <span class="token operator">=</span> data<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//è·¯å¾„å‹ç¼©</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> tmp <span class="token operator">=</span> data<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//tmp æŒ‡å‘ x çš„çˆ¶èŠ‚ç‚¹</span>            data<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> root<span class="token punctuation">;</span>   <span class="token comment">//æŒ‚åˆ°æ ¹èŠ‚ç‚¹ä¸‹</span>            x <span class="token operator">=</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span> <span class="token comment">//è¿”å›æ ¹èŠ‚ç‚¹çš„ç¼–å·ã€‚</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">bool</span> <span class="token function">isconnected</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>p <span class="token operator">!=</span> q<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            data<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">;</span>            cnt<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            data<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            cnt<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getCnt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> cnt<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findCircleNum</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> isConnected<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        UnionFind u<span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> isConnected<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            u<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>isConnected<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> u<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> u<span class="token punctuation">.</span><span class="token function">getCnt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO($n^2$ * logn)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UnionFind</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 75 é¢è¯•é¢˜ 17.17. å¤šæ¬¡æœç´¢</title>
    <link href="/2021/11/23/Leetcode/91-day/day-75/"/>
    <url>/2021/11/23/Leetcode/91-day/day-75/</url>
    
    <content type="html"><![CDATA[<h1 id="é¢è¯•é¢˜-17-17-å¤šæ¬¡æœç´¢"><a href="#é¢è¯•é¢˜-17-17-å¤šæ¬¡æœç´¢" class="headerlink" title="é¢è¯•é¢˜ 17.17. å¤šæ¬¡æœç´¢"></a><strong><a href="https://leetcode-cn.com/problems/multi-search-lcci/">é¢è¯•é¢˜ 17.17. å¤šæ¬¡æœç´¢</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªè¾ƒé•¿å­—ç¬¦ä¸²bigå’Œä¸€ä¸ªåŒ…å«è¾ƒçŸ­å­—ç¬¦ä¸²çš„æ•°ç»„smallsï¼Œè®¾è®¡ä¸€ä¸ªæ–¹æ³•ï¼Œæ ¹æ®smallsä¸­çš„æ¯ä¸€ä¸ªè¾ƒçŸ­å­—ç¬¦ä¸²ï¼Œå¯¹bigè¿›è¡Œæœç´¢ã€‚è¾“å‡ºsmallsä¸­çš„å­—ç¬¦ä¸²åœ¨bigé‡Œå‡ºç°çš„æ‰€æœ‰ä½ç½®positionsï¼Œå…¶ä¸­positions<span class="token punctuation">[</span>i<span class="token punctuation">]</span>ä¸ºsmalls<span class="token punctuation">[</span>i<span class="token punctuation">]</span>å‡ºç°çš„æ‰€æœ‰ä½ç½®ã€‚ç¤ºä¾‹ï¼šè¾“å…¥ï¼šbig <span class="token operator">=</span> <span class="token string">"mississippi"</span>smalls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"is"</span><span class="token punctuation">,</span><span class="token string">"ppi"</span><span class="token punctuation">,</span><span class="token string">"hi"</span><span class="token punctuation">,</span><span class="token string">"sis"</span><span class="token punctuation">,</span><span class="token string">"i"</span><span class="token punctuation">,</span><span class="token string">"ssippi"</span><span class="token punctuation">]</span>è¾“å‡ºï¼š <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>big<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>smalls<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1000</span>smallsçš„æ€»å­—ç¬¦æ•°ä¸ä¼šè¶…è¿‡ <span class="token number">100000</span>ã€‚ä½ å¯ä»¥è®¤ä¸ºsmallsä¸­æ²¡æœ‰é‡å¤å­—ç¬¦ä¸²ã€‚æ‰€æœ‰å‡ºç°çš„å­—ç¬¦å‡ä¸ºè‹±æ–‡å°å†™å­—æ¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€Tire æ ‘ç»å…¸æ–¹æ³•ï¼Œæ˜å¹´ 1 æœˆä»½å†åšå®¢å†è¿›è¡Œå¤ç›˜ï¼Œè®²è¿°ä¸€æ­¥ä¸€æ­¥çš„æ€è·¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Trie</span>  <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    Trie<span class="token operator">*</span> next<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">multiSearch</span><span class="token punctuation">(</span>string big<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token operator">&amp;</span> smalls<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Trie<span class="token operator">*</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> smalls<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> big<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            Trie<span class="token operator">*</span> p <span class="token operator">=</span> root<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> s <span class="token operator">:</span> smalls<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">-></span> next<span class="token punctuation">[</span>s <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>                 <span class="token punctuation">&#123;</span>                    Trie<span class="token operator">*</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    p <span class="token operator">-></span> next<span class="token punctuation">[</span>s <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                p <span class="token operator">=</span> p <span class="token operator">-></span> next<span class="token punctuation">[</span>s <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            p <span class="token operator">-></span> index <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">ans</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            Trie<span class="token operator">*</span> p <span class="token operator">=</span> root<span class="token punctuation">;</span>            <span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> m <span class="token operator">&amp;&amp;</span> p <span class="token operator">-></span> next<span class="token punctuation">[</span>big<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>             <span class="token punctuation">&#123;</span>                p <span class="token operator">=</span> p <span class="token operator">-></span> next<span class="token punctuation">[</span>big<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">-></span> index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>                    ans<span class="token punctuation">[</span>p <span class="token operator">-></span> index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n * m * c)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Trie</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 74 677. é”®å€¼æ˜ å°„</title>
    <link href="/2021/11/22/Leetcode/91-day/day-74/"/>
    <url>/2021/11/22/Leetcode/91-day/day-74/</url>
    
    <content type="html"><![CDATA[<h1 id="677-é”®å€¼æ˜ å°„"><a href="#677-é”®å€¼æ˜ å°„" class="headerlink" title="677. é”®å€¼æ˜ å°„"></a><strong><a href="https://leetcode-cn.com/problems/map-sum-pairs/">677. é”®å€¼æ˜ å°„</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å®ç°ä¸€ä¸ª MapSum ç±»ï¼Œæ”¯æŒä¸¤ä¸ªæ–¹æ³•ï¼Œinsert å’Œ sumï¼š<span class="token function">MapSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> åˆå§‹åŒ– MapSum å¯¹è±¡<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>String key<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> æ’å…¥ key<span class="token operator">-</span>val é”®å€¼å¯¹ï¼Œå­—ç¬¦ä¸²è¡¨ç¤ºé”® key ï¼Œæ•´æ•°è¡¨ç¤ºå€¼ val ã€‚å¦‚æœé”® key å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåŸæ¥çš„é”®å€¼å¯¹å°†è¢«æ›¿ä»£æˆæ–°çš„é”®å€¼å¯¹ã€‚<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span>string prefix<span class="token punctuation">)</span> è¿”å›æ‰€æœ‰ä»¥è¯¥å‰ç¼€ prefix å¼€å¤´çš„é”® key çš„å€¼çš„æ€»å’Œã€‚ ç¤ºä¾‹ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token string">"MapSum"</span><span class="token punctuation">,</span> <span class="token string">"insert"</span><span class="token punctuation">,</span> <span class="token string">"sum"</span><span class="token punctuation">,</span> <span class="token string">"insert"</span><span class="token punctuation">,</span> <span class="token string">"sum"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"ap"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"app"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"ap"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span>null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>è§£é‡Šï¼šMapSum mapSum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MapSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mapSum<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  mapSum<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">"ap"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// return 3 (apple = 3)</span>mapSum<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mapSum<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">"ap"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// return 5 (apple + app = 3 + 2 = 5)</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> key<span class="token punctuation">.</span>length<span class="token punctuation">,</span> prefix<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">50</span>key å’Œ prefix ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ<span class="token number">1</span> <span class="token operator">&lt;=</span> val <span class="token operator">&lt;=</span> <span class="token number">1000</span>æœ€å¤šè°ƒç”¨ <span class="token number">50</span> æ¬¡ insert å’Œ sum<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ€ç®€å•æ–¹æ³•ç›´æ¥ä½¿ç”¨cppçš„å››å¤§å®¹å™¨ç»„ä»¶å³å¯ä¸­ï¼Œä½†æ˜¯ç”±äºæ˜¯å­¦ä¹ trieæ ‘çš„ä½¿ç”¨,æ‰€ä»¥ä½¿ç”¨tireæ¥æ„å»º</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MapSum</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MapSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€æ•°ç»„è¿›è¡Œi</span>        <span class="token function">memset</span><span class="token punctuation">(</span>cnt<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>string key<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> key<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> q <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ans<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">++</span>idx<span class="token punctuation">;</span>            p <span class="token operator">=</span> ans<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        cnt<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span>string prefix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> prefix<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> q <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ans<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>            p <span class="token operator">=</span> ans<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> cnt<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            res <span class="token operator">+=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/** * Your MapSum object will be instantiated and called as such: * MapSum* obj = new MapSum(); * obj->insert(key,val); * int param_2 = obj->sum(prefix); */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n * m * C)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Trie</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 73 208. å®ç° Trie (å‰ç¼€æ ‘)</title>
    <link href="/2021/11/21/Leetcode/91-day/day-73/"/>
    <url>/2021/11/21/Leetcode/91-day/day-73/</url>
    
    <content type="html"><![CDATA[<h1 id="208-å®ç°-Trie-å‰ç¼€æ ‘"><a href="#208-å®ç°-Trie-å‰ç¼€æ ‘" class="headerlink" title="208. å®ç° Trie (å‰ç¼€æ ‘)"></a><strong><a href="https://leetcode-cn.com/problems/implement-trie-prefix-tree/">208. å®ç° Trie (å‰ç¼€æ ‘)</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Trieï¼ˆå‘éŸ³ç±»ä¼¼ <span class="token string">"try"</span>ï¼‰æˆ–è€…è¯´ å‰ç¼€æ ‘ æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å®Œå’Œæ‹¼å†™æ£€æŸ¥ã€‚è¯·ä½ å®ç° Trie ç±»ï¼š<span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>String word<span class="token punctuation">)</span> å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸² word ã€‚boolean <span class="token function">search</span><span class="token punctuation">(</span>String word<span class="token punctuation">)</span> å¦‚æœå­—ç¬¦ä¸² word åœ¨å‰ç¼€æ ‘ä¸­<span class="token punctuation">,</span> è¿”å› <span class="token boolean">true</span><span class="token punctuation">;</span> å¦åˆ™ï¼Œè¿”å› <span class="token boolean">false</span>ã€‚boolean <span class="token function">startsWith</span><span class="token punctuation">(</span>String prefix<span class="token punctuation">)</span> å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸² word çš„å‰ç¼€ä¹‹ä¸€ï¼Œè¿”å› <span class="token boolean">true</span> ç¤ºä¾‹ï¼šè¾“å…¥<span class="token punctuation">[</span><span class="token string">"Trie"</span><span class="token punctuation">,</span> <span class="token string">"insert"</span><span class="token punctuation">,</span> <span class="token string">"search"</span><span class="token punctuation">,</span> <span class="token string">"search"</span><span class="token punctuation">,</span> <span class="token string">"startsWith"</span><span class="token punctuation">,</span> <span class="token string">"insert"</span><span class="token punctuation">,</span> <span class="token string">"search"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"apple"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"apple"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"app"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"app"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"app"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"app"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡º<span class="token punctuation">[</span>null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span>è§£é‡ŠTrie trie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>trie<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>trie<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// è¿”å› True</span>trie<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// è¿”å› False</span>trie<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› True</span>trie<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>trie<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// è¿”å› True</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> word<span class="token punctuation">.</span>length<span class="token punctuation">,</span> prefix<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">2000</span>word å’Œ prefix ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆinsertã€search å’Œ startsWith è°ƒç”¨æ¬¡æ•° æ€»è®¡ ä¸è¶…è¿‡ <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span> æ¬¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€Trieæ ‘çš„è®¾è®¡æ¨¡æ¿é¢˜ç›®ï¼Œå»ºè®®å…ˆäº†è§£å…¶æ¦‚å¿µï¼Œç„¶åèƒŒæ¨¡æ¿å®ç°ï¼Œå¤šåšå‡ é“Trieæ ‘çš„é¢˜ç›®å³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Trie</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>Trie<span class="token operator">*</span><span class="token operator">></span> next<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">isEnd</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Trie<span class="token operator">*</span> T <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> word<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">-></span> next<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                T <span class="token operator">-></span> next<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            T <span class="token operator">=</span> T <span class="token operator">-></span> next<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        T <span class="token operator">-></span> isEnd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">bool</span> <span class="token function">search</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Trie<span class="token operator">*</span> T <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> word<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            T <span class="token operator">=</span> T <span class="token operator">-></span> next<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> T <span class="token operator">-></span> isEnd<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">bool</span> <span class="token function">startsWith</span><span class="token punctuation">(</span>string prefix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Trie<span class="token operator">*</span> T <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> prefix<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            T <span class="token operator">=</span> T <span class="token operator">-></span> next<span class="token punctuation">[</span>c<span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>T <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/** * Your Trie object will be instantiated and called as such: * Trie* obj = new Trie(); * obj->insert(word); * bool param_2 = obj->search(word); * bool param_3 = obj->startsWith(prefix); */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(1 + |S|)</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(|T| * sum)</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Trie</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 72 78. å­é›†</title>
    <link href="/2021/11/20/Leetcode/91-day/day-72/"/>
    <url>/2021/11/20/Leetcode/91-day/day-72/</url>
    
    <content type="html"><![CDATA[<h1 id="78-å­é›†"><a href="#78-å­é›†" class="headerlink" title="78. å­é›†"></a><strong><a href="https://leetcode-cn.com/problems/subsets/">78. å­é›†</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">-</span><span class="token number">10</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10</span>nums ä¸­çš„æ‰€æœ‰å…ƒç´  äº’ä¸ç›¸åŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜ç›®è‹¥æ˜¯æ±‚å­é›†ä¸ªæ•°è¯¥å¤šå¥½ï¼Œç›´æ¥å…¨æ’åˆ—å³å¯ï¼Œå¯æƒœæ˜¯æ±‚æ¯ä¸€ä¸ªå¯¹åº”çš„å­é›†ã€‚</li><li>2ã€åˆ©ç”¨ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªå­˜æœ€åçš„ç­”æ¡ˆï¼Œä¸€ä¸ªç”¨æ¥åšç¼“å­˜æ•°ç»„ï¼Œä¸¤ä¸ªdfsçš„æ„æ€ä¸ºï¼Œå…ˆåŠ å…¥æ‰€æœ‰çš„å­å…ƒç´ ï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªå‰”é™¤ï¼Œå‰”é™¤ä¸€ä¸ªå…ƒç´ ï¼Œæœ€ç»ˆçš„ç­”æ¡ˆæ•°ç»„å°†å…¶å­˜å…¥ã€‚</li><li>3ã€æœ€å34å¤©è¦è€ƒç ”äº†ï¼Œå†™çš„ä¼šæ¯”è¾ƒç´§å¼ ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> tmp<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">subsets</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        tmp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>        tmp<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n*2^n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 71 260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III</title>
    <link href="/2021/11/19/Leetcode/91-day/day-71/"/>
    <url>/2021/11/19/Leetcode/91-day/day-71/</url>
    
    <content type="html"><![CDATA[<h1 id="260-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-III"><a href="#260-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-III" class="headerlink" title="260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III"></a><strong><a href="https://leetcode-cn.com/problems/single-number-iii/">260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚è¿›é˜¶ï¼šä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥å®ç°ï¼Ÿ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è§£é‡Šï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç­”æ¡ˆã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>æç¤ºï¼š<span class="token number">2</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span><span class="token operator">-</span><span class="token number">231</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">^</span><span class="token number">31</span> <span class="token operator">-</span> <span class="token number">1</span>é™¤ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•´æ•°å¤–ï¼Œnums ä¸­çš„å…¶ä»–æ•°å­—éƒ½å‡ºç°ä¸¤æ¬¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å› ä¸ºåªæœ‰ä¸¤ä¸ªæ•°å­—ä¸é‡å¤ï¼Œçœ‹åˆ°åˆ™æƒ³åˆ°ä½è¿ç®—çš„æ–¹æ³•ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">singleNumber</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> nums<span class="token punctuation">)</span> sum <span class="token operator">^=</span> i<span class="token punctuation">;</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> k <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum <span class="token operator">>></span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> k <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ans</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">>></span> k<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^=</span> i<span class="token punctuation">;</span>            <span class="token keyword">else</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Partition</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 70 932. æ¼‚äº®æ•°ç»„</title>
    <link href="/2021/11/17/Leetcode/91-day/day-70/"/>
    <url>/2021/11/17/Leetcode/91-day/day-70/</url>
    
    <content type="html"><![CDATA[<h1 id="932-æ¼‚äº®æ•°ç»„"><a href="#932-æ¼‚äº®æ•°ç»„" class="headerlink" title="932. æ¼‚äº®æ•°ç»„"></a><strong><a href="https://leetcode-cn.com/problems/beautiful-array/">932. æ¼‚äº®æ•°ç»„</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å¯¹äºæŸäº›å›ºå®šçš„ Nï¼Œå¦‚æœæ•°ç»„ A æ˜¯æ•´æ•° <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> N ç»„æˆçš„æ’åˆ—ï¼Œä½¿å¾—ï¼šå¯¹äºæ¯ä¸ª i <span class="token operator">&lt;</span> jï¼Œéƒ½ä¸å­˜åœ¨ k æ»¡è¶³ i <span class="token operator">&lt;</span> k <span class="token operator">&lt;</span> j ä½¿å¾— A<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> A<span class="token punctuation">[</span>j<span class="token punctuation">]</span>ã€‚é‚£ä¹ˆæ•°ç»„ A æ˜¯æ¼‚äº®æ•°ç»„ã€‚ ç»™å®š Nï¼Œè¿”å›ä»»æ„æ¼‚äº®æ•°ç»„ Aï¼ˆä¿è¯å­˜åœ¨ä¸€ä¸ªï¼‰ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼š<span class="token number">4</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼š<span class="token number">5</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> N <span class="token operator">&lt;=</span> <span class="token number">1000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€åˆ†æ²»æ³•çš„é€»è¾‘é¢˜ç›®ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">beautifulArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> l <span class="token operator">=</span> <span class="token function">beautifulArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> r <span class="token operator">=</span> <span class="token function">beautifulArray</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> x <span class="token operator">:</span> l<span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> x <span class="token operator">:</span> r<span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Partition</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 69 23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</title>
    <link href="/2021/11/17/Leetcode/91-day/day-69/"/>
    <url>/2021/11/17/Leetcode/91-day/day-69/</url>
    
    <content type="html"><![CDATA[<h1 id="23-åˆå¹¶Kä¸ªå‡åºé“¾è¡¨"><a href="#23-åˆå¹¶Kä¸ªå‡åºé“¾è¡¨" class="headerlink" title="23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨"></a><strong><a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š<span class="token punctuation">[</span>  <span class="token number">1</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">5</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token punctuation">,</span>  <span class="token number">2</span><span class="token operator">-></span><span class="token number">6</span><span class="token punctuation">]</span>å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚<span class="token number">1</span><span class="token operator">-></span><span class="token number">1</span><span class="token operator">-></span><span class="token number">2</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">5</span><span class="token operator">-></span><span class="token number">6</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span> æç¤ºï¼šk <span class="token operator">==</span> lists<span class="token punctuation">.</span>length<span class="token number">0</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span><span class="token number">0</span> <span class="token operator">&lt;=</span> lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">500</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span> <span class="token operator">&lt;=</span> lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span>lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span> æŒ‰ å‡åº æ’åˆ—lists<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length çš„æ€»å’Œä¸è¶…è¿‡ <span class="token number">10</span><span class="token operator">^</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€çœ‹é¢˜ç›®å¾ˆæ˜æ˜¾ï¼Œmerge_sortçš„è€ƒå¯Ÿè¦ç‚¹ï¼Œä½¿ç”¨çš„å¤§å¤šæ˜¯åˆ†æ²»çš„æ€æƒ³ã€‚</li><li>2ã€ç”±äºä¸º k ä¸ªå‡åºçš„é“¾è¡¨ï¼Œä½†æ˜¯ä»å¯ä»¥åˆ†è§£ä¸ºä¸¤ä¸¤åˆå¹¶ã€‚</li><li>3ã€yç¥ç»™çš„æ¨¡æ¿è¿›è¡Œæ”¹å†™ï¼Œç¡®å®ååˆ†å¥½ç”¨</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; */</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    ListNode<span class="token operator">*</span> <span class="token function">merge_sort</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span> a<span class="token punctuation">,</span> ListNode<span class="token operator">*</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">nullptr</span> <span class="token operator">||</span> b <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">return</span> a <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span>        ListNode head<span class="token punctuation">,</span> <span class="token operator">*</span>tail <span class="token operator">=</span> <span class="token operator">&amp;</span>head<span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> a<span class="token punctuation">,</span> <span class="token operator">*</span>q <span class="token operator">=</span> b<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">&amp;&amp;</span> q<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">-></span> val <span class="token operator">&lt;</span> q <span class="token operator">-></span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                tail <span class="token operator">-></span> next <span class="token operator">=</span> p<span class="token punctuation">;</span>                 p <span class="token operator">=</span> p <span class="token operator">-></span> next<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                tail <span class="token operator">-></span> next <span class="token operator">=</span> q<span class="token punctuation">;</span>                 q <span class="token operator">=</span> q <span class="token operator">-></span> next<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            tail <span class="token operator">=</span> tail <span class="token operator">-></span> next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        tail <span class="token operator">-></span> next <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">?</span> p <span class="token operator">:</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    ListNode<span class="token operator">*</span> <span class="token function">merge</span><span class="token punctuation">(</span>vector <span class="token operator">&lt;</span>ListNode<span class="token operator">*</span><span class="token operator">></span><span class="token operator">&amp;</span> lists<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token keyword">return</span> lists<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">merge_sort</span><span class="token punctuation">(</span><span class="token function">merge</span><span class="token punctuation">(</span>lists<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">merge</span><span class="token punctuation">(</span>lists<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    ListNode<span class="token operator">*</span> <span class="token function">mergeKLists</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>ListNode<span class="token operator">*</span><span class="token operator">></span><span class="token operator">&amp;</span> lists<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>lists<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> lists<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(k * logk)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(logk)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>merge_sort</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 68 96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</title>
    <link href="/2021/11/16/Leetcode/91-day/day-68/"/>
    <url>/2021/11/16/Leetcode/91-day/day-68/</url>
    
    <content type="html"><![CDATA[<h1 id="96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘"><a href="#96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘" class="headerlink" title="96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘"></a><strong><a href="https://leetcode-cn.com/problems/unique-binary-search-trees/">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œæ±‚æ°ç”± n ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä» <span class="token number">1</span> åˆ° n äº’ä¸ç›¸åŒçš„ äºŒå‰æœç´¢æ ‘ æœ‰å¤šå°‘ç§ï¼Ÿè¿”å›æ»¡è¶³é¢˜æ„çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">5</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">1</span>æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">19</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜é‡‡ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£å­é—®é¢˜ï¼Œå…¶ä¸­ dp[j - 1] ä¸ºå·¦å­æ ‘ j ä¸ªèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æ ‘ç§æ•°ï¼Œdp[i - j]ä¸ºå³å­æ ‘ i - j ä¸ªèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æ ‘ç§æ•°ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">numTrees</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 67 881. æ•‘ç”Ÿè‰‡</title>
    <link href="/2021/11/15/Leetcode/91-day/day-67/"/>
    <url>/2021/11/15/Leetcode/91-day/day-67/</url>
    
    <content type="html"><![CDATA[<h1 id="881-æ•‘ç”Ÿè‰‡"><a href="#881-æ•‘ç”Ÿè‰‡" class="headerlink" title="881. æ•‘ç”Ÿè‰‡"></a><strong><a href="https://leetcode-cn.com/problems/boats-to-save-people/">881. æ•‘ç”Ÿè‰‡</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç¬¬ i ä¸ªäººçš„ä½“é‡ä¸º people<span class="token punctuation">[</span>i<span class="token punctuation">]</span>ï¼Œæ¯è‰˜èˆ¹å¯ä»¥æ‰¿è½½çš„æœ€å¤§é‡é‡ä¸º limitã€‚æ¯è‰˜èˆ¹æœ€å¤šå¯åŒæ—¶è½½ä¸¤äººï¼Œä½†æ¡ä»¶æ˜¯è¿™äº›äººçš„é‡é‡ä¹‹å’Œæœ€å¤šä¸º limitã€‚è¿”å›è½½åˆ°æ¯ä¸€ä¸ªäººæ‰€éœ€çš„æœ€å°èˆ¹æ•°ã€‚<span class="token punctuation">(</span>ä¿è¯æ¯ä¸ªäººéƒ½èƒ½è¢«èˆ¹è½½<span class="token punctuation">)</span>ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼špeople <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">1</span>è§£é‡Šï¼š<span class="token number">1</span> è‰˜èˆ¹è½½ <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼špeople <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">3</span>è§£é‡Šï¼š<span class="token number">3</span> è‰˜èˆ¹åˆ†åˆ«è½½ <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> å’Œ <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼špeople <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">5</span>è¾“å‡ºï¼š<span class="token number">4</span>è§£é‡Šï¼š<span class="token number">4</span> è‰˜èˆ¹åˆ†åˆ«è½½ <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> people<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> people<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> limit <span class="token operator">&lt;=</span> <span class="token number">30000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€è´ªå¿ƒæ³•åŠ åŒæŒ‡é’ˆï¼ŒåŒæŒ‡é’ˆçš„æ€è€ƒæ–¹æ³•è·Ÿå¿«æ’ä¸€è‡´ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">numRescueBoats</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> people<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> people<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> people<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>people<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+</span> people<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">></span> limit<span class="token punctuation">)</span> r<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>            <span class="token punctuation">&#123;</span>                l<span class="token operator">++</span><span class="token punctuation">;</span>r<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            ans<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Greed</tag>
      
      <tag>quick sort</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 66 435. æ— é‡å åŒºé—´</title>
    <link href="/2021/11/14/Leetcode/91-day/day-66/"/>
    <url>/2021/11/14/Leetcode/91-day/day-66/</url>
    
    <content type="html"><![CDATA[<h1 id="435-æ— é‡å åŒºé—´"><a href="#435-æ— é‡å åŒºé—´" class="headerlink" title="435. æ— é‡å åŒºé—´"></a><strong><a href="https://leetcode-cn.com/problems/non-overlapping-intervals/">435. æ— é‡å åŒºé—´</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œæ‰¾åˆ°éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å ã€‚æ³¨æ„<span class="token operator">:</span>å¯ä»¥è®¤ä¸ºåŒºé—´çš„ç»ˆç‚¹æ€»æ˜¯å¤§äºå®ƒçš„èµ·ç‚¹ã€‚åŒºé—´ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> çš„è¾¹ç•Œç›¸äº’â€œæ¥è§¦â€ï¼Œä½†æ²¡æœ‰ç›¸äº’é‡å ã€‚ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">1</span>è§£é‡Š<span class="token operator">:</span> ç§»é™¤ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">2</span>è§£é‡Š<span class="token operator">:</span> ä½ éœ€è¦ç§»é™¤ä¸¤ä¸ª <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> æ¥ä½¿å‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚ç¤ºä¾‹ <span class="token number">3</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">0</span>è§£é‡Š<span class="token operator">:</span> ä½ ä¸éœ€è¦ç§»é™¤ä»»ä½•åŒºé—´ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æ˜¯æ— é‡å çš„äº†ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å•åˆ€ç›´å…¥ï¼ŒæŒ‰ç…§å³è¾¹ç•Œæ’åºï¼Œå€¼è¶Šå¤§è¶Šåœ¨åé¢ï¼Œè€ŒåæŒ‰ç…§æ¯ä¸€ä¸ªå­ vector å…ƒç´ çš„å³è¾¹ç•Œå€¼ä¸å¤±åˆ†äº§ç”Ÿé‡å æ¥åˆ é™¤åŒºé—´å³å¯</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">eraseOverlapIntervals</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> intervals<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>intervals<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> intervals<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span> <span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">auto</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> del <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> r <span class="token operator">=</span> intervals<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> del<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> r <span class="token operator">=</span> intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> del<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(logn)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Greed</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 65 455. åˆ†å‘é¥¼å¹²</title>
    <link href="/2021/11/13/Leetcode/91-day/day-65/"/>
    <url>/2021/11/13/Leetcode/91-day/day-65/</url>
    
    <content type="html"><![CDATA[<h1 id="455-åˆ†å‘é¥¼å¹²"><a href="#455-åˆ†å‘é¥¼å¹²" class="headerlink" title="455. åˆ†å‘é¥¼å¹²"></a><strong><a href="https://leetcode-cn.com/problems/assign-cookies/">455. åˆ†å‘é¥¼å¹²</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å‡è®¾ä½ æ˜¯ä¸€ä½å¾ˆæ£’çš„å®¶é•¿ï¼Œæƒ³è¦ç»™ä½ çš„å­©å­ä»¬ä¸€äº›å°é¥¼å¹²ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå­©å­æœ€å¤šåªèƒ½ç»™ä¸€å—é¥¼å¹²ã€‚å¯¹æ¯ä¸ªå­©å­ iï¼Œéƒ½æœ‰ä¸€ä¸ªèƒƒå£å€¼ g<span class="token punctuation">[</span>i<span class="token punctuation">]</span>ï¼Œè¿™æ˜¯èƒ½è®©å­©å­ä»¬æ»¡è¶³èƒƒå£çš„é¥¼å¹²çš„æœ€å°å°ºå¯¸ï¼›å¹¶ä¸”æ¯å—é¥¼å¹² jï¼Œéƒ½æœ‰ä¸€ä¸ªå°ºå¯¸ s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> ã€‚å¦‚æœ s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">>=</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span>ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé¥¼å¹² j åˆ†é…ç»™å­©å­ i ï¼Œè¿™ä¸ªå­©å­ä¼šå¾—åˆ°æ»¡è¶³ã€‚ä½ çš„ç›®æ ‡æ˜¯å°½å¯èƒ½æ»¡è¶³è¶Šå¤šæ•°é‡çš„å­©å­ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§æ•°å€¼ã€‚ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">1</span>è§£é‡Š<span class="token operator">:</span> ä½ æœ‰ä¸‰ä¸ªå­©å­å’Œä¸¤å—å°é¥¼å¹²ï¼Œ<span class="token number">3</span>ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯ï¼š<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>ã€‚è™½ç„¶ä½ æœ‰ä¸¤å—å°é¥¼å¹²ï¼Œç”±äºä»–ä»¬çš„å°ºå¯¸éƒ½æ˜¯<span class="token number">1</span>ï¼Œä½ åªèƒ½è®©èƒƒå£å€¼æ˜¯<span class="token number">1</span>çš„å­©å­æ»¡è¶³ã€‚æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º<span class="token number">1</span>ã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">2</span>è§£é‡Š<span class="token operator">:</span> ä½ æœ‰ä¸¤ä¸ªå­©å­å’Œä¸‰å—å°é¥¼å¹²ï¼Œ<span class="token number">2</span>ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>ã€‚ä½ æ‹¥æœ‰çš„é¥¼å¹²æ•°é‡å’Œå°ºå¯¸éƒ½è¶³ä»¥è®©æ‰€æœ‰å­©å­æ»¡è¶³ã€‚æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º<span class="token number">2.</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> g<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span><span class="token number">0</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span><span class="token number">1</span> <span class="token operator">&lt;=</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">^</span><span class="token number">31</span> <span class="token operator">-</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€è´ªå¿ƒæ³•ï¼Œä¼˜å…ˆæ»¡è¶³æœ€è¿‘çš„åŸåˆ™ï¼Œæ’åºä¸¤ä¸ªæ•°ç»„ï¼Œä¼˜å…ˆæ»¡è¶³èƒƒå£æœ€å°çš„å­©å­ï¼Œè¿”å›æ»¡è¶³å­©å­çš„ä¸ªæ•°å³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findContentChildren</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> g<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> m <span class="token operator">&amp;&amp;</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> m<span class="token punctuation">)</span> count<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> count<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Greed</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 64 518. é›¶é’±å…‘æ¢ II</title>
    <link href="/2021/11/12/Leetcode/91-day/day-64/"/>
    <url>/2021/11/12/Leetcode/91-day/day-64/</url>
    
    <content type="html"><![CDATA[<h1 id="518-é›¶é’±å…‘æ¢-II"><a href="#518-é›¶é’±å…‘æ¢-II" class="headerlink" title="518. é›¶é’±å…‘æ¢ II"></a><strong><a href="https://leetcode-cn.com/problems/coin-change-2/">518. é›¶é’±å…‘æ¢ II</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ coins è¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™ä¸€ä¸ªæ•´æ•° amount è¡¨ç¤ºæ€»é‡‘é¢ã€‚è¯·ä½ è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å¦‚æœä»»ä½•ç¡¬å¸ç»„åˆéƒ½æ— æ³•å‡‘å‡ºæ€»é‡‘é¢ï¼Œè¿”å› <span class="token number">0</span> ã€‚å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚ é¢˜ç›®æ•°æ®ä¿è¯ç»“æœç¬¦åˆ <span class="token number">32</span> ä½å¸¦ç¬¦å·æ•´æ•°ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šamount <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> coins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">4</span>è§£é‡Šï¼šæœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢ï¼š<span class="token number">5</span><span class="token operator">=</span><span class="token number">5</span><span class="token number">5</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token number">5</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token number">5</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šamount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> coins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">0</span>è§£é‡Šï¼šåªç”¨é¢é¢ <span class="token number">2</span> çš„ç¡¬å¸ä¸èƒ½å‡‘æˆæ€»é‡‘é¢ <span class="token number">3</span> ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šamount <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> coins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> è¾“å‡ºï¼š<span class="token number">1</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> coins<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token number">1</span> <span class="token operator">&lt;=</span> coins<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">5000</span>coins ä¸­çš„æ‰€æœ‰å€¼ äº’ä¸ç›¸åŒ<span class="token number">0</span> <span class="token operator">&lt;=</span> amount <span class="token operator">&lt;=</span> <span class="token number">5000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä¸æ˜¨å¤©çš„é¢˜ç›®ä¸åŒçš„æ˜¯ï¼Œæœ¬æ¬¡çš„ç¡¬å¸çš„æ•°æ®è§„æ¨¡å˜å°äº†ï¼Œè€Œä¸”coinsä¸­çš„æ‰€æœ‰å€¼äº’ä¸ç›¸åŒï¼Œæ‰€ä»¥æœ¬æ¬¡é¢˜ç›®ç”¨æ¨¡æ¿è§£å†³é—®é¢˜ä¼šæ›´åŠ ç®€å•ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token keyword">int</span> amount<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> coins<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> n <span class="token operator">:</span> coins<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> amount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> n<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/">https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/</a></p>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 63 322. é›¶é’±å…‘æ¢</title>
    <link href="/2021/11/11/Leetcode/91-day/day-63/"/>
    <url>/2021/11/11/Leetcode/91-day/day-63/</url>
    
    <content type="html"><![CDATA[<h1 id="322-é›¶é’±å…‘æ¢"><a href="#322-é›¶é’±å…‘æ¢" class="headerlink" title="322. é›¶é’±å…‘æ¢"></a><strong><a href="https://leetcode-cn.com/problems/coin-change/">322. é›¶é’±å…‘æ¢</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ coins ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° amount ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ æœ€å°‘çš„ç¡¬å¸ä¸ªæ•° ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› <span class="token operator">-</span><span class="token number">1</span> ã€‚ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šcoins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount <span class="token operator">=</span> <span class="token number">11</span>è¾“å‡ºï¼š<span class="token number">3</span> è§£é‡Šï¼š<span class="token number">11</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">1</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šcoins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šcoins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount <span class="token operator">=</span> <span class="token number">0</span>è¾“å‡ºï¼š<span class="token number">0</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šcoins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">1</span>ç¤ºä¾‹ <span class="token number">5</span>ï¼šè¾“å…¥ï¼šcoins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> amount <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token number">2</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> coins<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">12</span><span class="token number">1</span> <span class="token operator">&lt;=</span> coins<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">231</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token number">0</span> <span class="token operator">&lt;=</span> amount <span class="token operator">&lt;=</span> <span class="token number">104</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç›¸åŒæ€è·¯ï¼Œçœ‹ä»¥å¾€é¢˜ç›®ä¸å‚è€ƒèµ„æ–™ï¼Œå³å¯æ”¹åŠ¨æ¨¡æ¿åŒ–è§£å†³é—®é¢˜ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">1000000000</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">coinChange</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> coins<span class="token punctuation">,</span> <span class="token keyword">int</span> amount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> INF<span class="token punctuation">)</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> coins<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> coins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> amount<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> coins<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span> <span class="token operator">==</span> INF<span class="token punctuation">)</span> dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/">https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/</a></p>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 62 494. ç›®æ ‡å’Œ</title>
    <link href="/2021/11/10/Leetcode/91-day/day-62/"/>
    <url>/2021/11/10/Leetcode/91-day/day-62/</url>
    
    <content type="html"><![CDATA[<h1 id="494-ç›®æ ‡å’Œ"><a href="#494-ç›®æ ‡å’Œ" class="headerlink" title="494. ç›®æ ‡å’Œ"></a><strong><a href="https://leetcode-cn.com/problems/target-sum/">494. ç›®æ ‡å’Œ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ª åªåŒ…å«æ­£æ•´æ•° çš„ éç©º æ•°ç»„ nums ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">true</span>è§£é‡Šï¼šæ•°ç»„å¯ä»¥åˆ†å‰²æˆ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">false</span>è§£é‡Šï¼šæ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">200</span><span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€npèƒŒåŒ…é—®é¢˜æŸ¥çœ‹å¤§ä½¬çš„æ¨¡æ¿è§£æ³•ï¼Œä»…éœ€è¦è¿›è¡Œä¸€äº›æ”¹åŠ¨å³å¯è§£é¢˜ï¼Œæœ¬è´¨ä¸Šå±äºåŒä¸€ç±»çš„é¢˜ç›®</li><li>2ã€ä¸¤ç§è¾¹ç•Œæ¡ä»¶çš„æƒ…å†µå¯ä»¥ç›´æ¥æ’é™¤ï¼Œæ•°ç»„å’Œå°äºç›®æ ‡å€¼ä»¥åŠæ•°ç»„å·®å€¼ä¸ºå¥‡æ•°ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findTargetSumWays</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">accumulate</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> sum <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token punctuation">(</span>sum <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>         <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> nums<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> n<span class="token punctuation">;</span> j <span class="token operator">>=</span> i<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>             <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/">https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/</a></p>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 61 416. åˆ†å‰²ç­‰å’Œå­é›†</title>
    <link href="/2021/11/09/Leetcode/91-day/day-61/"/>
    <url>/2021/11/09/Leetcode/91-day/day-61/</url>
    
    <content type="html"><![CDATA[<h1 id="416-åˆ†å‰²ç­‰å’Œå­é›†"><a href="#416-åˆ†å‰²ç­‰å’Œå­é›†" class="headerlink" title="416. åˆ†å‰²ç­‰å’Œå­é›†"></a><strong><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/">416. åˆ†å‰²ç­‰å’Œå­é›†</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„éç©ºæ•°ç»„ nums ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">true</span>è§£é‡Šï¼šæ•°ç»„å¯ä»¥åˆ†å‰²æˆ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">false</span>è§£é‡Šï¼šæ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">200</span><span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä»Šå¤©è¿›å…¥ np çš„èƒŒåŒ…çš„é—®é¢˜ï¼ŒnpèƒŒåŒ…é—®é¢˜åªæœ‰ 0 æˆ– 1ï¼›ä¸¤ç§è¿”å›å€¼ï¼Œæœ¬é¢˜ä¸ºæ±‚æ•°ç»„ç­‰åˆ†ä¸¤ä¸ªå€¼ç›¸åŒçš„å­æ•°ç»„ã€‚</li><li>2ã€å¯è§æ•°ç»„å€¼ç›¸åŠ ä¸€å®šä¸ºå¶æ•°ï¼Œæ‰€ä»¥å’Œä¸ºå¥‡æ•°çš„æ•°ç»„ç›´æ¥èˆå¼ƒã€‚</li><li>3ã€æ‰¾å­é›†å’Œä¸ºsum &#x2F; 2çš„å­æ•°ç»„å³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">canPartition</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">accumulate</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> target <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">:</span> nums<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> target<span class="token punctuation">;</span> j <span class="token operator">>=</span> i<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">||</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/">https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/</a></p>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 60 464. æˆ‘èƒ½èµ¢å—</title>
    <link href="/2021/11/08/Leetcode/91-day/day-60/"/>
    <url>/2021/11/08/Leetcode/91-day/day-60/</url>
    
    <content type="html"><![CDATA[<h1 id="464-æˆ‘èƒ½èµ¢å—"><a href="#464-æˆ‘èƒ½èµ¢å—" class="headerlink" title="464. æˆ‘èƒ½èµ¢å—"></a><strong><a href="https://leetcode-cn.com/problems/can-i-win/">464. æˆ‘èƒ½èµ¢å—</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åœ¨ <span class="token string">"100 game"</span> è¿™ä¸ªæ¸¸æˆä¸­ï¼Œä¸¤åç©å®¶è½®æµé€‰æ‹©ä» <span class="token number">1</span> åˆ° <span class="token number">10</span> çš„ä»»æ„æ•´æ•°ï¼Œç´¯è®¡æ•´æ•°å’Œï¼Œå…ˆä½¿å¾—ç´¯è®¡æ•´æ•°å’Œè¾¾åˆ°æˆ–è¶…è¿‡ <span class="token number">100</span> çš„ç©å®¶ï¼Œå³ä¸ºèƒœè€…ã€‚å¦‚æœæˆ‘ä»¬å°†æ¸¸æˆè§„åˆ™æ”¹ä¸º â€œç©å®¶ä¸èƒ½é‡å¤ä½¿ç”¨æ•´æ•°â€ å‘¢ï¼Ÿä¾‹å¦‚ï¼Œä¸¤ä¸ªç©å®¶å¯ä»¥è½®æµä»å…¬å…±æ•´æ•°æ± ä¸­æŠ½å–ä» <span class="token number">1</span> åˆ° <span class="token number">15</span> çš„æ•´æ•°ï¼ˆä¸æ”¾å›ï¼‰ï¼Œç›´åˆ°ç´¯è®¡æ•´æ•°å’Œ <span class="token operator">>=</span> <span class="token number">100</span>ã€‚ç»™å®šä¸€ä¸ªæ•´æ•° maxChoosableInteger å’Œå¦ä¸€ä¸ªæ•´æ•° desiredTotalï¼Œåˆ¤æ–­å…ˆå‡ºæ‰‹çš„ç©å®¶æ˜¯å¦èƒ½ç¨³èµ¢ï¼Ÿä½ å¯ä»¥å‡è®¾ maxChoosableInteger ä¸ä¼šå¤§äº <span class="token number">20</span>ï¼Œ desiredTotal ä¸ä¼šå¤§äº <span class="token number">300</span>ã€‚ç¤ºä¾‹ï¼šè¾“å…¥ï¼šmaxChoosableInteger <span class="token operator">=</span> <span class="token number">10</span>desiredTotal <span class="token operator">=</span> <span class="token number">11</span>è¾“å‡ºï¼š<span class="token boolean">false</span>è§£é‡Šï¼šæ— è®ºç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹©å“ªä¸ªæ•´æ•°ï¼Œä»–éƒ½ä¼šå¤±è´¥ã€‚ç¬¬ä¸€ä¸ªç©å®¶å¯ä»¥é€‰æ‹©ä» <span class="token number">1</span> åˆ° <span class="token number">10</span> çš„æ•´æ•°ã€‚å¦‚æœç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹© <span class="token number">1</span>ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªç©å®¶åªèƒ½é€‰æ‹©ä» <span class="token number">2</span> åˆ° <span class="token number">10</span> çš„æ•´æ•°ã€‚ç¬¬äºŒä¸ªç©å®¶å¯ä»¥é€šè¿‡é€‰æ‹©æ•´æ•° <span class="token number">10</span>ï¼ˆé‚£ä¹ˆç´¯ç§¯å’Œä¸º <span class="token number">11</span> <span class="token operator">>=</span> desiredTotalï¼‰ï¼Œä»è€Œå–å¾—èƒœåˆ©<span class="token punctuation">.</span>åŒæ ·åœ°ï¼Œç¬¬ä¸€ä¸ªç©å®¶é€‰æ‹©ä»»æ„å…¶ä»–æ•´æ•°ï¼Œç¬¬äºŒä¸ªç©å®¶éƒ½ä¼šèµ¢ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜åªæœ‰ä¸¤ç§å¯¹ç«‹çš„é€‰æ‹©ï¼Œå¿…èµ¢å’Œå¿…è¾“ï¼Œå°±æ˜¯èµŒåšä¸­çš„ç¨³èµ¢çš„é€‰æ‹©æ–¹æ³•ã€‚å¦‚æœå…ˆæ‰‹æ–¹Aé€‰æ‹©æŸæ•°Xå¯ä»¥ä¿è¯åæ‰‹æ–¹Bæ— è®ºé€‰æ‹©å…¶ä»–ä½•æ•°éƒ½ä¿è¯èµ¢ï¼Œåˆ™å¿…èµ¢è¿”å›Trueï¼Œå¦åˆ™Aé€‰æ‹©ä»»æ„æ•°åBå‡æœ‰å¿…èµ¢æ–¹æ³•ï¼Œè¿”å›False</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">canIWin</span><span class="token punctuation">(</span><span class="token keyword">int</span> stable<span class="token punctuation">,</span> <span class="token keyword">int</span> desired<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>stable <span class="token operator">>=</span> desired<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>stable <span class="token operator">*</span> <span class="token punctuation">(</span>stable <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">&lt;</span> desired<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">></span> up<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">canWin</span><span class="token punctuation">(</span>stable<span class="token punctuation">,</span> desired<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">bool</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> sum<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">></span><span class="token operator">&amp;</span> up<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>up<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> up<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> cur <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cur <span class="token operator">&amp;</span> k<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span><span class="token comment">//è¿™ä¸ªå€¼æ²¡æœ‰ä½¿ç”¨è¿‡</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&lt;=</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">dfs</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> sum <span class="token operator">-</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cur <span class="token operator">|</span> k<span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#123;</span>                    up<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        up<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 59 688. â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡</title>
    <link href="/2021/11/07/Leetcode/91-day/day-59/"/>
    <url>/2021/11/07/Leetcode/91-day/day-59/</url>
    
    <content type="html"><![CDATA[<h1 id="688-â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡"><a href="#688-â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡" class="headerlink" title="688. â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡"></a><strong><a href="https://leetcode-cn.com/problems/knight-probability-in-chessboard/">688. â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å·²çŸ¥ä¸€ä¸ª NxN çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œæ£‹ç›˜çš„è¡Œå·å’Œåˆ—å·éƒ½æ˜¯ä» <span class="token number">0</span> å¼€å§‹ã€‚å³æœ€å·¦ä¸Šè§’çš„æ ¼å­è®°ä¸º <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>ï¼Œæœ€å³ä¸‹è§’çš„è®°ä¸º <span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>ã€‚ ç°æœ‰ä¸€ä¸ª â€œé©¬â€ï¼ˆä¹Ÿè¯‘ä½œ â€œéª‘å£«â€ï¼‰ä½äº <span class="token punctuation">(</span>r<span class="token punctuation">,</span> c<span class="token punctuation">)</span> ï¼Œå¹¶æ‰“ç®—è¿›è¡Œ K æ¬¡ç§»åŠ¨ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›½é™…è±¡æ£‹çš„ â€œé©¬â€ æ¯ä¸€æ­¥å…ˆæ²¿æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç§»åŠ¨ <span class="token number">2</span> ä¸ªæ ¼å­ï¼Œç„¶åå‘ä¸ä¹‹ç›¸å‚ç›´çš„æ–¹å‘å†ç§»åŠ¨ <span class="token number">1</span> ä¸ªæ ¼å­ï¼Œå…±æœ‰ <span class="token number">8</span> ä¸ªå¯é€‰çš„ä½ç½®ã€‚ ç°åœ¨ â€œé©¬â€ æ¯ä¸€æ­¥éƒ½ä»å¯é€‰çš„ä½ç½®ï¼ˆåŒ…æ‹¬æ£‹ç›˜å¤–éƒ¨çš„ï¼‰ä¸­ç‹¬ç«‹éšæœºåœ°é€‰æ‹©ä¸€ä¸ªè¿›è¡Œç§»åŠ¨ï¼Œç›´åˆ°ç§»åŠ¨äº† K æ¬¡æˆ–è·³åˆ°äº†æ£‹ç›˜å¤–é¢ã€‚æ±‚ç§»åŠ¨ç»“æŸåï¼Œâ€œé©¬â€ ä»ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚ç¤ºä¾‹ï¼šè¾“å…¥<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">0.0625</span>è§£é‡Š<span class="token operator">:</span> è¾“å…¥çš„æ•°æ®ä¾æ¬¡ä¸º N<span class="token punctuation">,</span> K<span class="token punctuation">,</span> r<span class="token punctuation">,</span> cç¬¬ <span class="token number">1</span> æ­¥æ—¶ï¼Œæœ‰ä¸”åªæœ‰ <span class="token number">2</span> ç§èµ°æ³•ä»¤ â€œé©¬â€ å¯ä»¥ç•™åœ¨æ£‹ç›˜ä¸Šï¼ˆè·³åˆ°ï¼ˆ<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>ï¼‰æˆ–ï¼ˆ<span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span>ï¼‰ï¼‰ã€‚å¯¹äºä»¥ä¸Šçš„ä¸¤ç§æƒ…å†µï¼Œå„è‡ªåœ¨ç¬¬<span class="token number">2</span>æ­¥å‡æœ‰ä¸”åªæœ‰<span class="token number">2</span>ç§èµ°æ³•ä»¤ â€œé©¬â€ ä»ç„¶ç•™åœ¨æ£‹ç›˜ä¸Šã€‚æ‰€ä»¥ â€œé©¬â€ åœ¨ç»“æŸåä»åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ä¸º <span class="token number">0.0625</span>ã€‚ æ³¨æ„ï¼šN çš„å–å€¼èŒƒå›´ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>K çš„å–å€¼èŒƒå›´ä¸º <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>å¼€å§‹æ—¶ï¼Œâ€œé©¬â€ æ€»æ˜¯ä½äºæ£‹ç›˜ä¸Š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€è¿™é¢˜ç›®æš‚æ—¶æ²¡æœ‰çœ‹æ‡‚ï¼Œå…ˆä¸‹ä¸ªå‘ï¼ŒæŠ„ä¸ªç­”æ¡ˆã€‚ã€‚ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> d<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                    <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                    <span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span>         <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> <span class="token function">knightProbability</span><span class="token punctuation">(</span><span class="token keyword">int</span> N<span class="token punctuation">,</span> <span class="token keyword">int</span> K<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>K <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1.0</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span> <span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> K<span class="token punctuation">;</span> <span class="token operator">++</span>k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">auto</span> ans <span class="token operator">=</span> dp<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> l <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token operator">++</span>l<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">int</span> r <span class="token operator">=</span> i <span class="token operator">+</span> d<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                        <span class="token keyword">int</span> c <span class="token operator">=</span> j <span class="token operator">+</span> d<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> r <span class="token operator">&lt;</span> N <span class="token operator">&amp;&amp;</span> c <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                     <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> dp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(K * N)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(r * c)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 58 62. ä¸åŒè·¯å¾„</title>
    <link href="/2021/11/06/Leetcode/91-day/day-58/"/>
    <url>/2021/11/06/Leetcode/91-day/day-58/</url>
    
    <content type="html"><![CDATA[<h1 id="62-ä¸åŒè·¯å¾„"><a href="#62-ä¸åŒè·¯å¾„" class="headerlink" title="62. ä¸åŒè·¯å¾„"></a><strong><a href="https://leetcode-cn.com/problems/unique-paths/">62. ä¸åŒè·¯å¾„</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ ï¼‰ã€‚é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šm <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">7</span>è¾“å‡ºï¼š<span class="token number">28</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šm <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token number">3</span>è§£é‡Šï¼šä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ <span class="token number">3</span> æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚<span class="token number">1.</span> å‘å³ <span class="token operator">-></span> å‘ä¸‹ <span class="token operator">-></span> å‘ä¸‹<span class="token number">2.</span> å‘ä¸‹ <span class="token operator">-></span> å‘ä¸‹ <span class="token operator">-></span> å‘å³<span class="token number">3.</span> å‘ä¸‹ <span class="token operator">-></span> å‘å³ <span class="token operator">-></span> å‘ä¸‹ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šm <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">28</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šm <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">6</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> m<span class="token punctuation">,</span> n <span class="token operator">&lt;=</span> <span class="token number">100</span>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå°äºç­‰äº <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å…¸å‹äºŒç»´dpç®€å•é¢˜ç›®ï¼Œç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—å…¨1ï¼Œç„¶åæ…¢æ…¢å¾€ä¸‹åŠ ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå…¨æ’åˆ—çš„é—®é¢˜</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">uniquePaths</span><span class="token punctuation">(</span><span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">ans</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> ans<span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n * m)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n * m)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 57 1143. æœ€é•¿å…¬å…±å­åºåˆ—</title>
    <link href="/2021/11/05/Leetcode/91-day/day-57/"/>
    <url>/2021/11/05/Leetcode/91-day/day-57/</url>
    
    <content type="html"><![CDATA[<h1 id="1143-æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#1143-æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="1143. æœ€é•¿å…¬å…±å­åºåˆ—"></a><strong><a href="https://leetcode-cn.com/problems/longest-common-subsequence/">1143. æœ€é•¿å…¬å…±å­åºåˆ—</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² text1 å’Œ text2ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿ å…¬å…±å­åºåˆ— çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ å…¬å…±å­åºåˆ— ï¼Œè¿”å› <span class="token number">0</span> ã€‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„ å­åºåˆ— æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼šå®ƒæ˜¯ç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œ<span class="token string">"ace"</span> æ˜¯ <span class="token string">"abcde"</span> çš„å­åºåˆ—ï¼Œä½† <span class="token string">"aec"</span> ä¸æ˜¯ <span class="token string">"abcde"</span> çš„å­åºåˆ—ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ å…¬å…±å­åºåˆ— æ˜¯è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€å…±åŒæ‹¥æœ‰çš„å­åºåˆ—ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼štext1 <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">,</span> text2 <span class="token operator">=</span> <span class="token string">"ace"</span>è¾“å‡ºï¼š<span class="token number">3</span>è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ <span class="token string">"ace"</span> ï¼Œå®ƒçš„é•¿åº¦ä¸º <span class="token number">3</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼štext1 <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">,</span> text2 <span class="token operator">=</span> <span class="token string">"abc"</span>è¾“å‡ºï¼š<span class="token number">3</span>è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ <span class="token string">"abc"</span> ï¼Œå®ƒçš„é•¿åº¦ä¸º <span class="token number">3</span> ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼štext1 <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">,</span> text2 <span class="token operator">=</span> <span class="token string">"def"</span>è¾“å‡ºï¼š<span class="token number">0</span>è§£é‡Šï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰å…¬å…±å­åºåˆ—ï¼Œè¿”å› <span class="token number">0</span> ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> text1<span class="token punctuation">.</span>length<span class="token punctuation">,</span> text2<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1000</span>text1 å’Œ text2 ä»…ç”±å°å†™è‹±æ–‡å­—ç¬¦ç»„æˆã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li><p>1ã€æœ¬é¢˜å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªä¸€ç»´æ•°ç»„è§£å†³é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äºŒç»´æ•°ç»„è§£å†³é—®é¢˜ï¼Œæ•…é€‰æ‹©ä½¿ç”¨äºŒç»´æ•°ç»„è§£å†³é—®é¢˜ã€‚</p></li><li><p>2ã€ä¼˜åŒ–ååŒä¹‹å‰åšçš„ä¸‰é¢˜ç›®ä¸€è‡´ï¼Œå¯ä»¥ä¼˜åŒ–ç©ºé—´ä¸ºä¸€ä¸ªåˆ—ä¸º 2 çš„æ•°ç»„ï¼Œè¡Œä¸º text2.size()çš„æ•°ç»„è¿›è¡Œä¼˜åŒ–ï¼Œç”±äºæ—¶é—´é—®é¢˜ï¼Œæš‚æ—¶ä½œä¸º TODOã€‚</p></li><li><p>3ã€ç ”ç©¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º: <code>text1[i] == text2[j] : ans[i][j] = ans[i - 1][j - 1] + 1 å³æ˜¯ s1[i] ä¸ s2[j] æ—¶æœ€é•¿å…¬å…±å­åºåˆ—çš„çš„é•¿åº¦.</code></p><p><code>text1[i] != text2[j] : ans[i][j] = max(ans[i - 1][j], ans[i][j - 1]ã€‚ä»£è¡¨å¿…ç„¶ä¸ä½¿ç”¨ s1[i](ä½†å¯èƒ½ä½¿ç”¨s2[j]) æ—¶å’Œå¿…ç„¶ä¸ä½¿ç”¨ s2[j](ä½†å¯èƒ½ä½¿ç”¨s1[i])æ—¶çš„é•¿åº¦ã€‚</code></p></li><li><p>4ã€ä½¿ç”¨ç©ºæ ¼æ˜¯èƒ½å¤Ÿæ›´å¥½çš„å¤„ç†è¾¹ç•Œæ¡ä»¶</p></li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">longestCommonSubsequence</span><span class="token punctuation">(</span>string text1<span class="token punctuation">,</span> string text2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> text1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> text2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    text1 <span class="token operator">=</span> <span class="token string">" "</span> <span class="token operator">+</span> text1<span class="token punctuation">;</span>        text2 <span class="token operator">=</span> <span class="token string">" "</span> <span class="token operator">+</span> text2<span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">ans</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>text1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> text2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">else</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> ans<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n * m)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n + m)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 56 673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°</title>
    <link href="/2021/11/04/Leetcode/91-day/day-56/"/>
    <url>/2021/11/04/Leetcode/91-day/day-56/</url>
    
    <content type="html"><![CDATA[<h1 id="198-æ‰“å®¶åŠ«èˆ"><a href="#198-æ‰“å®¶åŠ«èˆ" class="headerlink" title="198. æ‰“å®¶åŠ«èˆ"></a><a href="https://leetcode-cn.com/problems/house-robber/">198. æ‰“å®¶åŠ«èˆ</a></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°ã€‚ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">2</span>è§£é‡Š<span class="token operator">:</span> æœ‰ä¸¤ä¸ªæœ€é•¿é€’å¢å­åºåˆ—ï¼Œåˆ†åˆ«æ˜¯ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span> å’Œ<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>ã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">5</span>è§£é‡Š<span class="token operator">:</span> æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦æ˜¯<span class="token number">1</span>ï¼Œå¹¶ä¸”å­˜åœ¨<span class="token number">5</span>ä¸ªå­åºåˆ—çš„é•¿åº¦ä¸º<span class="token number">1</span>ï¼Œå› æ­¤è¾“å‡º<span class="token number">5</span>ã€‚æ³¨æ„<span class="token operator">:</span> ç»™å®šçš„æ•°ç»„é•¿åº¦ä¸è¶…è¿‡ <span class="token number">2000</span> å¹¶ä¸”ç»“æœä¸€å®šæ˜¯<span class="token number">32</span>ä½æœ‰ç¬¦å·æ•´æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜æ€è€ƒæœ‰ä¸¤ä¸ªéš¾ç‚¹ï¼šæ‰¾æœ€é•¿çš„é€’å¢åºåˆ—ï¼Œä»¥åŠèƒ½å¤Ÿè¾¾æˆæœ€é•¿é€’å¢åºåˆ—çš„æ•°ç»„çš„ä¸ªæ•°ã€‚</li><li>2ã€æœ‰ä¸€ç§åšæ³•æ˜¯æ ‘çŠ¶æ•°ç»„çš„åšæ³•ï¼Œç•™å¾…æ—¥åå­¦ä¹ ï¼Œç°åœ¨æ¶ˆåŒ–ä¸äº†ï¼Œç›®å‰ä½¿ç”¨çš„æ–¹æ³•æœ‰äº›éº»çƒ¦ã€‚</li><li>3ã€ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªè®°å½•æœ€é•¿çš„æ•°ç»„é•¿åº¦ï¼Œä¸€ä¸ªè®°å½•ä¸ªæ•°ï¼Œå…¨èµ‹å€¼ä¸º 1 å› ä¸ºæ¯ä¸€ä¸ªæ•°ç»„ä¸­çš„å€¼å‡ç‹¬ç«‹ï¼Œå¯è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„å­åºåˆ—ï¼Œè€Œåå¯¹åŒºé—´ [0, i)çš„æ‰€æœ‰æ•°è¿›è¡Œä¸€æ¬¡éå†ï¼Œå¯¹äºæ¯ä¸€ä¸ª nums[j] &lt; nums[i]ï¼Œè¯´æ˜ nums[i]å¯ä»¥æ·»åŠ åœ¨ nums[j]åé¢å½¢æˆä¸Šå‡å­åºåˆ—ï¼Œæ•…å¯æ›´æ–° len[i]çš„é•¿åº¦ä¸ mlen[i]ä¸­çš„ä¸ªæ•°ï¼Œæ­¤å€¼ä¸ºå¤„äº i å¤„æ—¶å€™ï¼Œlen[i]æœ€å¤§çš„é•¿åº¦ï¼Œä»¥åŠæ­¤æ—¶å­æ•°ç»„å†…æœ€å¤§é•¿åº¦çš„ä¸ªæ•°ï¼ŒåŒæ—¶ä½¿ç”¨ maxlen è¡¨ç¤ºåŸæ•°ç»„å†…æœ€å¤§é•¿åº¦çš„ä¸ªæ•°ã€‚</li><li>4ã€æœ€åå°†æœ€å¤§é•¿åº¦ç­‰äº maxlen çš„å€¼å¯¹åº”ä¿å­˜åœ¨ mlen æ•°ç»„ä¸­çš„ä½ç½®çš„æ•°ç›¸åŠ ï¼Œå³å¯å¾—åˆ°ç»“æœï¼Œè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œç¬¬ä¸€ä¸ªå¯èƒ½éš¾ä»¥çœ‹æ˜ç™½ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findNumberOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">len</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mlen</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> maxlen <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> len<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#123;</span>                        len<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                        mlen<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> mlen<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> len<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> mlen<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> mlen<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            maxlen <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxlen<span class="token punctuation">,</span> len<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> maxlen<span class="token punctuation">)</span> ans <span class="token operator">+=</span> mlen<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 55 198. æ‰“å®¶åŠ«èˆ</title>
    <link href="/2021/11/03/Leetcode/91-day/day-55/"/>
    <url>/2021/11/03/Leetcode/91-day/day-55/</url>
    
    <content type="html"><![CDATA[<h1 id="198-æ‰“å®¶åŠ«èˆ"><a href="#198-æ‰“å®¶åŠ«èˆ" class="headerlink" title="198. æ‰“å®¶åŠ«èˆ"></a><strong><a href="https://leetcode-cn.com/problems/house-robber/">198. æ‰“å®¶åŠ«èˆ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">4</span>è§£é‡Šï¼šå·çªƒ <span class="token number">1</span> å·æˆ¿å±‹ <span class="token punctuation">(</span>é‡‘é¢ <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> ï¼Œç„¶åå·çªƒ <span class="token number">3</span> å·æˆ¿å±‹ <span class="token punctuation">(</span>é‡‘é¢ <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span>ã€‚     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">4</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">12</span>è§£é‡Šï¼šå·çªƒ <span class="token number">1</span> å·æˆ¿å±‹ <span class="token punctuation">(</span>é‡‘é¢ <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> å·çªƒ <span class="token number">3</span> å·æˆ¿å±‹ <span class="token punctuation">(</span>é‡‘é¢ <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">)</span>ï¼Œæ¥ç€å·çªƒ <span class="token number">5</span> å·æˆ¿å±‹ <span class="token punctuation">(</span>é‡‘é¢ <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>ã€‚     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">12</span> ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token number">0</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">400</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€dpæ˜¯åŸæ¥æŒæ¡æœ€ç†Ÿç»ƒçš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºå¥½ä¹…æ²¡åˆ†æçŠ¶æ€æ–¹ç¨‹äº†ï¼Œå±…ç„¶é”™äº†è®¸å¤šæ¬¡ã€‚</li><li>2ã€æŠŠæ¡å¥½çŠ¶æ€æ–¹ç¨‹å³å¯è§£å†³é—®é¢˜ï¼Œåˆ†æä¸º dp[i] &#x3D; max(dp[i - 2] + nums[i], dp[i - 1]);</li><li>3ã€æ•…ä¼˜åŒ–ç©ºé—´åï¼Œè·Ÿfibä¸€æ ·åªéœ€è¦ç»´æŠ¤ä¸¤ä¸ªç©ºé—´å³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">rob</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> best <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> best<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 54 746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</title>
    <link href="/2021/11/02/Leetcode/91-day/day-54/"/>
    <url>/2021/11/02/Leetcode/91-day/day-54/</url>
    
    <content type="html"><![CDATA[<h1 id="746-ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯"><a href="#746-ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯" class="headerlink" title="746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯"></a><strong><a href="https://leetcode-cn.com/problems/min-cost-climbing-stairs/">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºä¸€ä¸ªé˜¶æ¢¯ï¼Œç¬¬ i ä¸ªé˜¶æ¢¯å¯¹åº”ç€ä¸€ä¸ªéè´Ÿæ•°çš„ä½“åŠ›èŠ±è´¹å€¼ cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span>ï¼ˆä¸‹æ ‡ä» <span class="token number">0</span> å¼€å§‹ï¼‰ã€‚æ¯å½“ä½ çˆ¬ä¸Šä¸€ä¸ªé˜¶æ¢¯ä½ éƒ½è¦èŠ±è´¹å¯¹åº”çš„ä½“åŠ›å€¼ï¼Œä¸€æ—¦æ”¯ä»˜äº†ç›¸åº”çš„ä½“åŠ›å€¼ï¼Œä½ å°±å¯ä»¥é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªé˜¶æ¢¯æˆ–è€…çˆ¬ä¸¤ä¸ªé˜¶æ¢¯ã€‚è¯·ä½ æ‰¾å‡ºè¾¾åˆ°æ¥¼å±‚é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚åœ¨å¼€å§‹æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º <span class="token number">0</span> æˆ– <span class="token number">1</span> çš„å…ƒç´ ä½œä¸ºåˆå§‹é˜¶æ¢¯ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šcost <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">15</span>è§£é‡Šï¼šæœ€ä½èŠ±è´¹æ˜¯ä» cost<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> å¼€å§‹ï¼Œç„¶åèµ°ä¸¤æ­¥å³å¯åˆ°é˜¶æ¢¯é¡¶ï¼Œä¸€å…±èŠ±è´¹ <span class="token number">15</span> ã€‚ ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šcost <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">6</span>è§£é‡Šï¼šæœ€ä½èŠ±è´¹æ–¹å¼æ˜¯ä» cost<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> å¼€å§‹ï¼Œé€ä¸ªç»è¿‡é‚£äº› <span class="token number">1</span> ï¼Œè·³è¿‡ cost<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> ï¼Œä¸€å…±èŠ±è´¹ <span class="token number">6</span> ã€‚ æç¤ºï¼šcost çš„é•¿åº¦èŒƒå›´æ˜¯ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span>ã€‚cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span> å°†ä¼šæ˜¯ä¸€ä¸ªæ•´å‹æ•°æ®ï¼ŒèŒƒå›´ä¸º <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">]</span> ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€è·Ÿæ–æ³¢é‚£å¥‘æ˜¯ä¸€æ ·çš„åŠ¨æ€è§„åˆ’é¢˜ç›®ï¼Œç”±äºæœ‰çˆ¬ä¸€å±‚è·Ÿçˆ¬ä¸¤å±‚çš„é€‰æ‹©ï¼Œæ‰€ä»¥åªéœ€è¦è¿”å›æ•°ç»„æœ€åä¸¤ä¸ªå€¼ä¸­è¾ƒå°çš„é‚£ä¸€ä¸ªå³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">minCostClimbingStairs</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> cost<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> cost<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> cost<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> cost<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mix <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> mix<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 53 Top View of a Tree</title>
    <link href="/2021/11/01/Leetcode/91-day/day-53/"/>
    <url>/2021/11/01/Leetcode/91-day/day-53/</url>
    
    <content type="html"><![CDATA[<h1 id="Top-View-of-a-Tree"><a href="#Top-View-of-a-Tree" class="headerlink" title="Top View of a Tree"></a><strong><a href="https://binarysearch.com/problems/Top-View-of-a-Tree">Top View of a Tree</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Given a binary tree root<span class="token punctuation">,</span> <span class="token keyword">return</span> the top view of the tree<span class="token punctuation">,</span> sorted left<span class="token operator">-</span>to<span class="token operator">-</span>right<span class="token punctuation">.</span>Constraintsn â‰¤ <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> where n is the number of nodes in rootExample <span class="token number">1</span>Inputroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span>        <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">]</span><span class="token punctuation">]</span>Output<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>ExplanationNote that directly above <span class="token number">4</span> is <span class="token number">1</span> <span class="token operator">and</span> directly above <span class="token number">5</span> is <span class="token number">3</span> so these are <span class="token operator">not</span> part of the top view<span class="token punctuation">.</span>Example <span class="token number">2</span>Inputroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">]</span><span class="token punctuation">]</span>Output<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜çš„æ„æ€ä¸ºè¿”å›é¡¶éƒ¨çš„è§†è§’ï¼Œå³ä¸ºè‡ªå·±å·¦å³å­©å­èŠ‚ç‚¹ï¼Œè¦†ç›–è‡ªå·±å·¦å­©å­èŠ‚ç‚¹çš„å³å­©å­èŠ‚ç‚¹ï¼Œè‡ªå·±å³å­©å­çš„èŠ‚ç‚¹çš„å·¦å­©å­èŠ‚ç‚¹çœ‹ä¸è§ï¼Œå³åªè¦æœ‰ç›¸åŒçš„ y å€¼ï¼ŒåŒä¸€å±‚çº§åªéœ€è¦åŠ å…¥å…¶ä¸­ x å€¼æœ€å¤§ä»¥åŠæœ€å°çš„é‚£ä¸¤ä¸ªèŠ‚ç‚¹ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/** * class Tree &#123; *     public: *         int val; *         Tree *left; *         Tree *right; * &#125;; */</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>Tree<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> up<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>up<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> up<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> up<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token operator">></span> h<span class="token punctuation">)</span> up<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>h<span class="token punctuation">,</span> root <span class="token operator">-></span> val<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>root <span class="token operator">-></span> left<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">dfs</span><span class="token punctuation">(</span>root <span class="token operator">-></span> right<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">solve</span><span class="token punctuation">(</span>Tree<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> up<span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> up<span class="token punctuation">)</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token operator">:</span> up<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 52 Shortest Cycle Containing Target Node</title>
    <link href="/2021/10/31/Leetcode/91-day/day-52/"/>
    <url>/2021/10/31/Leetcode/91-day/day-52/</url>
    
    <content type="html"><![CDATA[<h1 id="Shortest-Cycle-Containing-Target-Node"><a href="#Shortest-Cycle-Containing-Target-Node" class="headerlink" title="Shortest Cycle Containing Target Node"></a><strong><a href="https://binarysearch.com/problems/Shortest-Cycle-Containing-Target-Node">Shortest Cycle Containing Target Node</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">You are given a two<span class="token operator">-</span>dimensional list of integers graph representing a directed graph as an adjacency list<span class="token punctuation">.</span> You are also given an integer target<span class="token punctuation">.</span>Return the length of a shortest cycle that contains target<span class="token punctuation">.</span> If a solution does <span class="token operator">not</span> exist<span class="token punctuation">,</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1.</span>Constraintsn<span class="token punctuation">,</span> m â‰¤ <span class="token number">250</span> where n <span class="token operator">and</span> m are the number of rows <span class="token operator">and</span> columns in graphExample <span class="token number">1</span>InputVisualizegraph <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>target <span class="token operator">=</span> <span class="token number">0</span>Output<span class="token number">3</span>ExplanationThe nodes <span class="token number">0</span> <span class="token operator">-></span> <span class="token number">1</span> <span class="token operator">-></span> <span class="token number">2</span> <span class="token operator">-></span> <span class="token number">0</span> form a cycleExample <span class="token number">2</span>InputVisualizegraph <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>target <span class="token operator">=</span> <span class="token number">3</span>Output<span class="token operator">-</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€BFSï¼ŒæŸ¥çœ‹å…¶ä¸­çš„éå¯è§†åŒ–å‘ç°å›¾çš„å­˜å‚¨æ–¹å¼ä¸ºé‚»æ¥è¡¨ï¼Œæ‰€ä»¥æœ¬é¢˜çš„å›¾çš„ BFS å¥—ç”¨æ¨¡æ¿å³å¯è§£å†³é—®é¢˜ï¼›</li><li>2ã€æ‰«ææ•´ä¸ªå›¾ï¼Œç„¶ååˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹è·Ÿç›®æ ‡ t çš„å…³ç³»ï¼Œæœ‰ç›´æ¥ return trueï¼Œæœ€åæ‰¾ä¸åˆ°è¿”å› false;</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">solve</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> g<span class="token punctuation">,</span> <span class="token keyword">int</span> t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">vis</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> q<span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        ans<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> node <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> v <span class="token operator">:</span> g<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>v <span class="token operator">==</span> t<span class="token punctuation">)</span> <span class="token keyword">return</span> ans<span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//å¦‚æœæ˜¯æœªè®¿é—®èŠ‚ç‚¹ï¼Œ ç­‰ä»·äº vis[v] == 0</span>                <span class="token punctuation">&#123;</span>                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>                    vis<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n + e)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
      <tag>BFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 51 1162. åœ°å›¾åˆ†æ</title>
    <link href="/2021/10/30/Leetcode/91-day/day-51/"/>
    <url>/2021/10/30/Leetcode/91-day/day-51/</url>
    
    <content type="html"><![CDATA[<h1 id="1162-åœ°å›¾åˆ†æ"><a href="#1162-åœ°å›¾åˆ†æ" class="headerlink" title="1162. åœ°å›¾åˆ†æ"></a><strong><a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/">1162. åœ°å›¾åˆ†æ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º N x N çš„ ç½‘æ ¼ gridï¼Œä¸Šé¢çš„æ¯ä¸ª å•å…ƒæ ¼ éƒ½ç”¨ <span class="token number">0</span> å’Œ <span class="token number">1</span> æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ <span class="token number">0</span> ä»£è¡¨æµ·æ´‹ï¼Œ<span class="token number">1</span> ä»£è¡¨é™†åœ°ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ï¼Œè¿™ä¸ªæµ·æ´‹å•å…ƒæ ¼åˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°å•å…ƒæ ¼çš„è·ç¦»æ˜¯æœ€å¤§çš„ã€‚æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€Œæ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š<span class="token punctuation">(</span>x0<span class="token punctuation">,</span> y0<span class="token punctuation">)</span> å’Œ <span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span> è¿™ä¸¤ä¸ªå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»æ˜¯ <span class="token operator">|</span>x0 <span class="token operator">-</span> x1<span class="token operator">|</span> <span class="token operator">+</span> <span class="token operator">|</span>y0 <span class="token operator">-</span> y1<span class="token operator">|</span> ã€‚å¦‚æœç½‘æ ¼ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› <span class="token operator">-</span><span class="token number">1</span>ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼š æµ·æ´‹å•å…ƒæ ¼ <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º <span class="token number">2</span>ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">4</span>è§£é‡Šï¼š æµ·æ´‹å•å…ƒæ ¼ <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º <span class="token number">4</span>ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> grid<span class="token punctuation">.</span>length <span class="token operator">==</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">100</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> ä¸æ˜¯ <span class="token number">0</span> å°±æ˜¯ <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€BFSæ¿å­é¢˜ç›®ï¼Œåªéœ€è¦åŠ å…¥ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„åˆ¤æ–­æ¡ä»¶å³å¯</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> dis <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxDistance</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> grid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        deque<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> q<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">&#123;</span>                    q<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>i<span class="token punctuation">,</span> j<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ— é™†åœ°æˆ–è€…æµ·æ´‹åˆ™è¿”å›ï¼›</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> m <span class="token operator">*</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            ans<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> s <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>s<span class="token operator">--</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">auto</span> k <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> q<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> d <span class="token operator">:</span> dis<span class="token punctuation">)</span>                <span class="token punctuation">&#123;</span>                   <span class="token keyword">int</span> x <span class="token operator">=</span> k<span class="token punctuation">.</span>first <span class="token operator">+</span> d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                   <span class="token keyword">int</span> y <span class="token operator">=</span> k<span class="token punctuation">.</span>second <span class="token operator">+</span> d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token comment">// å¦‚æœæœç´¢åˆ°çš„æ–°åæ ‡è¶…å‡ºèŒƒå›´/é™†åœ°/å·²ç»éå†è¿‡ï¼Œåˆ™ä¸æœç´¢äº†</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> x <span class="token operator">>=</span> m <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">>=</span> n <span class="token operator">||</span> grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                    <span class="token comment">//æœç´¢åè®°ä¸º-1ï¼Œè¡¨ç¤ºä¸èƒ½å†é‡è§</span>                    grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                    q<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> y<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(m * n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
      <tag>BFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 50 695. å²›å±¿çš„æœ€å¤§é¢ç§¯</title>
    <link href="/2021/10/29/Leetcode/91-day/day-50/"/>
    <url>/2021/10/29/Leetcode/91-day/day-50/</url>
    
    <content type="html"><![CDATA[<h1 id="695-å²›å±¿çš„æœ€å¤§é¢ç§¯"><a href="#695-å²›å±¿çš„æœ€å¤§é¢ç§¯" class="headerlink" title="695. å²›å±¿çš„æœ€å¤§é¢ç§¯"></a><strong><a href="https://leetcode-cn.com/problems/max-area-of-island/">695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒè¿›åˆ¶çŸ©é˜µ grid ã€‚å²›å±¿ æ˜¯ç”±ä¸€äº›ç›¸é‚»çš„ <span class="token number">1</span> <span class="token punctuation">(</span>ä»£è¡¨åœŸåœ°<span class="token punctuation">)</span> æ„æˆçš„ç»„åˆï¼Œè¿™é‡Œçš„ã€Œç›¸é‚»ã€è¦æ±‚ä¸¤ä¸ª <span class="token number">1</span> å¿…é¡»åœ¨ æ°´å¹³æˆ–è€…ç«–ç›´çš„å››ä¸ªæ–¹å‘ä¸Š ç›¸é‚»ã€‚ä½ å¯ä»¥å‡è®¾ grid çš„å››ä¸ªè¾¹ç¼˜éƒ½è¢« <span class="token number">0</span>ï¼ˆä»£è¡¨æ°´ï¼‰åŒ…å›´ç€ã€‚å²›å±¿çš„é¢ç§¯æ˜¯å²›ä¸Šå€¼ä¸º <span class="token number">1</span> çš„å•å…ƒæ ¼çš„æ•°ç›®ã€‚è®¡ç®—å¹¶è¿”å› grid ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º <span class="token number">0</span> ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šgrid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>             <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">6</span>è§£é‡Šï¼šç­”æ¡ˆä¸åº”è¯¥æ˜¯ <span class="token number">11</span> ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´è¿™å››ä¸ªæ–¹å‘ä¸Šçš„ <span class="token number">1</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šgrid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">0</span> æç¤ºï¼šm <span class="token operator">==</span> grid<span class="token punctuation">.</span>lengthn <span class="token operator">==</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token number">1</span> <span class="token operator">&lt;=</span> m<span class="token punctuation">,</span> n <span class="token operator">&lt;=</span> <span class="token number">50</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> ä¸º <span class="token number">0</span> æˆ– <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€dfs å¸¸è§„è§£æ³•ï¼Œä½†æ˜¯é¢˜ç›®ä¸­ dfs åœ¨ main å‡½æ•°å†…é€’å½’ï¼Œå±€éƒ¨å˜é‡ä¸èƒ½é‡åï¼Œé‡åä¼šå¯¼è‡´é”™è¯¯ï¼</li><li>2ã€æœ¬é¢˜ç”±äºé¢˜ç›®è®¾ç½®æ˜¯å²›å±¿å¹¶ä½¿ç”¨ 0 æˆ– 1 è¡¨ç¤ºï¼Œæ•…å¯ä»¥ä¸è®¾ç½®è®¿é—®æ•°ç»„ï¼Œä¸€èˆ¬ dfs éœ€è¦è®¾ç½® bool ç±»å‹çš„è®¿é—®æ•°ç»„æ¥è¡¨ç¤ºæ˜¯å¦è®¿é—®æ­¤å•ä½ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxAreaOfIsland</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> grid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>                     ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> grid<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">>=</span> l <span class="token operator">||</span> i <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">>=</span> r <span class="token operator">||</span> j <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>             <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>        <span class="token punctuation">&#123;</span>            ans<span class="token operator">++</span><span class="token punctuation">;</span>            grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            ans <span class="token operator">+=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            ans <span class="token operator">+=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ans <span class="token operator">+=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            ans <span class="token operator">+=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(m * n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 49 52. Nçš‡å II</title>
    <link href="/2021/10/28/Leetcode/91-day/day-49/"/>
    <url>/2021/10/28/Leetcode/91-day/day-49/</url>
    
    <content type="html"><![CDATA[<h1 id="52-N-çš‡å-II"><a href="#52-N-çš‡å-II" class="headerlink" title="52. N çš‡å II"></a><strong><a href="https://leetcode-cn.com/problems/n-queens-ii/">52. N çš‡å II</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">n çš‡åé—®é¢˜ ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† n ä¸ªçš‡åæ”¾ç½®åœ¨ nÃ—n çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œè¿”å› n çš‡åé—®é¢˜ ä¸åŒçš„è§£å†³æ–¹æ¡ˆçš„æ•°é‡ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ<span class="token number">4</span> çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">1</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">9</span>çš‡åå½¼æ­¤ä¸èƒ½ç›¸äº’æ”»å‡»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šä»»ä½•ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€æ¡æ¨ªè¡Œã€çºµè¡Œæˆ–æ–œçº¿ä¸Šã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ•°æ®è§„æ¨¡ 1 - 9 ç›´æ¥æ‰“è¡¨æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥é¢å‘ç­”æ¡ˆç¼–ç¨‹ï¼</li><li>2ã€ä½¿ç”¨å›æº¯æ³• + DFSï¼Œåªè¦æ¨ªç«–æ–œä¸‰ä¸ªæ–¹å‘ä¸åœ¨ä¸€èµ·å³å¯ï¼Œå¦‚æœå‡åœ¨ä¸€èµ·ï¼Œåˆ™è¿”å› falseã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res<span class="token punctuation">;</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> res<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>col <span class="token operator">==</span> row<span class="token punctuation">)</span> ans<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">judge</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>                res<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">bool</span> <span class="token function">judge</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> res<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> n<span class="token punctuation">)</span> <span class="token operator">==</span> res<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">||</span> n <span class="token operator">==</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">totalNQueens</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* vector&lt;int> res = &#123;1, 0, 0 ,2, 10, 4, 40, 92, 352&#125;;        return res[n - 1]; */</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n!)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 48 401. äºŒè¿›åˆ¶æ‰‹è¡¨</title>
    <link href="/2021/10/27/Leetcode/91-day/day-48/"/>
    <url>/2021/10/27/Leetcode/91-day/day-48/</url>
    
    <content type="html"><![CDATA[<h1 id="401-äºŒè¿›åˆ¶æ‰‹è¡¨"><a href="#401-äºŒè¿›åˆ¶æ‰‹è¡¨" class="headerlink" title="401. äºŒè¿›åˆ¶æ‰‹è¡¨"></a><strong><a href="https://leetcode-cn.com/problems/binary-watch/">401. äºŒè¿›åˆ¶æ‰‹è¡¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">äºŒè¿›åˆ¶æ‰‹è¡¨é¡¶éƒ¨æœ‰ <span class="token number">4</span> ä¸ª LED ä»£è¡¨ å°æ—¶ï¼ˆ<span class="token number">0</span><span class="token operator">-</span><span class="token number">11</span>ï¼‰ï¼Œåº•éƒ¨çš„ <span class="token number">6</span> ä¸ª LED ä»£è¡¨ åˆ†é’Ÿï¼ˆ<span class="token number">0</span><span class="token operator">-</span><span class="token number">59</span>ï¼‰ã€‚æ¯ä¸ª LED ä»£è¡¨ä¸€ä¸ª <span class="token number">0</span> æˆ– <span class="token number">1</span>ï¼Œæœ€ä½ä½åœ¨å³ä¾§ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„äºŒè¿›åˆ¶æ‰‹è¡¨è¯»å– <span class="token string">"3:25"</span> ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° turnedOn ï¼Œè¡¨ç¤ºå½“å‰äº®ç€çš„ LED çš„æ•°é‡ï¼Œè¿”å›äºŒè¿›åˆ¶æ‰‹è¡¨å¯ä»¥è¡¨ç¤ºçš„æ‰€æœ‰å¯èƒ½æ—¶é—´ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚å°æ—¶ä¸ä¼šä»¥é›¶å¼€å¤´ï¼šä¾‹å¦‚ï¼Œ<span class="token string">"01:00"</span> æ˜¯æ— æ•ˆçš„æ—¶é—´ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ <span class="token string">"1:00"</span> ã€‚åˆ†é’Ÿå¿…é¡»ç”±ä¸¤ä½æ•°ç»„æˆï¼Œå¯èƒ½ä¼šä»¥é›¶å¼€å¤´ï¼šä¾‹å¦‚ï¼Œ<span class="token string">"10:2"</span> æ˜¯æ— æ•ˆçš„æ—¶é—´ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ <span class="token string">"10:02"</span> ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šturnedOn <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token string">"0:01"</span><span class="token punctuation">,</span><span class="token string">"0:02"</span><span class="token punctuation">,</span><span class="token string">"0:04"</span><span class="token punctuation">,</span><span class="token string">"0:08"</span><span class="token punctuation">,</span><span class="token string">"0:16"</span><span class="token punctuation">,</span><span class="token string">"0:32"</span><span class="token punctuation">,</span><span class="token string">"1:00"</span><span class="token punctuation">,</span><span class="token string">"2:00"</span><span class="token punctuation">,</span><span class="token string">"4:00"</span><span class="token punctuation">,</span><span class="token string">"8:00"</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šturnedOn <span class="token operator">=</span> <span class="token number">9</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> turnedOn <span class="token operator">&lt;=</span> <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä½¿ç”¨æ‰“è¡¨çš„æ–¹æ³•å¯èƒ½æ›´å¥½</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">count1</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            n <span class="token operator">=</span> n <span class="token operator">&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            k<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> k<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">readBinaryWatch</span><span class="token punctuation">(</span><span class="token keyword">int</span> turnedOn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span>string<span class="token operator">></span> ans<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">count1</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">count1</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">==</span> turnedOn<span class="token punctuation">)</span>                <span class="token punctuation">&#123;</span>                    ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">to_string</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>                                  <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">"0"</span><span class="token operator">+</span><span class="token function">to_string</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">to_string</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(1)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>traceback</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 47 Number of Operations to Decrement Target to Zero</title>
    <link href="/2021/10/26/Leetcode/91-day/day-47/"/>
    <url>/2021/10/26/Leetcode/91-day/day-47/</url>
    
    <content type="html"><![CDATA[<h1 id="Number-of-Operations-to-Decrement-Target-to-Zero"><a href="#Number-of-Operations-to-Decrement-Target-to-Zero" class="headerlink" title="Number of Operations to Decrement Target to Zero"></a><strong><a href="https://binarysearch.com/problems/Number-of-Operations-to-Decrement-Target-to-Zero">Number of Operations to Decrement Target to Zero</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">You are given a list of positive integers nums <span class="token operator">and</span> an integer target<span class="token punctuation">.</span>Consider an operation where we remove a number v from either the front <span class="token operator">or</span> the back of nums <span class="token operator">and</span> decrement target by v<span class="token punctuation">.</span>Return the minimum number of operations required to decrement target to zero<span class="token punctuation">.</span> If it<span class="token number">'</span>s <span class="token operator">not</span> possible<span class="token punctuation">,</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1.</span>Constraintsn â‰¤ <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> where n is the length of numsExample <span class="token number">1</span>Inputnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>target <span class="token operator">=</span> <span class="token number">7</span>Output<span class="token number">3</span>ExplanationWe can remove <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token number">5</span> from the back to decrement target to zero<span class="token punctuation">.</span>Example <span class="token number">2</span>Inputnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>target <span class="token operator">=</span> <span class="token number">7</span>Output<span class="token operator">-</span><span class="token number">1</span>ExplanationThere<span class="token number">'</span>s no way to decrement target <span class="token operator">=</span> <span class="token number">7</span> to zero<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ»‘åŠ¨çª—å£é¢˜ç›®ï¼Œæ•°ç»„éå†ä¸€æ¬¡æ±‚å’Œï¼Œåˆšå¥½ç›¸ç­‰åˆ™ä¸ç”¨å‡ã€‚</li><li>2ã€ä¸ç›¸ç­‰åˆ™å‡å»ç›®æ ‡å€¼ï¼Œå³ä¸ºæœ€å°‘éœ€è¦å»é™¤çš„å€¼ï¼Œä½¿ç”¨åŒæŒ‡é’ˆæ»‘åŠ¨ï¼Œå¦‚æœå¤§äºå»é™¤å€¼ï¼Œåˆ™å·¦æŒ‡é’ˆå‘å‰æ»‘åŠ¨ï¼Œç›¸ç­‰åˆ™å¯¹æ¯”ä¹‹å‰æ“ä½œçš„é•¿åº¦ï¼Œè®°å½•å…¶ä¸­æœ€å¤§çš„ç§»åŠ¨é•¿åº¦ï¼Œå³ä¸ºæœ€å°çš„ç§»åŠ¨åŒºé—´ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">solve</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sum<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> n<span class="token punctuation">;</span>sum <span class="token operator">-=</span> target<span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        total <span class="token operator">+=</span> nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>total <span class="token operator">></span> sum<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            total <span class="token operator">-=</span> nums<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">==</span> sum<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            pos <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> pos <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> n <span class="token operator">-</span> pos <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sliding window</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 46 76. æœ€å°è¦†ç›–å­ä¸²</title>
    <link href="/2021/10/25/Leetcode/91-day/day-46/"/>
    <url>/2021/10/25/Leetcode/91-day/day-46/</url>
    
    <content type="html"><![CDATA[<h1 id="76-æœ€å°è¦†ç›–å­ä¸²"><a href="#76-æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="76. æœ€å°è¦†ç›–å­ä¸²"></a><strong><a href="https://leetcode-cn.com/problems/minimum-window-substring/">76. æœ€å°è¦†ç›–å­ä¸²</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <span class="token string">""</span> ã€‚ æ³¨æ„ï¼šå¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"ADOBECODEBANC"</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token string">"ABC"</span>è¾“å‡ºï¼š<span class="token string">"BANC"</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token string">"a"</span>è¾“å‡ºï¼š<span class="token string">"a"</span>ç¤ºä¾‹ <span class="token number">3</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token string">"aa"</span>è¾“å‡º<span class="token operator">:</span> <span class="token string">""</span>è§£é‡Š<span class="token operator">:</span> t ä¸­ä¸¤ä¸ªå­—ç¬¦ <span class="token char">'a'</span> å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œå› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">,</span> t<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">105</span>s å’Œ t ç”±è‹±æ–‡å­—æ¯ç»„æˆ è¿›é˜¶ï¼šä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ <span class="token function">o</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜ä¾æ—§ä½¿ç”¨æ»‘åŠ¨çª—å£è§£æ³•ï¼Œé¢˜ç›®æ„æ€ä¸»è¦ä¸ºï¼Œåªè¦ t ä¸­çš„å¯¹åº”å­—æ¯çš„ä¸ªæ•°ï¼Œä¸åœ¨ s ä¸­æˆªå– p é•¿åº¦çš„é‚£ä¸€éƒ¨åˆ†çš„å­—æ¯ä¸ªæ•°ç›¸åŒï¼Œæ±‚å…¶ä¸­çš„æœ€å°åŒºé—´å³å¯ï¼</li><li>2ã€ä¸æ˜¨æ—¥é¢˜ç›®ä¸€æ ·ï¼Œæœ¬é¢˜ä½¿ç”¨ä¸¤ä¸ªå“ˆå¸Œè¡¨ä»£æ›¿ä¸¤ä¸ªæ•°ç»„ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    string <span class="token function">minWindow</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        unordered_map<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> wins<span class="token punctuation">,</span> wint<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> ch<span class="token operator">:</span> t<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            wint<span class="token punctuation">[</span>ch<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        string res<span class="token punctuation">;</span>        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            wins<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>wins<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> wint<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> count<span class="token operator">++</span> <span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>wins<span class="token punctuation">[</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">></span> wint<span class="token punctuation">[</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> wins<span class="token punctuation">[</span>s<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> m<span class="token punctuation">)</span>             <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> res<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                 <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_map</tag>
      
      <tag>sliding window</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 45 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</title>
    <link href="/2021/10/24/Leetcode/91-day/day-45/"/>
    <url>/2021/10/24/Leetcode/91-day/day-45/</url>
    
    <content type="html"><![CDATA[<h1 id="438-æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"><a href="#438-æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯" class="headerlink" title="438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"></a><strong><a href="https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/">438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„ å¼‚ä½è¯ çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚å¼‚ä½è¯ æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"cbaebabacd"</span><span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token string">"abc"</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>è§£é‡Š<span class="token operator">:</span>èµ·å§‹ç´¢å¼•ç­‰äº <span class="token number">0</span> çš„å­ä¸²æ˜¯ <span class="token string">"cba"</span><span class="token punctuation">,</span> å®ƒæ˜¯ <span class="token string">"abc"</span> çš„å¼‚ä½è¯ã€‚èµ·å§‹ç´¢å¼•ç­‰äº <span class="token number">6</span> çš„å­ä¸²æ˜¯ <span class="token string">"bac"</span><span class="token punctuation">,</span> å®ƒæ˜¯ <span class="token string">"abc"</span> çš„å¼‚ä½è¯ã€‚ ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"abab"</span><span class="token punctuation">,</span> p <span class="token operator">=</span> <span class="token string">"ab"</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è§£é‡Š<span class="token operator">:</span>èµ·å§‹ç´¢å¼•ç­‰äº <span class="token number">0</span> çš„å­ä¸²æ˜¯ <span class="token string">"ab"</span><span class="token punctuation">,</span> å®ƒæ˜¯ <span class="token string">"ab"</span> çš„å¼‚ä½è¯ã€‚èµ·å§‹ç´¢å¼•ç­‰äº <span class="token number">1</span> çš„å­ä¸²æ˜¯ <span class="token string">"ba"</span><span class="token punctuation">,</span> å®ƒæ˜¯ <span class="token string">"ab"</span> çš„å¼‚ä½è¯ã€‚èµ·å§‹ç´¢å¼•ç­‰äº <span class="token number">2</span> çš„å­ä¸²æ˜¯ <span class="token string">"ab"</span><span class="token punctuation">,</span> å®ƒæ˜¯ <span class="token string">"ab"</span> çš„å¼‚ä½è¯ã€‚ æç¤º<span class="token operator">:</span><span class="token number">1</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">,</span> p<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span>s å’Œ p ä»…åŒ…å«å°å†™å­—æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ¬é¢˜ä¾æ—§ä½¿ç”¨æ»‘åŠ¨çª—å£è§£æ³•ï¼Œé¢˜ç›®æ„æ€ä¸»è¦ä¸ºï¼Œåªè¦ p ä¸­çš„å¯¹åº”å­—æ¯çš„ä¸ªæ•°ï¼Œä¸åœ¨ s ä¸­æˆªå–  p é•¿åº¦çš„é‚£ä¸€éƒ¨åˆ†çš„å­—æ¯ä¸ªæ•°ç›¸åŒï¼Œå³ä¸ºå­—æ¯å¼‚ä½è¯ï¼</li><li>2ã€æ•…åªéœ€è¦å¼€è¾Ÿä¸‰ä¸ªæ•°ç»„å³å¯ï¼</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">findAnagrams</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> m<span class="token punctuation">)</span> <span class="token keyword">return</span> ans<span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">pin</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            pin<span class="token punctuation">[</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            sin<span class="token punctuation">[</span>s<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>r <span class="token operator">>=</span> m<span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                sin<span class="token punctuation">[</span>s<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>                 l<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>             <span class="token keyword">if</span><span class="token punctuation">(</span>pin <span class="token operator">==</span> sin<span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sliding window</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 44 837. æ–°21ç‚¹</title>
    <link href="/2021/10/23/Leetcode/91-day/day-44/"/>
    <url>/2021/10/23/Leetcode/91-day/day-44/</url>
    
    <content type="html"><![CDATA[<h1 id="837-æ–°-21-ç‚¹"><a href="#837-æ–°-21-ç‚¹" class="headerlink" title="837. æ–° 21 ç‚¹"></a><strong><a href="https://leetcode-cn.com/problems/new-21-game/">837. æ–° 21 ç‚¹</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">çˆ±ä¸½ä¸å‚ä¸ä¸€ä¸ªå¤§è‡´åŸºäºçº¸ç‰Œæ¸¸æˆ â€œ<span class="token number">21</span>ç‚¹â€ è§„åˆ™çš„æ¸¸æˆï¼Œæè¿°å¦‚ä¸‹ï¼šçˆ±ä¸½ä¸ä»¥ <span class="token number">0</span> åˆ†å¼€å§‹ï¼Œå¹¶åœ¨å¥¹çš„å¾—åˆ†å°‘äº K åˆ†æ—¶æŠ½å–æ•°å­—ã€‚ æŠ½å–æ—¶ï¼Œå¥¹ä» <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> W<span class="token punctuation">]</span> çš„èŒƒå›´ä¸­éšæœºè·å¾—ä¸€ä¸ªæ•´æ•°ä½œä¸ºåˆ†æ•°è¿›è¡Œç´¯è®¡ï¼Œå…¶ä¸­ W æ˜¯æ•´æ•°ã€‚ æ¯æ¬¡æŠ½å–éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå…¶ç»“æœå…·æœ‰ç›¸åŒçš„æ¦‚ç‡ã€‚å½“çˆ±ä¸½ä¸è·å¾—ä¸å°‘äº K åˆ†æ—¶ï¼Œå¥¹å°±åœæ­¢æŠ½å–æ•°å­—ã€‚ çˆ±ä¸½ä¸çš„åˆ†æ•°ä¸è¶…è¿‡ N çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šN <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> W <span class="token operator">=</span> <span class="token number">10</span>è¾“å‡ºï¼š<span class="token number">1.00000</span>è¯´æ˜ï¼šçˆ±ä¸½ä¸å¾—åˆ°ä¸€å¼ å¡ï¼Œç„¶ååœæ­¢ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šN <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> W <span class="token operator">=</span> <span class="token number">10</span>è¾“å‡ºï¼š<span class="token number">0.60000</span>è¯´æ˜ï¼šçˆ±ä¸½ä¸å¾—åˆ°ä¸€å¼ å¡ï¼Œç„¶ååœæ­¢ã€‚åœ¨ W <span class="token operator">=</span> <span class="token number">10</span> çš„ <span class="token number">6</span> ç§å¯èƒ½ä¸‹ï¼Œå¥¹çš„å¾—åˆ†ä¸è¶…è¿‡ N <span class="token operator">=</span> <span class="token number">6</span> åˆ†ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šN <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">,</span> W <span class="token operator">=</span> <span class="token number">10</span>è¾“å‡ºï¼š<span class="token number">0.73278</span> æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> K <span class="token operator">&lt;=</span> N <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> W <span class="token operator">&lt;=</span> <span class="token number">10000</span>å¦‚æœç­”æ¡ˆä¸æ­£ç¡®ç­”æ¡ˆçš„è¯¯å·®ä¸è¶…è¿‡ <span class="token number">10</span><span class="token operator">^</span><span class="token operator">-</span><span class="token number">5</span>ï¼Œåˆ™è¯¥ç­”æ¡ˆå°†è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆé€šè¿‡ã€‚æ­¤é—®é¢˜çš„åˆ¤æ–­é™åˆ¶æ—¶é—´å·²ç»å‡å°‘ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li><p>1ã€æœ¬é¢˜ä¸æ­¢ä½¿ç”¨æ»‘åŠ¨çª—å£é¢˜ç›®æ¥å‡å°æ•°æ®è®¡ç®—çš„é‡å¤åº¦ï¼Œè€Œä¸”éœ€è¦ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³é—®é¢˜çš„çŠ¶æ€æ–¹ç¨‹ã€‚</p></li><li><p>2ã€æœ¬é¢˜æ„æ€ä¸ºï¼Œä» 0 å¼€å§‹ï¼Œæ¯æ¬¡æ‰‹ä¸­çš„ç‰Œå¦‚æœå°äº xï¼Œåˆ™ä»[1, w]éšæœºæŠ½ä¸€å¼ ï¼Œæ¦‚ç‡äº’ç›¸ç‹¬ç«‹ï¼Œå‡ä¸º 1 &#x2F; wï¼Œä»¤ dp[x] è¡¨ç¤ºä»å¾—åˆ†ä¸º x çš„æƒ…å†µå¼€å§‹æ¸¸æˆå¹¶ä¸”è·èƒœçš„æ¦‚ç‡ï¼Œç›®æ ‡æ˜¯æ±‚ dp[0] çš„å€¼ã€‚æœ¬é¢˜ç›®æ€»ç»™äººä¸€ç§æ¡ä»¶æ¦‚ç‡æ±‚å…¶ä¸­æŸä¸€éƒ¨åˆ†çš„å…¨æ¦‚ç‡å…¬å¼çš„æ„Ÿè§‰ï¼Œå‰ä¸€æ¬¡æŠ½å–çš„ç»“æœä¼šå½±å“åˆ°ä¸‹ä¸€æ¬¡çš„æŠ½å–ç»“æœä»¥åŠç»“è®ºï¼Œåˆè·Ÿé©¬å°”ç§‘å¤«é“¾åŒå‡ºä¸€è¾™ï¼Œæœæ–­æŸ¥çœ‹ä¹¦ç±ï¼Œå‘ç°çš„ç¡®æ˜¯å¦‚æ­¤ï¼Œé‚£ä¹ˆåº”ç”¨é©¬å°”å¯å¤«é“¾çš„ç›¸å…³ç»“è®ºï¼Œå¯ä»¥å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹<br>  $$<br>  dp\left[ x \right] &#x3D;\frac{\sum_{i&#x3D;1}^w{dp\left[ x,,+,,i \right]}}{w}<br>  $$</p></li><li><p>3ã€æœ¬é¢˜åº”å±äºå›°éš¾çš„é¢˜ç›®ï¼Œæ€æƒ³æ–¹æ³•éš¾ä»¥ç†è§£ï¼Œéœ€è¦è¾ƒå¼ºçš„æ¦‚ç‡è®ºåŸºç¡€ã€‚</p></li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">double</span> <span class="token function">new21Game</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> dp<span class="token punctuation">[</span>k <span class="token operator">+</span> w<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>dp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> ans <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k <span class="token operator">+</span> w<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">&lt;=</span> n <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            ans <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ans <span class="token operator">/</span> w<span class="token punctuation">;</span>            ans <span class="token operator">=</span> ans <span class="token operator">-</span> dp<span class="token punctuation">[</span>i <span class="token operator">+</span> w<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n + k)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n + k)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sliding window</tag>
      
      <tag>Dynamic Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 43 1456. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®</title>
    <link href="/2021/10/22/Leetcode/91-day/day-43/"/>
    <url>/2021/10/22/Leetcode/91-day/day-43/</url>
    
    <content type="html"><![CDATA[<h1 id="1456-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"><a href="#1456-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®" class="headerlink" title="1456. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"></a><strong><a href="https://leetcode-cn.com/problems/maximum-number-of-vowels-in-a-substring-of-given-length/">1456. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ å­—ç¬¦ä¸² s å’Œæ•´æ•° k ã€‚è¯·è¿”å›å­—ç¬¦ä¸² s ä¸­é•¿åº¦ä¸º k çš„å•ä¸ªå­å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«çš„æœ€å¤§å…ƒéŸ³å­—æ¯æ•°ã€‚è‹±æ–‡ä¸­çš„ å…ƒéŸ³å­—æ¯ ä¸ºï¼ˆa<span class="token punctuation">,</span> e<span class="token punctuation">,</span> i<span class="token punctuation">,</span> o<span class="token punctuation">,</span> uï¼‰ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"abciiidef"</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">3</span>è§£é‡Šï¼šå­å­—ç¬¦ä¸² <span class="token string">"iii"</span> åŒ…å« <span class="token number">3</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"aeiou"</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šä»»æ„é•¿åº¦ä¸º <span class="token number">2</span> çš„å­å­—ç¬¦ä¸²éƒ½åŒ…å« <span class="token number">2</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"leetcode"</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼š<span class="token string">"lee"</span>ã€<span class="token string">"eet"</span> å’Œ <span class="token string">"ode"</span> éƒ½åŒ…å« <span class="token number">2</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"rhythms"</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token number">0</span>è§£é‡Šï¼šå­—ç¬¦ä¸² s ä¸­ä¸å«ä»»ä½•å…ƒéŸ³å­—æ¯ã€‚ç¤ºä¾‹ <span class="token number">5</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"tryhard"</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token number">1</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token operator">^</span><span class="token number">5</span>s ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ<span class="token number">1</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ»‘åŠ¨çª—å£é¢˜ç›®ï¼Œè®¾å®šçª—å£å¤§å°ä¸º kï¼Œä»å·¦è¾¹ä¸€æ­¥ä¸€æ­¥éå†åˆ°å³è¾¹ï¼Œæ¯éå†ä¸€æ­¥åˆ¤æ–­å¤´è·Ÿå°¾éƒ¨ï¼Œå¾…å‘½è¿˜èƒ½åˆ†æƒ…å†µè¿›è¡Œç®€åŒ–ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦åŸºæœ¬ä¸å˜</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">isvaild</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> ch <span class="token operator">==</span> <span class="token char">'a'</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token char">'e'</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token char">'i'</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token char">'o'</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token char">'u'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">maxVowels</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        deque<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span> ans<span class="token punctuation">;</span>        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isvaild</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> count<span class="token operator">++</span><span class="token punctuation">;</span> ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        tmp <span class="token operator">=</span> count<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isvaild</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> count<span class="token operator">--</span><span class="token punctuation">;</span> ans<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isvaild</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> count<span class="token operator">++</span><span class="token punctuation">;</span> ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> count<span class="token punctuation">)</span> tmp <span class="token operator">=</span> count<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sliding window</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 42 778. æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³</title>
    <link href="/2021/10/21/Leetcode/91-day/day-42/"/>
    <url>/2021/10/21/Leetcode/91-day/day-42/</url>
    
    <content type="html"><![CDATA[<h1 id="778-æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³"><a href="#778-æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³" class="headerlink" title="778. æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³"></a><strong><a href="https://leetcode-cn.com/problems/swim-in-rising-water/">778. æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åœ¨ä¸€ä¸ª N x N çš„åæ ‡æ–¹æ ¼ grid ä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ ¼çš„å€¼ grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> è¡¨ç¤ºåœ¨ä½ç½® <span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span> çš„å¹³å°é«˜åº¦ã€‚ç°åœ¨å¼€å§‹ä¸‹é›¨äº†ã€‚å½“æ—¶é—´ä¸º t æ—¶ï¼Œæ­¤æ—¶é›¨æ°´å¯¼è‡´æ°´æ± ä¸­ä»»æ„ä½ç½®çš„æ°´ä½ä¸º t ã€‚ä½ å¯ä»¥ä»ä¸€ä¸ªå¹³å°æ¸¸å‘å››å‘¨ç›¸é‚»çš„ä»»æ„ä¸€ä¸ªå¹³å°ï¼Œä½†æ˜¯å‰ææ˜¯æ­¤æ—¶æ°´ä½å¿…é¡»åŒæ—¶æ·¹æ²¡è¿™ä¸¤ä¸ªå¹³å°ã€‚å‡å®šä½ å¯ä»¥ç¬é—´ç§»åŠ¨æ— é™è·ç¦»ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤åœ¨æ–¹æ ¼å†…éƒ¨æ¸¸åŠ¨æ˜¯ä¸è€—æ—¶çš„ã€‚å½“ç„¶ï¼Œåœ¨ä½ æ¸¸æ³³çš„æ—¶å€™ä½ å¿…é¡»å¾…åœ¨åæ ‡æ–¹æ ¼é‡Œé¢ã€‚ä½ ä»åæ ‡æ–¹æ ¼çš„å·¦ä¸Šå¹³å° <span class="token punctuation">(</span><span class="token number">0</span>ï¼Œ<span class="token number">0</span><span class="token punctuation">)</span> å‡ºå‘ã€‚æœ€å°‘è€—æ—¶å¤šä¹…ä½ æ‰èƒ½åˆ°è¾¾åæ ‡æ–¹æ ¼çš„å³ä¸‹å¹³å° <span class="token punctuation">(</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>ï¼Ÿ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">3</span>è§£é‡Š<span class="token operator">:</span>æ—¶é—´ä¸º<span class="token number">0</span>æ—¶ï¼Œä½ ä½äºåæ ‡æ–¹æ ¼çš„ä½ç½®ä¸º <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>ã€‚æ­¤æ—¶ä½ ä¸èƒ½æ¸¸å‘ä»»æ„æ–¹å‘ï¼Œå› ä¸ºå››ä¸ªç›¸é‚»æ–¹å‘å¹³å°çš„é«˜åº¦éƒ½å¤§äºå½“å‰æ—¶é—´ä¸º <span class="token number">0</span> æ—¶çš„æ°´ä½ã€‚ç­‰æ—¶é—´åˆ°è¾¾ <span class="token number">3</span> æ—¶ï¼Œä½ æ‰å¯ä»¥æ¸¸å‘å¹³å° <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> å› ä¸ºæ­¤æ—¶çš„æ°´ä½æ˜¯ <span class="token number">3</span>ï¼Œåæ ‡æ–¹æ ¼ä¸­çš„å¹³å°æ²¡æœ‰æ¯”æ°´ä½ <span class="token number">3</span> æ›´é«˜çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ¸¸å‘åæ ‡æ–¹æ ¼ä¸­çš„ä»»æ„ä½ç½®ç¤ºä¾‹<span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">16</span>è§£é‡Š<span class="token operator">:</span> <span class="token number">0</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span><span class="token number">24</span> <span class="token number">23</span> <span class="token number">22</span> <span class="token number">21</span>  <span class="token number">5</span><span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span><span class="token number">11</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span><span class="token number">10</span>  <span class="token number">9</span>  <span class="token number">8</span>  <span class="token number">7</span>  <span class="token number">6</span>æœ€ç»ˆçš„è·¯çº¿ç”¨åŠ ç²—è¿›è¡Œäº†æ ‡è®°ã€‚æˆ‘ä»¬å¿…é¡»ç­‰åˆ°æ—¶é—´ä¸º <span class="token number">16</span>ï¼Œæ­¤æ—¶æ‰èƒ½ä¿è¯å¹³å° <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> å’Œ <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> æ˜¯è¿é€šçš„ æç¤º<span class="token operator">:</span><span class="token number">2</span> <span class="token operator">&lt;=</span> N <span class="token operator">&lt;=</span> <span class="token number">50.</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> æ˜¯ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> N <span class="token operator">*</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> çš„æ’åˆ—ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å…¶å®æœ€æƒ³ç”¨å¹¶æŸ¥é›†å»åšï¼Œä½†æ˜¯è€ƒè™‘åˆ°å®ç°æ–¹æ³•ä¸ºäºŒåˆ†çš„æ–¹æ³•ï¼Œæ‰€ä»¥è¿˜æ˜¯å°è¯•ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾+DFSéå†å›¾çš„åšæ³•åšï¼Œå¹¶æŸ¥é›†æ¯•ç«Ÿå¯ä»¥åˆ¤æ–­å›¾çš„è¿é€šæƒ…å†µã€‚</li><li>2ã€äºŒåˆ†æ³•çš„ç›®çš„ä¸ºå¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„æœ€çŸ­è·¯å¾„ï¼ŒDFSä¸ºå°è¯•èµ°åˆ°ç»ˆç‚¹ï¼Œé¢˜ç›®ä¸­ä¸ºä»æœ€å·¦ä¸Šåˆ°æœ€å³ä¸‹ï¼Œæ‰€ä»¥è¾¹ç•Œå€¼åº”è¯¥æ˜¯$n * n$ï¼Œå…¶ä¸­ä¸èƒ½é‡å¤èµ°èµ°è¿‡çš„è·¯ï¼Œæ‰€ä»¥è¦è®¾ç½®ä¸€ä¸ª bool ç±»å‹çš„æ ‡è®°çºªå½•ã€‚</li><li>3ã€dfså†™èµ·æ¥å…¶å®ç®€å•ï¼Œè¾¹ç•Œæ¡ä»¶è€ƒè™‘æ¸…æ¥šï¼Œåªæœ‰ä¸€ç§æƒ…å†µèƒ½return trueï¼Œå…¶ä»–éƒ½æ˜¯falseï¼Œæœ‰å››ä¸ªæ–¹å‘çš„å¯é€‰æ‹©æ€§ã€‚</li><li>4ã€æœ¬é¢˜æ¯”æ˜¨æ—¥å‰æ—¥çš„é¢˜ç›®ç®€å•ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">swimInWater</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> grid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> n <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">>></span> <span class="token function">vis</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span></span></span> <span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> vis<span class="token punctuation">,</span> n<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span><span class="token comment">//å¯è¾¾ï¼Œåå¤§</span>            <span class="token keyword">else</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//ä¸å¯è¾¾ï¼Œåå°</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> l<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">bool</span> <span class="token function">dfs</span><span class="token punctuation">(</span>            vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">,</span>             vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">>></span> <span class="token operator">&amp;</span>vis<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> i <span class="token operator">>=</span> n <span class="token operator">||</span> j <span class="token operator">>=</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> mid<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//åªæœ‰åˆ°ç»ˆç‚¹æ‰è¿”å›trueï¼›</span>            <span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> vis<span class="token punctuation">,</span> n<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">||</span>                    <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> vis<span class="token punctuation">,</span> n<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">||</span>                   <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> vis<span class="token punctuation">,</span> n<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span>                    <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> vis<span class="token punctuation">,</span> n<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO($n ^ 2 * logn$)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO($n ^ 2$)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>graph</tag>
      
      <tag>Binary Search</tag>
      
      <tag>UnionSet</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 41 822. Kth-Pair-Distance</title>
    <link href="/2021/10/20/Leetcode/91-day/day-41/"/>
    <url>/2021/10/20/Leetcode/91-day/day-41/</url>
    
    <content type="html"><![CDATA[<h1 id="822-Kth-Pair-Distance"><a href="#822-Kth-Pair-Distance" class="headerlink" title="822. Kth-Pair-Distance"></a><strong><a href="https://binarysearch.com/problems/Kth-Pair-Distance">822. Kth-Pair-Distance</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Given a list of integers nums <span class="token operator">and</span> an integer k<span class="token punctuation">,</span><span class="token keyword">return</span> the k<span class="token operator">-</span>th smallest <span class="token function">abs</span><span class="token punctuation">(</span>x <span class="token operator">-</span> y<span class="token punctuation">)</span> <span class="token keyword">for</span> every pair of <span class="token function">elements</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> in nums<span class="token punctuation">.</span> Note <span class="token function">that</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token function">and</span> <span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span> are considered the same pair<span class="token punctuation">.</span>Constraintsn â‰¤ <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> where n is the length of numsExample <span class="token number">1</span>Inputnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>k <span class="token operator">=</span> <span class="token number">3</span>Output<span class="token number">2</span>ExplanationHere are all the pair distances<span class="token operator">:</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>Sorted in ascending order we have <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€é¢˜ç›®ä¸ºæ±‚æ•°ç»„æ’åºä¹‹åç¬¬ k å¤§çš„è·ç¦»ï¼Œé¦–å…ˆæ’åºæ•°ç»„ï¼Œæœ€å¤§çš„è·ç¦»å³ä¸ºæ•°ç»„å¤´ä¸å°¾å€¼ä¹‹å·®, æœ€å°çš„è·ç¦»å½“ç„¶ä¸º0ï¼Œåœ¨æ­¤èŒƒå›´å†…å»æ‰¾å¯»ä¸€ä¸ªåˆç†çš„å€¼å³å¯ã€‚</li><li>2ã€ä½¿ç”¨äºŒåˆ†æ³•ï¼Œæ¯æ¬¡å– mid &#x3D; l + (r - l) &#x2F; 2ï¼Œå¯ä»¥å‡å°‘æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸ç„¶ä½¿ç”¨è®¡æ•°çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦åœ¨O($n^2$)ã€‚</li><li>3ã€æœ¬é¢˜ç›®ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­¦çš„æ€æƒ³å»è€ƒè™‘ï¼Œæ‰€æœ‰çš„è·ç¦»å¯¹ä¸ºä¸€å…±æœ‰$n(n-1)$ï¼Œæ‰€ä»¥åªè¦å¤§äºmidè·ç¦»çš„å¯¹æ•°æœ‰$n(n-1)$ - kï¼Œå³ä¸ºä¸åˆç†ã€‚ï¼ˆè¿˜æ˜¯æœ‰äº›ä¸œè¥¿æ²¡æƒ³æ˜ç™½ï¼Œå…ˆæ”¾ç€ï¼‰</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">isvaild</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> dis<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>         <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n <span class="token operator">||</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> dis<span class="token punctuation">)</span> j<span class="token operator">++</span><span class="token punctuation">;</span>            count <span class="token operator">+=</span> j <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> count <span class="token operator">>=</span> k<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token function">solve</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        k<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> nums<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isvaild</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token keyword">else</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> l<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Search</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 40 796. Minimum Light Radius</title>
    <link href="/2021/10/19/Leetcode/91-day/day-40/"/>
    <url>/2021/10/19/Leetcode/91-day/day-40/</url>
    
    <content type="html"><![CDATA[<h1 id="796-Minimum-Light-Radius"><a href="#796-Minimum-Light-Radius" class="headerlink" title="796. Minimum Light Radius"></a><strong><a href="https://binarysearch.com/problems/Minimum-Light-Radius">796. Minimum Light Radius</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">You are given a list of integers numsrepresenting coordinates of houses on a <span class="token number">1</span><span class="token operator">-</span>dimensional line<span class="token punctuation">.</span> You have <span class="token number">3</span> street lights that you can put anywhere on the coordinate line <span class="token operator">and</span> a light at coordinate x lights up houses in <span class="token punctuation">[</span>x <span class="token operator">-</span> r<span class="token punctuation">,</span> x <span class="token operator">+</span> r<span class="token punctuation">]</span><span class="token punctuation">,</span>inclusive<span class="token punctuation">.</span> Return the smallest r required such that we can place the <span class="token number">3</span> lights <span class="token operator">and</span> all the houses are lit up<span class="token punctuation">.</span>Constraintsn â‰¤ <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> where n is the length of numsExample <span class="token number">1</span>Inputnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>Output<span class="token number">0.5</span>ExplanationIf we place the lamps on <span class="token number">3.5</span><span class="token punctuation">,</span> <span class="token number">4.5</span> <span class="token operator">and</span> <span class="token number">5.5</span> then with r <span class="token operator">=</span> <span class="token number">0.5</span> we can light up all <span class="token number">4</span> houses<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ‰ç‚¹æ•°å­¦é—®é¢˜çš„å‘³é“äº†ï¼Œä½¿ç”¨ä¸¤ä¸ªäºŒåˆ†æœç´¢æ¥æ‰¾åˆ°å¯èƒ½çš„æœ€å°åŠå¾„ã€‚</li><li>2ã€ä¸€ä¸ªåˆ¤æ–­ä¸‰ä¸ªå€¼çš„èŒƒå›´èƒ½å¦å…¨è¦†ç›–æ•°ç»„çš„é•¿åº¦</li><li>3ã€ä¸€ä¸ªç”¨æ¥æ”¹å˜ç›´å¾„</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">isvaild</span><span class="token punctuation">(</span><span class="token keyword">double</span> diameter<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            l <span class="token operator">=</span> <span class="token function">upper_bound</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+</span> diameter<span class="token punctuation">)</span> <span class="token operator">-</span> nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ans<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">double</span> <span class="token function">solve</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> r <span class="token operator">=</span> nums<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> diameter <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isvaild</span><span class="token punctuation">(</span>diameter<span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> diameter<span class="token punctuation">;</span>            <span class="token keyword">else</span> l <span class="token operator">=</span> diameter <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> l <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Search</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 39 762.Number Stream to Intervals</title>
    <link href="/2021/10/18/Leetcode/91-day/day-39/"/>
    <url>/2021/10/18/Leetcode/91-day/day-39/</url>
    
    <content type="html"><![CDATA[<h1 id="762-Number-Stream-to-Intervals"><a href="#762-Number-Stream-to-Intervals" class="headerlink" title="762.Number Stream to Intervals"></a><strong><a href="https://binarysearch.com/problems/Triple-Inversion">762.Number Stream to Intervals</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Given a list of integers nums<span class="token punctuation">,</span> <span class="token keyword">return</span> the number of pairs i <span class="token operator">&lt;</span> j such that nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3.</span>Constraintsn â‰¤ <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> where n is the length of numsExample <span class="token number">1</span>Inputnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>Output<span class="token number">2</span>ExplanationWe have the <span class="token function">pairs</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">and</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ„é€ é€†åºå¯¹ï¼Œç„¶åè¿”å›é€†åºå¯¹çš„æ•°é‡ï¼Œä½¿ç”¨å½’å¹¶æ’åºæ¯”äºŒåˆ†æ³•æ›´åŠ åˆé€‚ï¼Œæ‰¾å‡ºæ¯ä¸ªå­åŒºé—´ä¸­ä¸€é¡¹å¤§äºå½“å‰ num * 3 çš„å€¼</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ans</span><span class="token punctuation">(</span>j <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> i<span class="token punctuation">,</span> r <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> r <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                ans<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>                l<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span>            <span class="token punctuation">&#123;</span>                ans<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>                r<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            cnt<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span> ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>r <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> j<span class="token punctuation">)</span> nums<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>r <span class="token operator">&lt;=</span> l<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        ans <span class="token operator">+=</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>        ans <span class="token operator">+=</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> l<span class="token punctuation">;</span>        <span class="token keyword">int</span> q <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>p <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> q <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>q<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                ans <span class="token operator">+=</span> <span class="token punctuation">(</span>mid <span class="token operator">-</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                q<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span> p<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">merge</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">solve</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mergeSort</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 38 278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬</title>
    <link href="/2021/10/17/Leetcode/91-day/day-38/"/>
    <url>/2021/10/17/Leetcode/91-day/day-38/</url>
    
    <content type="html"><![CDATA[<h1 id="278-ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬"><a href="#278-ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬" class="headerlink" title="278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬"></a><strong><a href="https://leetcode-cn.com/problems/first-bad-version/">278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä½ æ˜¯äº§å“ç»ç†ï¼Œç›®å‰æ­£åœ¨å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿå¼€å‘æ–°çš„äº§å“ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„äº§å“çš„æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰é€šè¿‡è´¨é‡æ£€æµ‹ã€‚ç”±äºæ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºä¹‹å‰çš„ç‰ˆæœ¬å¼€å‘çš„ï¼Œæ‰€ä»¥é”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ã€‚å‡è®¾ä½ æœ‰ n ä¸ªç‰ˆæœ¬ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> n<span class="token punctuation">]</span>ï¼Œä½ æƒ³æ‰¾å‡ºå¯¼è‡´ä¹‹åæ‰€æœ‰ç‰ˆæœ¬å‡ºé”™çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ <span class="token keyword">bool</span> <span class="token function">isBadVersion</span><span class="token punctuation">(</span>version<span class="token punctuation">)</span> æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· version æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚å®ç°ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ åº”è¯¥å°½é‡å‡å°‘å¯¹è°ƒç”¨ API çš„æ¬¡æ•°ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> bad <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token number">4</span>è§£é‡Šï¼šè°ƒç”¨ <span class="token function">isBadVersion</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token boolean">false</span> è°ƒç”¨ <span class="token function">isBadVersion</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token boolean">true</span> è°ƒç”¨ <span class="token function">isBadVersion</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token boolean">true</span>æ‰€ä»¥ï¼Œ<span class="token number">4</span> æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> bad <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">1</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> bad <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">^</span><span class="token number">31</span> <span class="token operator">-</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€è¿™é‡Œè¦æ³¨æ„ï¼Œå½“APIæ¥å£è¿”å›trueæ—¶ï¼Œä¸ä¸€å®šæ˜¯æ‰¾åˆ°äº†ç›®æ ‡ä½ç½®ï¼Œè¿˜éœ€è¦ç»§ç»­å‘å‰æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªæœ‰é—®é¢˜çš„ç›®æ ‡ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// The API isBadVersion is defined for you.</span><span class="token comment">// bool isBadVersion(int version);</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">firstBadVersion</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> n<span class="token punctuation">;</span>      <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>      <span class="token punctuation">&#123;</span>          <span class="token keyword">int</span> mid <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isBadVersion</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>          <span class="token keyword">else</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> l<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Search</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 37 69. Sqrt(x)</title>
    <link href="/2021/10/16/Leetcode/91-day/day-37/"/>
    <url>/2021/10/16/Leetcode/91-day/day-37/</url>
    
    <content type="html"><![CDATA[<h1 id="69-Sqrt-x"><a href="#69-Sqrt-x" class="headerlink" title="69. Sqrt(x)"></a><strong><a href="https://leetcode-cn.com/problems/sqrtx/">69. Sqrt(x)</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° x ï¼Œè®¡ç®—å¹¶è¿”å› x çš„ ç®—æœ¯å¹³æ–¹æ ¹ ã€‚ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ æ•´æ•°éƒ¨åˆ† ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« èˆå» ã€‚æ³¨æ„ï¼šä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚ <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span> æˆ–è€… x <span class="token operator">*</span><span class="token operator">*</span> <span class="token number">0.5</span> ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šx <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token number">2</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šx <span class="token operator">=</span> <span class="token number">8</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼š<span class="token number">8</span> çš„ç®—æœ¯å¹³æ–¹æ ¹æ˜¯ <span class="token number">2.82842</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚ æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token operator">^</span><span class="token number">31</span> <span class="token operator">-</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€äºŒåˆ†æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªå«åšç‰›é¡¿è¿­ä»£æ³•è·Ÿçº¢è“æ³•ï¼Œæ²¡ç ”ç©¶ï¼Œåé¢ç ”ç©¶ç ”ç©¶</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">mySqrt</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> x<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">long</span> <span class="token keyword">long</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>mid <span class="token operator">&lt;=</span> x <span class="token operator">/</span>mid<span class="token punctuation">)</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token keyword">else</span> r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> l<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><p>â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Search</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 36 912. æ’åºæ•°ç»„</title>
    <link href="/2021/10/15/Leetcode/91-day/day-36/"/>
    <url>/2021/10/15/Leetcode/91-day/day-36/</url>
    
    <content type="html"><![CDATA[<h1 id="912-æ’åºæ•°ç»„"><a href="#912-æ’åºæ•°ç»„" class="headerlink" title="912. æ’åºæ•°ç»„"></a><strong><a href="https://leetcode-cn.com/problems/sort-an-array/">912. æ’åºæ•°ç»„</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ å°†è¯¥æ•°ç»„å‡åºæ’åˆ—ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token operator">-</span><span class="token number">50000</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">50000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æœ€ç®€å•çš„æ˜¯è°ƒç”¨åº“å‡½æ•°ï¼Œä½†è¿™æ ·çš„å†™æ³•æ˜¾ç„¶æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œæ‰€ä»¥æ­¤å¤„å¤ç°æ‰€æœ‰çš„æ’åºç®—æ³•ï¼Œåˆšå¥½ä¹Ÿèƒ½ç»ƒä¹ ä»¥é˜²æ­¢è€ƒç ”è¿‡ç¨‹ä¸­å‡ºç°ç›¸åº”çš„é—®é¢˜ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sortArray</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//sort(nums.begin(), nums.end());</span>        <span class="token comment">//return nums;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å†’æ³¡æ’åº è¶…æ—¶</span>        <span class="token comment">/* for(int i = 0; i &lt; n; i++)        &#123;            bool flag = false;            for(int j = n - 2; j >= i; j--)            &#123;                if(nums[j] > nums[j + 1])                &#123;                    swap(nums[j], nums[j + 1]);                    flag = true;                &#125;            &#125;            if(flag == false)break;        &#125; */</span>        <span class="token comment">//æ’å…¥æ’åº è¶…æ—¶</span>        <span class="token comment">/* for(int i = 0; i &lt; n - 1; i++)        &#123;            int min = i;            for(int j = i + 1; j &lt; n; j++)            &#123;                if(nums[min] > nums[j]) min = j;            &#125;            if(min != i) swap(nums[i], nums[min]);        &#125; */</span>        <span class="token comment">//å¿«æ’ å¤±è´¥</span>        <span class="token comment">/* dfs(0, n - 1, nums); */</span>        <span class="token comment">//å †æ’åº</span>        <span class="token comment">/* for(int i = 0; i &lt; n; i++)        &#123;            int pos = i;            int mid = (pos - 1)/2;            while(nums[pos] > nums[mid])            &#123;                swap(nums[pos], nums[mid]);                pos = mid;                mid = (pos - 1) / 2;            &#125;        &#125;        for(int j = n - 1; j >= 0; j--)        &#123;            swap(nums[0], nums[j]);            heapsort(nums,0,j);        &#125; */</span>        <span class="token comment">//è®¡æ•°æ’åº</span>        <span class="token keyword">int</span> minn <span class="token operator">=</span> <span class="token operator">*</span><span class="token function">min_element</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token operator">*</span><span class="token function">max_element</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ans</span><span class="token punctuation">(</span>maxn <span class="token operator">-</span> minn <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">:</span> nums<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">[</span>i <span class="token operator">-</span> minn<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                nums<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> minn<span class="token punctuation">;</span>                ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> nums<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/* void dfs(int start, int end, vector&lt;int>&amp; nums) &#123;        if(start > end) return;        int i = start, j = end;        while(i &lt; j)        &#123;            while(nums[j] >= nums[start] &amp;&amp; i &lt; j) j--;            while(nums[i] &lt;= nums[start] &amp;&amp; i &lt; j) i++;            if(i &lt; j) swap(nums[i], nums[j]);        &#125;        swap(nums[start], nums[i]);        dfs(start, i - 1, nums);        dfs(i + 1, end, nums);    &#125; */</span>   <span class="token comment">/*  void heapsort(vector&lt;int>&amp; nums, int pos, int n)    &#123;        int l = pos * 2 + 1, r = pos * 2 + 2;        while(l &lt; n)        &#123;            int big = pos;            if(l &lt; n &amp;&amp; nums[l] > nums[big]) big = l;            if(r &lt; n &amp;&amp; nums[r] > nums[big]) big = r;            if(big == pos) break;            swap(nums[pos], nums[big]);            pos = big;            l = pos * 2 + 1, r = pos * 2 + 2;        &#125;    &#125; */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) å †æ’åº</p><p>â€‹ O(n) è®¡æ•°æ’åº</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1) å †æ’åº</p><p>â€‹ O(n) åŸºæ•°æ’åº</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sort</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Centos 8.2 ä¸­ Git å®‰è£…</title>
    <link href="/2021/10/15/middleware/git/"/>
    <url>/2021/10/15/middleware/git/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€å®‰è£…ä¾èµ–åŒ…"><a href="#ä¸€ã€å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="ä¸€ã€å®‰è£…ä¾èµ–åŒ…"></a>ä¸€ã€å®‰è£…ä¾èµ–åŒ…</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ç³»ç»Ÿä¸º centos8.2 ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šå‡ºç°ç³»ç»Ÿç‰ˆæœ¬ä¸å…¼å®¹ç­‰é—®é¢˜ï¼<span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">make</span> autoconf automake cmake perl-CPAN libcurl-devel libtool gcc gcc-c++ glibc-headers zlib-devel git-lfs telnet ctags lrzsz jq expat-devel openssl-devel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h2 id="äºŒã€å®‰è£…æ–°ç‰ˆgitåŒ…"><a href="#äºŒã€å®‰è£…æ–°ç‰ˆgitåŒ…" class="headerlink" title="äºŒã€å®‰è£…æ–°ç‰ˆgitåŒ…"></a>äºŒã€å®‰è£…æ–°ç‰ˆgitåŒ…</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /tmp<span class="token function">wget</span> https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.30.2.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-xvzf</span> git-2.30.2.tar.gz<span class="token builtin class-name">cd</span> git-2.30.2/./configure<span class="token function">make</span><span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span class="token function">git</span> <span class="token parameter variable">--version</span>          <span class="token comment"># è¾“å‡º git ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ</span><span class="token function">git</span> version <span class="token number">2.30</span>.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="ä¸‰ã€"><a href="#ä¸‰ã€" class="headerlink" title="ä¸‰ã€"></a>ä¸‰ã€</h2><h2 id="ä¸€äº›æ“ä½œ"><a href="#ä¸€äº›æ“ä½œ" class="headerlink" title="ä¸€äº›æ“ä½œ"></a>ä¸€äº›æ“ä½œ</h2><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"> <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">"chaggle"</span>  ç”¨æˆ·åæ”¹æˆè‡ªå·±çš„ <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">"chaggle@foxmail.com"</span> é‚®ç®±æ”¹æˆè‡ªå·±çš„ <span class="token function">git</span> config <span class="token parameter variable">--global</span> credential.helper store  <span class="token function">git</span> config <span class="token parameter variable">--global</span> core.longpaths <span class="token boolean">true</span> <span class="token comment"># åœ¨ Git ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠé ASCII å­—ç¬¦å«åš Unusual å­—ç¬¦ã€‚è¿™ç±»å­—ç¬¦åœ¨ Git è¾“å‡ºåˆ°ç»ˆç«¯çš„æ—¶å€™é»˜è®¤æ˜¯ç”¨ 8 è¿›åˆ¶è½¬ä¹‰å­—ç¬¦è¾“å‡ºçš„ï¼ˆä»¥é˜²ä¹±ç ï¼‰ï¼Œä½†ç°åœ¨çš„ç»ˆç«¯å¤šæ•°éƒ½æ”¯æŒç›´æ¥æ˜¾ç¤ºé ASCII å­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…³é—­æ‰è¿™ä¸ªç‰¹æ€§</span><span class="token function">git</span> config <span class="token parameter variable">--global</span> core.quotepath off<span class="token comment"># è®¿é—® github.com å¤ªæ…¢ï¼Œå¯ä»¥é€šè¿‡å›½å†… GitHub é•œåƒç½‘ç«™æ¥è®¿é—®</span><span class="token function">git</span> config <span class="token parameter variable">--global</span> url.<span class="token string">"https://gitclone.com/"</span>.insteadOf <span class="token string">"https://"</span><span class="token comment"># GitHub é™åˆ¶æœ€å¤§åªèƒ½å…‹éš† 100M çš„å•ä¸ªæ–‡ä»¶ï¼Œä¸ºäº†èƒ½å¤Ÿå…‹éš†å¤§äº 100M çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£… Git Large File Storage</span><span class="token function">git</span> lfs <span class="token function">install</span> --skip-repo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å››ã€Github-ä»£ç†é…ç½®"><a href="#å››ã€Github-ä»£ç†é…ç½®" class="headerlink" title="å››ã€Github ä»£ç†é…ç½®"></a>å››ã€Github ä»£ç†é…ç½®</h2><p>è¿™é‡Œåšä¸»ä¸ºäº†ç¨³å®šæ€§è€ƒè™‘ï¼Œåªæ¨è <a href="https://gitclone.com/">https://gitclone.com</a> ç½‘ç«™ï¼Œå…¶ä½™çš„ä»£ç†éƒ½å®¹æ˜“å¤±æ•ˆ</p><figure><div class="code-wrapper"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#åŸåœ°å€</span><span class="token function">git</span> clone https://github.com/kubernetes/kubernetes.git<span class="token comment">#æ”¹ä¸º</span><span class="token function">git</span> clone https://gitclone.com/github.com/kubernetes/kubernetes.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä½†æ˜¯æäº¤gitä»“å‚¨æ—¶å€™ï¼Œéœ€è¦å°†ä»£ç†åœ°å€è¿›è¡Œè¿˜åŸï¼Œå¦åˆ™å°±ä¼šä¸Šä¼ åˆ°ä»£ç†åœ°å€çš„ git åœ°å€ï¼</p><h2 id="äº”ã€å…³äº-HTTPS-ä¸-SSH-git-clone-ç¨³å®šæ€§é—®é¢˜"><a href="#äº”ã€å…³äº-HTTPS-ä¸-SSH-git-clone-ç¨³å®šæ€§é—®é¢˜" class="headerlink" title="äº”ã€å…³äº HTTPS ä¸ SSH git clone ç¨³å®šæ€§é—®é¢˜"></a>äº”ã€å…³äº HTTPS ä¸ SSH git clone ç¨³å®šæ€§é—®é¢˜</h2><p>ä¸€èˆ¬å»ºè®®ç½‘ç»œç¯å¢ƒå‹å¥½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ HTTPS åè®®ï¼Œé…ç½®ç®€å•ï¼Œè€Œç½‘ç»œç¯å¢ƒå·®çš„æƒ…å†µä¸‹ä½¿ç”¨ SSH åè®®ï¼Œå› ä¸º SSH å»ºç«‹çš„ä¼ è¾“é“¾æ¥ä¸å®¹æ˜“ä¸¢å¤±ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 35 1737. æ»¡è¶³ä¸‰æ¡ä»¶ä¹‹ä¸€éœ€æ”¹å˜çš„æœ€å°‘å­—ç¬¦æ•°</title>
    <link href="/2021/10/14/Leetcode/91-day/day-35/"/>
    <url>/2021/10/14/Leetcode/91-day/day-35/</url>
    
    <content type="html"><![CDATA[<h1 id="1737-æ»¡è¶³ä¸‰æ¡ä»¶ä¹‹ä¸€éœ€æ”¹å˜çš„æœ€å°‘å­—ç¬¦æ•°"><a href="#1737-æ»¡è¶³ä¸‰æ¡ä»¶ä¹‹ä¸€éœ€æ”¹å˜çš„æœ€å°‘å­—ç¬¦æ•°" class="headerlink" title="1737. æ»¡è¶³ä¸‰æ¡ä»¶ä¹‹ä¸€éœ€æ”¹å˜çš„æœ€å°‘å­—ç¬¦æ•°"></a><strong><a href="https://leetcode-cn.com/problems/change-minimum-characters-to-satisfy-one-of-three-conditions/">1737. æ»¡è¶³ä¸‰æ¡ä»¶ä¹‹ä¸€éœ€æ”¹å˜çš„æœ€å°‘å­—ç¬¦æ•°</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² a å’Œ b ï¼ŒäºŒè€…å‡ç”±å°å†™å­—æ¯ç»„æˆã€‚ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å¯ä»¥å°† a æˆ– b ä¸­çš„ ä»»ä¸€å­—ç¬¦ æ”¹å˜ä¸º ä»»ä¸€å°å†™å­—æ¯ ã€‚æ“ä½œçš„æœ€ç»ˆç›®æ ‡æ˜¯æ»¡è¶³ä¸‹åˆ—ä¸‰ä¸ªæ¡ä»¶ ä¹‹ä¸€ ï¼ša ä¸­çš„ æ¯ä¸ªå­—æ¯ åœ¨å­—æ¯è¡¨ä¸­ ä¸¥æ ¼å°äº b ä¸­çš„ æ¯ä¸ªå­—æ¯ ã€‚b ä¸­çš„ æ¯ä¸ªå­—æ¯ åœ¨å­—æ¯è¡¨ä¸­ ä¸¥æ ¼å°äº a ä¸­çš„ æ¯ä¸ªå­—æ¯ ã€‚a å’Œ b éƒ½ ç”± åŒä¸€ä¸ª å­—æ¯ç»„æˆã€‚è¿”å›è¾¾æˆç›®æ ‡æ‰€éœ€çš„ æœ€å°‘ æ“ä½œæ•°ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼ša <span class="token operator">=</span> <span class="token string">"aba"</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token string">"caa"</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šæ»¡è¶³æ¯ä¸ªæ¡ä»¶çš„æœ€ä½³æ–¹æ¡ˆåˆ†åˆ«æ˜¯ï¼š<span class="token number">1</span><span class="token punctuation">)</span> å°† b å˜ä¸º <span class="token string">"ccc"</span>ï¼Œ<span class="token number">2</span> æ¬¡æ“ä½œï¼Œæ»¡è¶³ a ä¸­çš„æ¯ä¸ªå­—æ¯éƒ½å°äº b ä¸­çš„æ¯ä¸ªå­—æ¯ï¼›<span class="token number">2</span><span class="token punctuation">)</span> å°† a å˜ä¸º <span class="token string">"bbb"</span> å¹¶å°† b å˜ä¸º <span class="token string">"aaa"</span>ï¼Œ<span class="token number">3</span> æ¬¡æ“ä½œï¼Œæ»¡è¶³ b ä¸­çš„æ¯ä¸ªå­—æ¯éƒ½å°äº a ä¸­çš„æ¯ä¸ªå­—æ¯ï¼›<span class="token number">3</span><span class="token punctuation">)</span> å°† a å˜ä¸º <span class="token string">"aaa"</span> å¹¶å°† b å˜ä¸º <span class="token string">"aaa"</span>ï¼Œ<span class="token number">2</span> æ¬¡æ“ä½œï¼Œæ»¡è¶³ a å’Œ b ç”±åŒä¸€ä¸ªå­—æ¯ç»„æˆã€‚æœ€ä½³çš„æ–¹æ¡ˆåªéœ€è¦ <span class="token number">2</span> æ¬¡æ“ä½œï¼ˆæ»¡è¶³æ¡ä»¶ <span class="token number">1</span> æˆ–è€…æ¡ä»¶ <span class="token number">3</span>ï¼‰ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼ša <span class="token operator">=</span> <span class="token string">"dabadd"</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token string">"cda"</span>è¾“å‡ºï¼š<span class="token number">3</span>è§£é‡Šï¼šæ»¡è¶³æ¡ä»¶ <span class="token number">1</span> çš„æœ€ä½³æ–¹æ¡ˆæ˜¯å°† b å˜ä¸º <span class="token string">"eee"</span> ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">,</span> b<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">105</span>a å’Œ b åªç”±å°å†™å­—æ¯ç»„æˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å‰ç¼€å’Œä»¥åŠè®¡æ•°çš„æ€æƒ³</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">minCharacters</span><span class="token punctuation">(</span>string a<span class="token punctuation">,</span> string b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> r<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> x <span class="token operator">:</span> a<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            l<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> x <span class="token operator">:</span> b<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            r<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> ls <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> rs <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> n <span class="token operator">+</span> m<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            ls <span class="token operator">+=</span> l<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            rs <span class="token operator">+=</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span>n <span class="token operator">+</span> m <span class="token operator">-</span> l<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> n <span class="token operator">-</span> ls <span class="token operator">+</span> rs<span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">-</span> rs <span class="token operator">+</span> ls<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> n <span class="token operator">+</span> m <span class="token operator">-</span> l<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span> <span class="token operator">-</span> r<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>prefix</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 34 1904. ä½ å®Œæˆçš„å®Œæ•´å¯¹å±€æ•°</title>
    <link href="/2021/10/13/Leetcode/91-day/day-34/"/>
    <url>/2021/10/13/Leetcode/91-day/day-34/</url>
    
    <content type="html"><![CDATA[<h1 id="1904-ä½ å®Œæˆçš„å®Œæ•´å¯¹å±€æ•°"><a href="#1904-ä½ å®Œæˆçš„å®Œæ•´å¯¹å±€æ•°" class="headerlink" title="1904. ä½ å®Œæˆçš„å®Œæ•´å¯¹å±€æ•°"></a><strong><a href="https://leetcode-cn.com/problems/the-number-of-full-rounds-you-have-played/">1904. ä½ å®Œæˆçš„å®Œæ•´å¯¹å±€æ•°</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä¸€æ¬¾æ–°çš„åœ¨çº¿ç”µå­æ¸¸æˆåœ¨è¿‘æœŸå‘å¸ƒï¼Œåœ¨è¯¥ç”µå­æ¸¸æˆä¸­ï¼Œä»¥åˆ»é’Ÿä¸ºå‘¨æœŸè§„åˆ’è‹¥å¹²æ—¶é•¿ä¸º <span class="token number">15</span> åˆ†é’Ÿçš„æ¸¸æˆå¯¹å±€ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ HH<span class="token operator">:</span><span class="token number">00</span>ã€HH<span class="token operator">:</span><span class="token number">15</span>ã€HH<span class="token operator">:</span><span class="token number">30</span> å’Œ HH<span class="token operator">:</span><span class="token number">45</span> å°†ä¼šå¼€å§‹ä¸€ä¸ªæ–°çš„å¯¹å±€ï¼Œå…¶ä¸­ HH ç”¨ä¸€ä¸ªä» <span class="token number">00</span> åˆ° <span class="token number">23</span> çš„æ•´æ•°è¡¨ç¤ºã€‚æ¸¸æˆä¸­ä½¿ç”¨ <span class="token number">24</span> å°æ—¶åˆ¶çš„æ—¶é’Ÿï¼Œæ‰€ä»¥ä¸€å¤©ä¸­æœ€æ—©çš„æ—¶é—´æ˜¯ <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span> ï¼Œæœ€æ™šçš„æ—¶é—´æ˜¯ <span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span> ã€‚ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² startTime å’Œ finishTime ï¼Œå‡ç¬¦åˆ <span class="token string">"HH:MM"</span> æ ¼å¼ï¼Œåˆ†åˆ«è¡¨ç¤ºä½ è¿›å…¥å’Œé€€å‡ºæ¸¸æˆçš„ç¡®åˆ‡æ—¶é—´ï¼Œè¯·è®¡ç®—åœ¨æ•´ä¸ªæ¸¸æˆä¼šè¯æœŸé—´ï¼Œä½ å®Œæˆçš„å®Œæ•´å¯¹å±€çš„å¯¹å±€æ•° ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ startTime <span class="token operator">=</span> <span class="token string">"05:20"</span> ä¸” finishTime <span class="token operator">=</span> <span class="token string">"05:59"</span>ï¼Œè¿™æ„å‘³ç€ä½ ä»…ä»…å®Œæˆä» <span class="token number">05</span><span class="token operator">:</span><span class="token number">30</span> åˆ° <span class="token number">05</span><span class="token operator">:</span><span class="token number">45</span> è¿™ä¸€ä¸ªå®Œæ•´å¯¹å±€ã€‚è€Œä½ æ²¡æœ‰å®Œæˆä» <span class="token number">05</span><span class="token operator">:</span><span class="token number">15</span> åˆ° <span class="token number">05</span><span class="token operator">:</span><span class="token number">30</span> çš„å®Œæ•´å¯¹å±€ï¼Œå› ä¸ºä½ æ˜¯åœ¨å¯¹å±€å¼€å§‹åè¿›å…¥çš„æ¸¸æˆï¼›åŒæ—¶ï¼Œä½ ä¹Ÿæ²¡æœ‰å®Œæˆä» <span class="token number">05</span><span class="token operator">:</span><span class="token number">45</span> åˆ° <span class="token number">06</span><span class="token operator">:</span><span class="token number">00</span> çš„å®Œæ•´å¯¹å±€ï¼Œå› ä¸ºä½ æ˜¯åœ¨å¯¹å±€ç»“æŸå‰é€€å‡ºçš„æ¸¸æˆã€‚å¦‚æœ finishTime æ—©äº startTime ï¼Œè¿™è¡¨ç¤ºä½ ç©äº†ä¸ªé€šå®µå‡è®¾ä½ æ˜¯ä» startTime è¿›å…¥æ¸¸æˆï¼Œå¹¶åœ¨ finishTime é€€å‡ºæ¸¸æˆï¼Œè¯·è®¡ç®—å¹¶è¿”å›ä½ å®Œæˆçš„ å®Œæ•´å¯¹å±€çš„å¯¹å±€æ•° ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šstartTime <span class="token operator">=</span> <span class="token string">"12:01"</span><span class="token punctuation">,</span> finishTime <span class="token operator">=</span> <span class="token string">"12:44"</span>è¾“å‡ºï¼š<span class="token number">1</span>è§£é‡Šï¼šä½ å®Œæˆäº†ä» <span class="token number">12</span><span class="token operator">:</span><span class="token number">15</span> åˆ° <span class="token number">12</span><span class="token operator">:</span><span class="token number">30</span> çš„ä¸€ä¸ªå®Œæ•´å¯¹å±€ã€‚ä½ æ²¡æœ‰å®Œæˆä» <span class="token number">12</span><span class="token operator">:</span><span class="token number">00</span> åˆ° <span class="token number">12</span><span class="token operator">:</span><span class="token number">15</span> çš„å®Œæ•´å¯¹å±€ï¼Œå› ä¸ºä½ æ˜¯åœ¨å¯¹å±€å¼€å§‹åçš„ <span class="token number">12</span><span class="token operator">:</span><span class="token number">01</span> è¿›å…¥çš„æ¸¸æˆã€‚ä½ æ²¡æœ‰å®Œæˆä» <span class="token number">12</span><span class="token operator">:</span><span class="token number">30</span> åˆ° <span class="token number">12</span><span class="token operator">:</span><span class="token number">45</span> çš„å®Œæ•´å¯¹å±€ï¼Œå› ä¸ºä½ æ˜¯åœ¨å¯¹å±€ç»“æŸå‰çš„ <span class="token number">12</span><span class="token operator">:</span><span class="token number">44</span> é€€å‡ºçš„æ¸¸æˆã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šstartTime <span class="token operator">=</span> <span class="token string">"20:00"</span><span class="token punctuation">,</span> finishTime <span class="token operator">=</span> <span class="token string">"06:00"</span>è¾“å‡ºï¼š<span class="token number">40</span>è§£é‡Šï¼šä½ å®Œæˆäº†ä» <span class="token number">20</span><span class="token operator">:</span><span class="token number">00</span> åˆ° <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span> çš„ <span class="token number">16</span> ä¸ªå®Œæ•´çš„å¯¹å±€ï¼Œä»¥åŠä» <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span> åˆ° <span class="token number">06</span><span class="token operator">:</span><span class="token number">00</span> çš„ <span class="token number">24</span> ä¸ªå®Œæ•´çš„å¯¹å±€ã€‚<span class="token number">16</span> <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">=</span> <span class="token number">40</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šstartTime <span class="token operator">=</span> <span class="token string">"00:00"</span><span class="token punctuation">,</span> finishTime <span class="token operator">=</span> <span class="token string">"23:59"</span>è¾“å‡ºï¼š<span class="token number">95</span>è§£é‡Šï¼šé™¤æœ€åä¸€ä¸ªå°æ—¶ä½ åªå®Œæˆäº† <span class="token number">3</span> ä¸ªå®Œæ•´å¯¹å±€å¤–ï¼Œå…¶ä½™æ¯ä¸ªå°æ—¶å‡å®Œæˆäº† <span class="token number">4</span> åœºå®Œæ•´å¯¹å±€ã€‚ æç¤ºï¼šstartTime å’Œ finishTime çš„æ ¼å¼ä¸º HH<span class="token operator">:</span>MM<span class="token number">00</span> <span class="token operator">&lt;=</span> HH <span class="token operator">&lt;=</span> <span class="token number">23</span><span class="token number">00</span> <span class="token operator">&lt;=</span> MM <span class="token operator">&lt;=</span> <span class="token number">59</span>startTime å’Œ finishTime ä¸ç›¸ç­‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ¨¡æ‹Ÿé¢˜ç›®ï¼Œé¢˜ç›®å¤šè¯»å‡ éï¼Œå°±ä¼šäº†</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">numberOfRounds</span><span class="token punctuation">(</span>string startTime<span class="token punctuation">,</span> string finishTime<span class="token punctuation">)</span>     <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> h1 <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>startTime<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m1 <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>startTime<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> h2 <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>finishTime<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m2 <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>finishTime<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> a1 <span class="token operator">=</span> h1 <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> m1<span class="token punctuation">;</span>        <span class="token keyword">int</span> a2 <span class="token operator">=</span> h2 <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> m2<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a1 <span class="token operator">></span> a2<span class="token punctuation">)</span>            a2 <span class="token operator">+=</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">ceil</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(1)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>imitate</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 33 1834. å•çº¿ç¨‹ CPU</title>
    <link href="/2021/10/12/Leetcode/91-day/day-33/"/>
    <url>/2021/10/12/Leetcode/91-day/day-33/</url>
    
    <content type="html"><![CDATA[<h1 id="1834-å•çº¿ç¨‹-CPU"><a href="#1834-å•çº¿ç¨‹-CPU" class="headerlink" title="1834. å•çº¿ç¨‹ CPU"></a><strong><a href="https://leetcode-cn.com/problems/single-threaded-cpu/">1834. å•çº¿ç¨‹ CPU</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ tasks ï¼Œç”¨äºè¡¨ç¤º n é¡¹ä» <span class="token number">0</span> åˆ° n <span class="token operator">-</span> <span class="token number">1</span> ç¼–å·çš„ä»»åŠ¡ã€‚å…¶ä¸­ tasks<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>enqueueTimei<span class="token punctuation">,</span> processingTimei<span class="token punctuation">]</span> æ„å‘³ç€ç¬¬ i é¡¹ä»»åŠ¡å°†ä¼šäº enqueueTimei æ—¶è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—éœ€è¦ processingTimei çš„æ—¶é•¿å®Œæˆæ‰§è¡Œã€‚ç°æœ‰ä¸€ä¸ªå•çº¿ç¨‹ CPU ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œ æœ€å¤šä¸€é¡¹ ä»»åŠ¡ï¼Œè¯¥ CPU å°†ä¼šæŒ‰ç…§ä¸‹è¿°æ–¹å¼è¿è¡Œï¼šå¦‚æœ CPU ç©ºé—²ï¼Œä¸”ä»»åŠ¡é˜Ÿåˆ—ä¸­æ²¡æœ‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆ™ CPU ä¿æŒç©ºé—²çŠ¶æ€ã€‚å¦‚æœ CPU ç©ºé—²ï¼Œä½†ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆ™ CPU å°†ä¼šé€‰æ‹© æ‰§è¡Œæ—¶é—´æœ€çŸ­ çš„ä»»åŠ¡å¼€å§‹æ‰§è¡Œã€‚å¦‚æœå¤šä¸ªä»»åŠ¡å…·æœ‰åŒæ ·çš„æœ€çŸ­æ‰§è¡Œæ—¶é—´ï¼Œåˆ™é€‰æ‹©ä¸‹æ ‡æœ€å°çš„ä»»åŠ¡å¼€å§‹æ‰§è¡Œã€‚ä¸€æ—¦æŸé¡¹ä»»åŠ¡å¼€å§‹æ‰§è¡Œï¼ŒCPU åœ¨ æ‰§è¡Œå®Œæ•´ä¸ªä»»åŠ¡ å‰éƒ½ä¸ä¼šåœæ­¢ã€‚CPU å¯ä»¥åœ¨å®Œæˆä¸€é¡¹ä»»åŠ¡åï¼Œç«‹å³å¼€å§‹æ‰§è¡Œä¸€é¡¹æ–°ä»»åŠ¡ã€‚è¿”å› CPU å¤„ç†ä»»åŠ¡çš„é¡ºåºã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼štasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è§£é‡Šï¼šäº‹ä»¶æŒ‰ä¸‹è¿°æµç¨‹è¿è¡Œï¼š <span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">1</span> ï¼Œä»»åŠ¡ <span class="token number">0</span> è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> åŒæ ·åœ¨ time <span class="token operator">=</span> <span class="token number">1</span> ï¼Œç©ºé—²çŠ¶æ€çš„ CPU å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">0</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">2</span> ï¼Œä»»åŠ¡ <span class="token number">1</span> è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">3</span> ï¼Œä»»åŠ¡ <span class="token number">2</span> è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> åŒæ ·åœ¨ time <span class="token operator">=</span> <span class="token number">3</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">0</span> å¹¶å¼€å§‹æ‰§è¡Œé˜Ÿåˆ—ä¸­ç”¨æ—¶æœ€çŸ­çš„ä»»åŠ¡ <span class="token number">2</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">4</span> ï¼Œä»»åŠ¡ <span class="token number">3</span> è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">5</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">2</span> å¹¶å¼€å§‹æ‰§è¡Œé˜Ÿåˆ—ä¸­ç”¨æ—¶æœ€çŸ­çš„ä»»åŠ¡ <span class="token number">3</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">6</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">3</span> å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">1</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">10</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">1</span> å¹¶è¿›å…¥ç©ºé—²çŠ¶æ€ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼štasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è§£é‡Šï¼šäº‹ä»¶æŒ‰ä¸‹è¿°æµç¨‹è¿è¡Œï¼š <span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">7</span> ï¼Œæ‰€æœ‰ä»»åŠ¡åŒæ—¶è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹  <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> åŒæ ·åœ¨ time <span class="token operator">=</span> <span class="token number">7</span> ï¼Œç©ºé—²çŠ¶æ€çš„ CPU å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">4</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">9</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">4</span> å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">3</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">13</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">3</span> å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">2</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">18</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">2</span> å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">0</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">28</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">0</span> å¹¶å¼€å§‹æ‰§è¡Œä»»åŠ¡ <span class="token number">1</span> ï¼Œå¯æ‰§è¡Œä»»åŠ¡é¡¹ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">-</span> time <span class="token operator">=</span> <span class="token number">40</span> ï¼ŒCPU å®Œæˆä»»åŠ¡ <span class="token number">1</span> å¹¶è¿›å…¥ç©ºé—²çŠ¶æ€ æç¤ºï¼štasks<span class="token punctuation">.</span>length <span class="token operator">==</span> n<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">105</span><span class="token number">1</span> <span class="token operator">&lt;=</span> enqueueTimei<span class="token punctuation">,</span> processingTimei <span class="token operator">&lt;=</span> <span class="token number">109</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€è®¾è®¡é¢˜ç›®ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªcpuè€Œå·²</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//task indexåºåˆ—å· startä¸ºè¿›å…¥é˜Ÿåˆ—æ—¶é—´ timesä¸ºå®Œæˆæ—¶é—´</span><span class="token keyword">class</span> <span class="token class-name">task</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> index<span class="token punctuation">;</span>    <span class="token keyword">int</span> start<span class="token punctuation">;</span>    <span class="token keyword">int</span> times<span class="token punctuation">;</span>    <span class="token function">task</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> times<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">index</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">start</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">times</span><span class="token punctuation">(</span>times<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token function">task</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">getOrder</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>tasks<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">;</span>        <span class="token keyword">auto</span> cmptimes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>task a<span class="token punctuation">,</span> task b<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>times <span class="token operator">==</span> b<span class="token punctuation">.</span>times<span class="token punctuation">)</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span>index <span class="token operator">></span> b<span class="token punctuation">.</span>index<span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span>times <span class="token operator">></span> b<span class="token punctuation">.</span>times<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> cmpstart <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>task a<span class="token punctuation">,</span> task b<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> a<span class="token punctuation">.</span>start <span class="token operator">></span> b<span class="token punctuation">.</span>start<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        priority_queue<span class="token operator">&lt;</span>task<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>task<span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>cmptimes<span class="token punctuation">)</span><span class="token operator">></span> <span class="token function">qtimes</span><span class="token punctuation">(</span>cmptimes<span class="token punctuation">)</span><span class="token punctuation">;</span>        priority_queue<span class="token operator">&lt;</span>task<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>task<span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>cmpstart<span class="token punctuation">)</span><span class="token operator">></span> <span class="token function">qstart</span><span class="token punctuation">(</span>cmpstart<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> tasks<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            qstart<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>i<span class="token punctuation">,</span> tasks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tasks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>                <span class="token keyword">int</span> now <span class="token operator">=</span> qstart<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>start<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>qstart<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>                       <span class="token keyword">while</span> <span class="token punctuation">(</span>qstart<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> qstart<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>start <span class="token operator">&lt;=</span> now<span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                qtimes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>qstart<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                qstart<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>qtimes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                task x <span class="token operator">=</span> qtimes<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                qtimes<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>                now <span class="token operator">+=</span> x<span class="token punctuation">.</span>times<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span>            <span class="token punctuation">&#123;</span>                now <span class="token operator">=</span> qstart<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>start<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>qtimes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            task x <span class="token operator">=</span> qtimes<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            qtimes<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>priority_queue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 32 657. æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹</title>
    <link href="/2021/10/11/Leetcode/91-day/day-32/"/>
    <url>/2021/10/11/Leetcode/91-day/day-32/</url>
    
    <content type="html"><![CDATA[<h1 id="657-æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹"><a href="#657-æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹" class="headerlink" title="657. æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹"></a><strong><a href="https://leetcode-cn.com/problems/robot-return-to-origin/">657. æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åœ¨äºŒç»´å¹³é¢ä¸Šï¼Œæœ‰ä¸€ä¸ªæœºå™¨äººä»åŸç‚¹ <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> å¼€å§‹ã€‚ç»™å‡ºå®ƒçš„ç§»åŠ¨é¡ºåºï¼Œåˆ¤æ–­è¿™ä¸ªæœºå™¨äººåœ¨å®Œæˆç§»åŠ¨åæ˜¯å¦åœ¨ <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> å¤„ç»“æŸã€‚ç§»åŠ¨é¡ºåºç”±å­—ç¬¦ä¸²è¡¨ç¤ºã€‚å­—ç¬¦ move<span class="token punctuation">[</span>i<span class="token punctuation">]</span> è¡¨ç¤ºå…¶ç¬¬ i æ¬¡ç§»åŠ¨ã€‚æœºå™¨äººçš„æœ‰æ•ˆåŠ¨ä½œæœ‰ Rï¼ˆå³ï¼‰ï¼ŒLï¼ˆå·¦ï¼‰ï¼ŒUï¼ˆä¸Šï¼‰å’Œ Dï¼ˆä¸‹ï¼‰ã€‚å¦‚æœæœºå™¨äººåœ¨å®Œæˆæ‰€æœ‰åŠ¨ä½œåè¿”å›åŸç‚¹ï¼Œåˆ™è¿”å› <span class="token boolean">true</span>ã€‚å¦åˆ™ï¼Œè¿”å› <span class="token boolean">false</span>ã€‚æ³¨æ„ï¼šæœºå™¨äººâ€œé¢æœâ€çš„æ–¹å‘æ— å…³ç´§è¦ã€‚â€œRâ€ å°†å§‹ç»ˆä½¿æœºå™¨äººå‘å³ç§»åŠ¨ä¸€æ¬¡ï¼Œâ€œLâ€ å°†å§‹ç»ˆå‘å·¦ç§»åŠ¨ç­‰ã€‚æ­¤å¤–ï¼Œå‡è®¾æ¯æ¬¡ç§»åŠ¨æœºå™¨äººçš„ç§»åŠ¨å¹…åº¦ç›¸åŒã€‚ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token string">"UD"</span>è¾“å‡º<span class="token operator">:</span> <span class="token boolean">true</span>è§£é‡Šï¼šæœºå™¨äººå‘ä¸Šç§»åŠ¨ä¸€æ¬¡ï¼Œç„¶åå‘ä¸‹ç§»åŠ¨ä¸€æ¬¡ã€‚æ‰€æœ‰åŠ¨ä½œéƒ½å…·æœ‰ç›¸åŒçš„å¹…åº¦ï¼Œå› æ­¤å®ƒæœ€ç»ˆå›åˆ°å®ƒå¼€å§‹çš„åŸç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿”å› <span class="token boolean">true</span>ã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token string">"LL"</span>è¾“å‡º<span class="token operator">:</span> <span class="token boolean">false</span>è§£é‡Šï¼šæœºå™¨äººå‘å·¦ç§»åŠ¨ä¸¤æ¬¡ã€‚å®ƒæœ€ç»ˆä½äºåŸç‚¹çš„å·¦ä¾§ï¼Œè·åŸç‚¹æœ‰ä¸¤æ¬¡ â€œç§»åŠ¨â€ çš„è·ç¦»ã€‚æˆ‘ä»¬è¿”å› <span class="token boolean">false</span>ï¼Œå› ä¸ºå®ƒåœ¨ç§»åŠ¨ç»“æŸæ—¶æ²¡æœ‰è¿”å›åŸç‚¹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ¨¡æ‹Ÿé¢˜ï¼Œç®€å•è§£æ³•</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">judgeCircle</span><span class="token punctuation">(</span>string m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> m<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>ch<span class="token punctuation">)</span>             <span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token char">'U'</span> <span class="token operator">:</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token char">'D'</span> <span class="token operator">:</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token char">'L'</span> <span class="token operator">:</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token char">'R'</span> <span class="token operator">:</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œéå†</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vector</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 31 1203. é¡¹ç›®ç®¡ç†</title>
    <link href="/2021/10/10/Leetcode/91-day/day-31/"/>
    <url>/2021/10/10/Leetcode/91-day/day-31/</url>
    
    <content type="html"><![CDATA[<h1 id="1203-é¡¹ç›®ç®¡ç†"><a href="#1203-é¡¹ç›®ç®¡ç†" class="headerlink" title="1203. é¡¹ç›®ç®¡ç†"></a><strong><a href="https://leetcode-cn.com/problems/sort-items-by-groups-respecting-dependencies/">1203. é¡¹ç›®ç®¡ç†</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æœ‰ n ä¸ªé¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®æˆ–è€…ä¸å±äºä»»ä½•å°ç»„ï¼Œæˆ–è€…å±äº m ä¸ªå°ç»„ä¹‹ä¸€ã€‚group<span class="token punctuation">[</span>i<span class="token punctuation">]</span> è¡¨ç¤ºç¬¬ i ä¸ªé¡¹ç›®æ‰€å±çš„å°ç»„ï¼Œå¦‚æœç¬¬ i ä¸ªé¡¹ç›®ä¸å±äºä»»ä½•å°ç»„ï¼Œåˆ™ group<span class="token punctuation">[</span>i<span class="token punctuation">]</span> ç­‰äº <span class="token operator">-</span><span class="token number">1</span>ã€‚é¡¹ç›®å’Œå°ç»„éƒ½æ˜¯ä»é›¶å¼€å§‹ç¼–å·çš„ã€‚å¯èƒ½å­˜åœ¨å°ç»„ä¸è´Ÿè´£ä»»ä½•é¡¹ç›®ï¼Œå³æ²¡æœ‰ä»»ä½•é¡¹ç›®å±äºè¿™ä¸ªå°ç»„ã€‚è¯·ä½ å¸®å¿™æŒ‰è¦æ±‚å®‰æ’è¿™äº›é¡¹ç›®çš„è¿›åº¦ï¼Œå¹¶è¿”å›æ’åºåçš„é¡¹ç›®åˆ—è¡¨ï¼šåŒä¸€å°ç»„çš„é¡¹ç›®ï¼Œæ’åºååœ¨åˆ—è¡¨ä¸­å½¼æ­¤ç›¸é‚»ã€‚é¡¹ç›®ä¹‹é—´å­˜åœ¨ä¸€å®šçš„ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåˆ—è¡¨ beforeItems æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span> è¡¨ç¤ºåœ¨è¿›è¡Œç¬¬ i ä¸ªé¡¹ç›®å‰åº”è¯¥å®Œæˆçš„æ‰€æœ‰é¡¹ç›®ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªè§£å†³æ–¹æ¡ˆï¼Œåªéœ€è¦è¿”å›å…¶ä¸­ä»»æ„ä¸€ä¸ªå³å¯ã€‚å¦‚æœæ²¡æœ‰åˆé€‚çš„è§£å†³æ–¹æ¡ˆï¼Œå°±è¯·è¿”å›ä¸€ä¸ª ç©ºåˆ—è¡¨ ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> group <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>beforeItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> group <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> beforeItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>è§£é‡Šï¼šä¸ç¤ºä¾‹ <span class="token number">1</span> å¤§è‡´ç›¸åŒï¼Œä½†æ˜¯åœ¨æ’åºåçš„åˆ—è¡¨ä¸­ï¼Œ<span class="token number">4</span> å¿…é¡»æ”¾åœ¨ <span class="token number">6</span> çš„å‰é¢ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> m <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span>group<span class="token punctuation">.</span>length <span class="token operator">==</span> beforeItems<span class="token punctuation">.</span>length <span class="token operator">==</span> n<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&lt;=</span> group<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token number">0</span> <span class="token operator">&lt;=</span> beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token number">0</span> <span class="token operator">&lt;=</span> beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span>i <span class="token operator">!=</span> beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span> ä¸å«é‡å¤å…ƒç´ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ‹“æ‰‘æ’åºç±»é—®é¢˜ï¼Œä»Šæ—¥é—®é¢˜è¾ƒéš¾ï¼Œä½¿ç”¨å•æ‹“æ‰‘æ’åºå¯èƒ½ä¸å¤ªè¡Œï¼Œæ‰€ä»¥å°è¯•ä½¿ç”¨åŒæ‹“æ‰‘æ’åºçš„æ€è·¯ï¼ç”±äºè¿™å‡ å¤©ç”Ÿç—…ï¼Œåªèƒ½ CV ä¸€ä¸‹ï¼Œè¿‡å‡ å¤©åå†æ¥è¡¥ä¸€é“è§£æï¼</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sortItems</span><span class="token punctuation">(</span>        <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span>         vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> group<span class="token punctuation">,</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> beforeItems<span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">,</span> blank<span class="token punctuation">;</span>        <span class="token comment">//å¦‚æœæŸä¸ªé¡¹ç›®ä¸å±äºå½“å‰ä»»ä½•å°ç»„ï¼Œ</span>        <span class="token comment">//æ–°å»ºä¸€ä¸ªå°ç»„ï¼Œå¹¶ä¸”æŠŠå®ƒåˆ†ç»™è¿™ä¸ªå°ç»„ï¼Œä¸ºäº†é¿å…å†²çªï¼Œæ–°çš„å°ç»„ç¼–å·ä»må¼€å§‹</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> group<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>group<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            group<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> m<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ†åˆ«ä¿å­˜ç»„é—´ä¾èµ–å…³ç³»ã€é¡¹ç›®ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€å„ä¸ªå°ç»„è´Ÿè´£çš„é¡¹ç›®</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> topoGroup<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">,</span> topoItem<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> groupItem<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ†åˆ«ä¿å­˜å°ç»„å’Œé¡¹ç›®åœ¨å›¾ä¸­çš„å…¥åº¦</span>        <span class="token keyword">int</span> groupDgr<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">,</span> itemDgr<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//é¿å…æ·»åŠ å¤šä½™çš„æœ‰å‘è¾¹ï¼Œä¾èµ–å…³ç³»åªéœ€è¦ä¸€æ¡æœ‰å‘è¾¹å°±å¯ä»¥è¡¨ç¤º</span>        unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> vis<span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>groupDgr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> groupDgr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>itemDgr<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span><span class="token keyword">sizeof</span> itemDgr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> beforeItems<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token comment">//å°†é¡¹ç›®æ·»åŠ åˆ°å¯¹åº”çš„ç»„å†…</span>            groupItem<span class="token punctuation">[</span>group<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token comment">//hashvalç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰é‡å¤çš„é‚®ç®±è¾¹å‡ºç°</span>                <span class="token keyword">int</span> u <span class="token operator">=</span> beforeItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> hashval <span class="token operator">=</span> group<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">*</span> m <span class="token operator">+</span> group<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                topoItem<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                itemDgr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token comment">//è‡ªå·±ä¸èƒ½ä¾èµ–è‡ªå·±</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>group<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> group<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">||</span> vis<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>hashval<span class="token punctuation">)</span> <span class="token operator">!=</span> vis<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                vis<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>hashval<span class="token punctuation">)</span><span class="token punctuation">;</span>                topoGroup<span class="token punctuation">[</span>group<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>group<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                groupDgr<span class="token punctuation">[</span>group<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//groupOrderä¿å­˜äº†ç»„çš„é¡ºåº</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> groupOrder<span class="token punctuation">;</span>        queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> q<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>groupDgr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> u <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            groupOrder<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> topoGroup<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> v <span class="token operator">=</span> topoGroup<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                groupDgr<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>groupDgr<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­ç»„å†…é¡¹ç›®æ˜¯å¦æ»¡è¶³æ‹“æ‰‘æ’åº</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> groupOrder<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> t <span class="token operator">=</span> groupOrder<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> groupItem<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> u <span class="token operator">=</span> groupItem<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>itemDgr<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> u <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                cnt<span class="token operator">++</span><span class="token punctuation">;</span>                ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> topoItem<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">&#123;</span>                    <span class="token keyword">int</span> v <span class="token operator">=</span> topoItem<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    itemDgr<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span>itemDgr<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> group<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">!=</span> groupItem<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> blank<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¦‚æœç»„é—´å…³ç³»ä¸èƒ½æ»¡è¶³æ‹“æ‰‘æ’åºï¼Œå¿…å®šæœ‰é¡¹ç›®ä¸èƒ½åŠ å…¥anså†…</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> blank<span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n + m)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n + m)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>graph</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 30 886. å¯èƒ½çš„äºŒåˆ†æ³•</title>
    <link href="/2021/10/09/Leetcode/91-day/day-30/"/>
    <url>/2021/10/09/Leetcode/91-day/day-30/</url>
    
    <content type="html"><![CDATA[<h1 id="886-å¯èƒ½çš„äºŒåˆ†æ³•"><a href="#886-å¯èƒ½çš„äºŒåˆ†æ³•" class="headerlink" title="886. å¯èƒ½çš„äºŒåˆ†æ³•"></a><strong><a href="https://leetcode-cn.com/problems/possible-bipartition/">886. å¯èƒ½çš„äºŒåˆ†æ³•</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ç»„ N äººï¼ˆç¼–å·ä¸º <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> Nï¼‰ï¼Œ æˆ‘ä»¬æƒ³æŠŠæ¯ä¸ªäººåˆ†è¿›ä»»æ„å¤§å°çš„ä¸¤ç»„ã€‚æ¯ä¸ªäººéƒ½å¯èƒ½ä¸å–œæ¬¢å…¶ä»–äººï¼Œé‚£ä¹ˆä»–ä»¬ä¸åº”è¯¥å±äºåŒä¸€ç»„ã€‚å½¢å¼ä¸Šï¼Œå¦‚æœ dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span>ï¼Œè¡¨ç¤ºä¸å…è®¸å°†ç¼–å·ä¸º a å’Œ b çš„äººå½’å…¥åŒä¸€ç»„ã€‚å½“å¯ä»¥ç”¨è¿™ç§æ–¹æ³•å°†æ‰€æœ‰äººåˆ†è¿›ä¸¤ç»„æ—¶ï¼Œè¿”å› <span class="token boolean">true</span>ï¼›å¦åˆ™è¿”å› <span class="token boolean">false</span>ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šN <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> dislikes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">true</span>è§£é‡Šï¼šgroup1 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> group2 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šN <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> dislikes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">false</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šN <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> dislikes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">false</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> N <span class="token operator">&lt;=</span> <span class="token number">2000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> dislikes<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10000</span>dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token number">1</span> <span class="token operator">&lt;=</span> dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> Ndislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>å¯¹äº dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> dislikes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> ä¸å­˜åœ¨ i <span class="token operator">!=</span> j<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç»å…¸å¹¶æŸ¥é›†</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">UnionFound</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> F<span class="token punctuation">;</span>    <span class="token function">UnionFound</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        F <span class="token operator">=</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">&#123;</span>            F<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> F<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>        <span class="token keyword">return</span> F<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Find</span><span class="token punctuation">(</span>F<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">Union</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        x <span class="token operator">=</span> <span class="token function">Find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        y <span class="token operator">=</span> <span class="token function">Find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> y<span class="token punctuation">)</span> F<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> y<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> <span class="token function">possibleBipartition</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> <span class="token operator">&amp;</span>dislikes<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> mp<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dislikes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            mp<span class="token punctuation">[</span>dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mp<span class="token punctuation">[</span>dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>dislikes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        UnionFound <span class="token function">uf</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">auto</span> vec <span class="token operator">=</span> mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> c <span class="token operator">:</span> vec<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>uf<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> uf<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                uf<span class="token punctuation">.</span><span class="token function">Union</span><span class="token punctuation">(</span>vec<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>graph</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>187. é‡å¤çš„DNAåºåˆ—</title>
    <link href="/2021/10/08/Leetcode/187/"/>
    <url>/2021/10/08/Leetcode/187/</url>
    
    <content type="html"><![CDATA[<h1 id="187-é‡å¤çš„-DNA-åºåˆ—"><a href="#187-é‡å¤çš„-DNA-åºåˆ—" class="headerlink" title="187. é‡å¤çš„ DNA åºåˆ—"></a><strong><a href="https://leetcode-cn.com/problems/repeated-dna-sequences/">187. é‡å¤çš„ DNA åºåˆ—</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æ‰€æœ‰ DNA éƒ½ç”±ä¸€ç³»åˆ—ç¼©å†™ä¸º <span class="token char">'A'</span>ï¼Œ<span class="token char">'C'</span>ï¼Œ<span class="token char">'G'</span> å’Œ <span class="token char">'T'</span> çš„æ ¸è‹·é…¸ç»„æˆï¼Œä¾‹å¦‚ï¼š<span class="token string">"ACGAATTCCG"</span>ã€‚åœ¨ç ”ç©¶ DNA æ—¶ï¼Œè¯†åˆ« DNA ä¸­çš„é‡å¤åºåˆ—æœ‰æ—¶ä¼šå¯¹ç ”ç©¶éå¸¸æœ‰å¸®åŠ©ã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ‰¾å‡ºæ‰€æœ‰ç›®æ ‡å­ä¸²ï¼Œç›®æ ‡å­ä¸²çš„é•¿åº¦ä¸º <span class="token number">10</span>ï¼Œä¸”åœ¨ DNA å­—ç¬¦ä¸² s ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€æ¬¡ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT"</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token string">"AAAAACCCCC"</span><span class="token punctuation">,</span><span class="token string">"CCCCCAAAAA"</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"AAAAAAAAAAAAA"</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token string">"AAAAAAAAAA"</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">105</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> ä¸º <span class="token char">'A'</span>ã€<span class="token char">'C'</span>ã€<span class="token char">'G'</span> æˆ– <span class="token char">'T'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><p>1ã€æ»‘åŠ¨çª—å£ï¼Œä»¥ 10 ä¸ºå€¼</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;string&gt; findRepeatedDnaSequences(string s) &#123;        vector&lt;string&gt; ans;        int n &#x3D; s.size();        unordered_map&lt;string, int&gt; st;        for(int i &#x3D; 0, j &#x3D; 9; j &lt; n; j++, i++)        &#123;            if(st[s.substr(i,10)] &#x3D;&#x3D; 1)            &#123;                ans.push_back(s.substr(i, 10));            &#125;            st[s.substr(i, 10)]++;        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n*C)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ</title>
    <link href="/2021/10/08/Leetcode/16/"/>
    <url>/2021/10/08/Leetcode/16/</url>
    
    <content type="html"><![CDATA[<h1 id="16-æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ"><a href="#16-æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ" class="headerlink" title="16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ"></a><strong><a href="https://leetcode-cn.com/problems/3sum-closest/">16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go">ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ nums å’Œ ä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ ä» nums ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ target æœ€æ¥è¿‘ã€‚è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ <span class="token number">2</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token number">0</span> æç¤ºï¼š<span class="token number">3</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token operator">-</span><span class="token number">1000</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> target <span class="token operator">&lt;=</span> <span class="token number">104</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><p>1ã€æœ¬é¢˜è·Ÿä¸¤æ•°ä¹‹å’Œï¼Œä¸‰æ•°ä¹‹å’Œéƒ½æ˜¯ä¸€æ ·çš„åŒæŒ‡é’ˆè§£æ³•ï¼Œ<br>2ã€é¦–å…ˆæ˜¯å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åç¡®å®šç¬¬ä¸€ä¸ªç‚¹ï¼Œä¹‹åå¼€å§‹åŒæŒ‡é’ˆéå†æ•°ç»„å‰åæ¯ä¸€ä¸ªå€¼ï¼Œç”±äºæ˜¯æ‰¾æœ€æ¥è¿‘çš„æ•°ï¼Œæ‰€ä»¥å¦‚æœç›¸ç­‰ï¼Œç›´æ¥è¿”å›å€¼å³å¯ã€‚<br>3ã€å¦‚æœä¸‰æ•°ä¹‹å’Œ sum å¤§äºç›®æ ‡å€¼ï¼Œåˆ™è®©å³ç«¯ç‚¹ râ€“ï¼Œåä¹‹è®©å·¦ç«¯ç‚¹ l++ï¼›å¦‚æœåœ¨ i &gt; 0 çš„æƒ…å†µä¸‹ nums[i] è·Ÿ nums[i-1] çš„å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆä¹‹åéå†è¿”å›çš„ä¸‰æ•°ä¹‹å’Œæƒ…å†µä¹Ÿç›¸ç­‰ï¼Œæ‰€ä»¥åœ¨åªè¿”å›å”¯ä¸€åˆé€‚çš„å€¼çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ continue ç›´æ¥è·³è¿‡æœ¬è½®å¾ªç¯è¿›è¡Œä¼˜åŒ–ã€‚</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">threeSumClosest</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> target <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">3</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    min <span class="token operator">:=</span> math<span class="token punctuation">.</span>MaxInt32    update <span class="token operator">:=</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>sum <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token function">abs</span><span class="token punctuation">(</span>min <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">abs</span><span class="token punctuation">(</span>sum <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            min <span class="token operator">=</span> sum        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">continue</span>        <span class="token punctuation">&#125;</span>        l<span class="token punctuation">,</span> r <span class="token operator">:=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span>        <span class="token keyword">for</span> l <span class="token operator">&lt;</span> r <span class="token punctuation">&#123;</span>            sum <span class="token operator">:=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span>            <span class="token function">update</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>            <span class="token keyword">if</span> sum <span class="token operator">==</span> target <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> sum            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> sum <span class="token operator">></span> target <span class="token punctuation">&#123;</span>                r<span class="token operator">--</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> sum <span class="token operator">&lt;</span> target <span class="token punctuation">&#123;</span>                l<span class="token operator">++</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> min<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">abs</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>        x <span class="token operator">=</span> <span class="token operator">-</span>x    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> x<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(nlogn)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>array</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 29 997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜</title>
    <link href="/2021/10/08/Leetcode/91-day/day-29/"/>
    <url>/2021/10/08/Leetcode/91-day/day-29/</url>
    
    <content type="html"><![CDATA[<h1 id="997-æ‰¾åˆ°å°é•‡çš„æ³•å®˜"><a href="#997-æ‰¾åˆ°å°é•‡çš„æ³•å®˜" class="headerlink" title="997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜"></a><strong><a href="https://leetcode-cn.com/problems/find-the-town-judge/">997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åœ¨ä¸€ä¸ªå°é•‡é‡Œï¼ŒæŒ‰ä» <span class="token number">1</span> åˆ° n ä¸º n ä¸ªäººè¿›è¡Œç¼–å·ã€‚ä¼ è¨€ç§°ï¼Œè¿™äº›äººä¸­æœ‰ä¸€ä¸ªæ˜¯å°é•‡ä¸Šçš„ç§˜å¯†æ³•å®˜ã€‚å¦‚æœå°é•‡çš„æ³•å®˜çœŸçš„å­˜åœ¨ï¼Œé‚£ä¹ˆï¼šå°é•‡çš„æ³•å®˜ä¸ç›¸ä¿¡ä»»ä½•äººã€‚æ¯ä¸ªäººï¼ˆé™¤äº†å°é•‡æ³•å®˜å¤–ï¼‰éƒ½ä¿¡ä»»å°é•‡çš„æ³•å®˜ã€‚åªæœ‰ä¸€ä¸ªäººåŒæ—¶æ»¡è¶³æ¡ä»¶ <span class="token number">1</span> å’Œæ¡ä»¶ <span class="token number">2</span> ã€‚ç»™å®šæ•°ç»„ trustï¼Œè¯¥æ•°ç»„ç”±ä¿¡ä»»å¯¹ trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> ç»„æˆï¼Œè¡¨ç¤ºç¼–å·ä¸º a çš„äººä¿¡ä»»ç¼–å·ä¸º b çš„äººã€‚å¦‚æœå°é•‡å­˜åœ¨ç§˜å¯†æ³•å®˜å¹¶ä¸”å¯ä»¥ç¡®å®šä»–çš„èº«ä»½ï¼Œè¯·è¿”å›è¯¥æ³•å®˜çš„ç¼–å·ã€‚å¦åˆ™ï¼Œè¿”å› <span class="token operator">-</span><span class="token number">1</span>ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> trust <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> trust <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">3</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> trust <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> trust <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>ç¤ºä¾‹ <span class="token number">5</span>ï¼šè¾“å…¥ï¼šn <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> trust <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">3</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> trust<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">104</span>trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span>trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span> äº’ä¸ç›¸åŒtrust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token number">1</span> <span class="token operator">&lt;=</span> trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> n<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç®€å•å›¾è®ºç±»é—®é¢˜ï¼Œå…¶ä»–äººç›¸ä¿¡è‡ªå·±ï¼Œæ‰€ä»¥å…¶ä»–äººåœ¨å›¾ä¸­æŒ‡å‘è‡ªå·±ï¼Œè€Œè‡ªå·±ä¸æŒ‡å‘ä»»ä½•äººï¼Œå³å‡ºåº¦ä¸º0ï¼Œå…¥åº¦ä¸º n - 1;</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findJudge</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> trust<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">in</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">out</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> trust<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            in<span class="token punctuation">[</span>trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//å…¥åº¦</span>            out<span class="token punctuation">[</span>trust<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//å‡ºåº¦</span>        <span class="token punctuation">&#125;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> out<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>graph</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°</title>
    <link href="/2021/10/07/Leetcode/434/"/>
    <url>/2021/10/07/Leetcode/434/</url>
    
    <content type="html"><![CDATA[<h1 id="434-å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°"><a href="#434-å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°" class="headerlink" title="434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°"></a><strong><a href="https://leetcode-cn.com/problems/number-of-segments-in-a-string/">434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­çš„å•è¯ä¸ªæ•°ï¼Œè¿™é‡Œçš„å•è¯æŒ‡çš„æ˜¯è¿ç»­çš„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚è¯·æ³¨æ„ï¼Œä½ å¯ä»¥å‡å®šå­—ç¬¦ä¸²é‡Œä¸åŒ…æ‹¬ä»»ä½•ä¸å¯æ‰“å°çš„å­—ç¬¦ã€‚ç¤ºä¾‹<span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token string">"Hello, my name is John"</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">5</span>è§£é‡Š<span class="token operator">:</span> è¿™é‡Œçš„å•è¯æ˜¯æŒ‡è¿ç»­çš„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ï¼Œæ‰€ä»¥ <span class="token string">"Hello,"</span> ç®—ä½œ <span class="token number">1</span> ä¸ªå•è¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1\ç®€å•é¢˜ç›®ï¼Œå­—ç¬¦å‰ä¸æ˜¯ç©ºæ ¼ï¼Œåä¸ºç©ºæ ¼å³å¯è§†ä¸º 1 ä¸ªå­—ç¬¦ï¼›</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int countSegments(string s) &#123;        int n &#x3D; s.size();        if(n &#x3D;&#x3D; 0) return 0;        int ans &#x3D; 0;        for(int i &#x3D; 0; i &lt; s.size(); i++)        &#123;            if(s[i] !&#x3D; &#39; &#39; &amp;&amp; s[i + 1] &#x3D;&#x3D; &#39; &#39;)            &#123;                ans++;            &#125;        &#125;        return s[n - 1]&#x3D;&#x3D;&#39; &#39; ? ans : ans + 1;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>string</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 28 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</title>
    <link href="/2021/10/07/Leetcode/91-day/day-28/"/>
    <url>/2021/10/07/Leetcode/91-day/day-28/</url>
    
    <content type="html"><![CDATA[<h1 id="239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a href="#239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼" class="headerlink" title="239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼"></a><strong><a href="https://leetcode-cn.com/problems/sliding-window-maximum/">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ k ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è§£é‡Šï¼šæ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">3</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">3</span> <span class="token number">1</span>  <span class="token number">3</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span><span class="token punctuation">]</span> <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">5</span> <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">5</span> <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span><span class="token punctuation">]</span> <span class="token number">7</span>       <span class="token number">6</span> <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span> <span class="token punctuation">[</span><span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span><span class="token punctuation">]</span>      <span class="token number">7</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">5</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">105</span><span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">104</span><span class="token number">1</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ»‘åŠ¨çª—å£é¢˜ç›®,æœ€å¤šç®—ä¸ªä¸­ç­‰é¢˜ç›®ï¼Œå¯ç”¨åŒç«¯é˜Ÿåˆ—è§£å†³é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç»´æŠ¤ä¸€ä¸ª size &#x3D; k çš„æœ€å¤§å †ï¼Œå…¶ä¸­ä½¿ç”¨åŒç«¯é˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œè€Œä½¿ç”¨æœ€å¤§å †çš„æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn)</li><li>2ã€åŒç«¯é˜Ÿåˆ—ä¸­ç»´æŠ¤çš„åªæ˜¯æ•°ç»„ nums ä¸­çš„æ•°ç»„ä¸‹æ ‡ï¼Œä¾¿äº</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;int&gt; maxSlidingWindow(vector&lt;int&gt;&amp; nums, int k) &#123;        vector&lt;int&gt; ans;        deque&lt;int&gt; q;        int n &#x3D; nums.size();        if(n &#x3D;&#x3D; 0) return nums;        for(int i &#x3D; 0; i &lt; n; i++)        &#123;            &#x2F;&#x2F;å¦‚æœé˜Ÿå¤´çš„å…ƒç´ å€¼æ»¡è¶³ i - k çš„é•¿åº¦æ—¶å€™ï¼Œå³çª—å£éœ€è¦å‘åæ»‘åŠ¨ï¼Œå°†é˜Ÿå¤´çš„å…ƒç´ è¸¢é™¤ï¼            if(!q.empty() &amp;&amp; q.front() &#x3D;&#x3D; i - k) q.pop_front();            &#x2F;&#x2F;ä¿è¯ä»å¤§åˆ°å°ï¼Œå¦‚æœå‰é¢æ•°å°åˆ™éœ€è¦ä¾æ¬¡å‰”é™¤ï¼Œç›´è‡³æ»¡è¶³è¦æ±‚            while(!q.empty() &amp;&amp; nums[i] &gt; nums[q.back()]) q.pop_back();            q.push_back(i);            if(i &gt;&#x3D; k - 1) ans.push_back(nums[q.front()]);        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(k)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sliding window</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GCC ä¸ GDB çš„å­¦ä¹ </title>
    <link href="/2021/10/06/middleware/gcc/"/>
    <url>/2021/10/06/middleware/gcc/</url>
    
    <content type="html"><![CDATA[<blockquote><p>gcc æ˜¯ GUN Compiler Collectionçš„ç¼©å†™ï¼Œå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€ç¼–è¯‘ï¼Œæ¯”å¦‚ C, C++, Java, pascal ç­‰</p></blockquote><h2 id="gccçš„ç¼–è¯‘è¿‡ç¨‹"><a href="#gccçš„ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="gccçš„ç¼–è¯‘è¿‡ç¨‹"></a>gccçš„ç¼–è¯‘è¿‡ç¨‹</h2><ul><li><p>é¢„å¤„ç†ï¼ˆpre-processingï¼‰Eï¼šæ’å…¥å¤´æ–‡ä»¶ï¼Œæ›¿æ¢å®</p></li><li><p>ç¼–è¯‘ï¼ˆCompilingï¼‰Sï¼šç¼–è¯‘æˆæ±‡ç¼–</p></li><li><p>æ±‡ç¼–ï¼ˆAssemblingï¼‰ cï¼šç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶</p></li><li><p>é“¾æ¥ ï¼ˆLinkingï¼‰ï¼šé“¾æ¥åˆ°åº“ä¸­ï¼Œå˜æˆå¯æ‰§è¡Œæ–‡ä»¶</p></li></ul><blockquote><p>gcc -E hello.c -o hello.i</p><p>gcc -S hello.i â€“o hello.s</p><p>gcc â€“c hello.s â€“o hello.o</p><p>gcc hello.s â€“o hello é“¾æ¥ï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</p><p>.&#x2F;hello è¿è¡Œ</p></blockquote><p>ä¹Ÿå¯ä»¥ä¸€æ¬¡æ€§å®Œæˆ:</p><blockquote><p>gcc hello.c â€“o hello</p></blockquote><p>ä½†ä¸€èˆ¬æƒ…å†µä¸‹ç”Ÿæˆ.oæ–‡ä»¶æ¯”è¾ƒå¥½ï¼Œå¯ä»¥é‡å®šä½æ–‡ä»¶ï¼Œè®©åˆ«äººä½¿ç”¨</p><p>gccå¸¸ç”¨é€‰é¡¹</p><blockquote><p>é€‰é¡¹å ä½œç”¨<br>o  ç”Ÿæˆç›®æ ‡<br>c  å–æ¶ˆé“¾æ¥æ­¥éª¤ï¼Œç¼–è¯‘æºç å¹¶æœ€åç”Ÿæˆç›®æ ‡æ–‡ä»¶<br>E  åªè¿è¡ŒCé¢„ç¼–è¯‘å™¨ï¼ˆå¤´æ–‡ä»¶ï¼Œå®ç­‰å±•å¼€ï¼‰<br>S  ç”Ÿæˆæ±‡ç¼–è¯­è¨€æ–‡ä»¶ååœæ­¢ç¼–è¯‘ï¼ˆ.sæ–‡ä»¶ï¼‰<br>Wall  æ‰“å¼€ç¼–è¯‘å‘Šè­¦ï¼ˆæ‰€æœ‰ï¼‰<br>g  åµŒå…¥è°ƒè¯•ä¿¡æ¯ï¼Œæ–¹ä¾¿gdbè°ƒè¯•<br>llib  é“¾æ¥ lib åº“ ï¼ˆè¿™é‡Œæ˜¯å°å†™ L ï¼‰ ç›¸å½“äº C++ #pragma comment(lib, â€œxxx.libâ€)<br>Idir  å¢åŠ  include ç›®å½• (è¿™é‡Œæ˜¯å¤§å†™ i ) å¤´æ–‡ä»¶è·¯å¾„<br>LDir  å¢åŠ  lib ç›®å½• ï¼ˆç¼–è¯‘é™æ€åº“å’ŒåŠ¨æ€åº“ï¼‰</p></blockquote><p>gdbè°ƒè¯•å®ä¾‹<br>ä¸‹é¢ä»¥ä¸€ä¸ªæœ‰é”™è¯¯çš„ä¾‹å­ç¨‹åºæ¥ä»‹ç»gdbçš„ä½¿ç”¨ï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*bugging.c*/</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">static</span> <span class="token keyword">char</span> buff <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">static</span> <span class="token keyword">char</span><span class="token operator">*</span> string<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"Please input a string: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">gets</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"\nYour string is: %s\n"</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¿™ä¸ªç¨‹åºæ˜¯æ¥å—ç”¨æˆ·çš„è¾“å…¥ï¼Œç„¶åå°†ç”¨æˆ·çš„è¾“å…¥æ‰“å°å‡ºæ¥ã€‚è¯¥ç¨‹åºä½¿ç”¨äº†ä¸€ä¸ªæœªç»è¿‡åˆå§‹åŒ–çš„å­—ç¬¦ä¸²åœ°å€ stringï¼Œå› æ­¤ï¼Œç¼–è¯‘å¹¶è¿è¡Œä¹‹åï¼Œå°†å‡ºç° "Segment Fault"é”™è¯¯ï¼š</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">$ gcc -o bugging -g  bugging.c$ .&#x2F;bugging# Please input a string: asdf# Segmentation fault (core dumped)# ä¸ºäº†æŸ¥æ‰¾è¯¥ç¨‹åºä¸­å‡ºç°çš„é—®é¢˜ï¼Œæˆ‘ä»¬åˆ©ç”¨ gdbï¼Œå¹¶æŒ‰å¦‚ä¸‹çš„æ­¥éª¤è¿›è¡Œï¼š# [1] è¿è¡Œ â€œgdb buggingâ€ ï¼ŒåŠ è½½ bugging å¯æ‰§è¡Œæ–‡ä»¶ï¼›$gdb bugging     #[2] æ‰§è¡Œè£…å…¥çš„ bugging å‘½ä»¤ï¼›(gdb) run    #[3] ä½¿ç”¨ where å‘½ä»¤æŸ¥çœ‹ç¨‹åºå‡ºé”™çš„åœ°æ–¹ï¼›(gdb) where    #[4] åˆ©ç”¨ list å‘½ä»¤æŸ¥çœ‹è°ƒç”¨ gets å‡½æ•°é™„è¿‘çš„ä»£ç ï¼›(gdb) list    #[5] åœ¨ gdb ä¸­ï¼Œæˆ‘ä»¬åœ¨ç¬¬ 11 è¡Œå¤„è®¾ç½®æ–­ç‚¹ï¼Œçœ‹çœ‹æ˜¯å¦æ˜¯åœ¨ç¬¬11è¡Œå‡ºé”™ï¼›(gdb) break 11    #[6] ç¨‹åºé‡æ–°è¿è¡Œåˆ°ç¬¬ 11 è¡Œå¤„åœæ­¢ï¼Œè¿™æ—¶ç¨‹åºæ­£å¸¸ï¼Œç„¶åæ‰§è¡Œå•æ­¥å‘½ä»¤nextï¼›(gdb) next    #[7] ç¨‹åºç¡®å®å‡ºé”™ï¼Œèƒ½å¤Ÿå¯¼è‡´ gets å‡½æ•°å‡ºé”™çš„å› ç´ å°±æ˜¯å˜é‡ stringã€‚é‡æ–°æ‰§è¡Œæµ‹è¯•ç¨‹ï¼Œç”¨ print å‘½ä»¤æŸ¥çœ‹ string çš„å€¼ï¼›(gdb) run(gdb) print string(gdb) $1&#x3D;0x0    #[8] é—®é¢˜åœ¨äºstringæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ— æ•ˆæŒ‡é’ˆï¼Œä¿®æ”¹ç¨‹åºï¼Œåœ¨10è¡Œå’Œ11è¡Œä¹‹é—´å¢åŠ ä¸€æ¡è¯­å¥ â€œstring&#x3D;buff; â€ï¼Œé‡æ–°ç¼–è¯‘ç¨‹åºï¼Œç„¶åç»§ç»­è¿è¡Œï¼Œå°†çœ‹åˆ°æ­£ç¡®çš„ç¨‹åºè¿è¡Œç»“æœã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><blockquote><p>ç”¨gdbæŸ¥çœ‹æºä»£ç å¯ä»¥ç”¨listå‘½ä»¤ï¼Œä½†æ˜¯è¿™ä¸ªä¸å¤Ÿçµæ´»ã€‚å¯ä»¥ä½¿ç”¨â€layout srcâ€å‘½ä»¤ï¼Œæˆ–è€…æŒ‰Ctrl-Xå†æŒ‰Aï¼Œå°±ä¼šå‡ºç°ä¸€ä¸ªçª—å£å¯ä»¥æŸ¥çœ‹æºä»£ç ã€‚ä¹Ÿå¯ä»¥ç”¨ä½¿ç”¨-tuiå‚æ•°ï¼Œè¿™æ ·è¿›å…¥gdbé‡Œé¢åå°±èƒ½ç›´æ¥æ‰“å¼€ä»£ç æŸ¥çœ‹çª—å£ã€‚å…¶ä»–ä»£ç çª—å£ç›¸å…³å‘½ä»¤ï¼š</p><p>info win æ˜¾ç¤ºçª—å£çš„å¤§å°<br>layout next åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå¸ƒå±€æ¨¡å¼<br>layout prev åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªå¸ƒå±€æ¨¡å¼<br>layout src åªæ˜¾ç¤ºæºä»£ç <br>layout asm åªæ˜¾ç¤ºæ±‡ç¼–ä»£ç <br>layout split æ˜¾ç¤ºæºä»£ç å’Œæ±‡ç¼–ä»£ç <br>layout regs å¢åŠ å¯„å­˜å™¨å†…å®¹æ˜¾ç¤º<br>focus cmd&#x2F;src&#x2F;asm&#x2F;regs&#x2F;next&#x2F;prev åˆ‡æ¢å½“å‰çª—å£<br>refresh åˆ·æ–°æ‰€æœ‰çª—å£<br>tui reg next æ˜¾ç¤ºä¸‹ä¸€ç»„å¯„å­˜å™¨<br>tui reg system æ˜¾ç¤ºç³»ç»Ÿå¯„å­˜å™¨<br>update æ›´æ–°æºä»£ç çª—å£å’Œå½“å‰æ‰§è¡Œç‚¹<br>winheight name +&#x2F;- line è°ƒæ•´nameçª—å£çš„é«˜åº¦<br>tabset nchar è®¾ç½®tabä¸ºncharä¸ªå­—ç¬¦</p></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>middleware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gcc</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>414. ç¬¬ä¸‰å¤§çš„æ•°</title>
    <link href="/2021/10/06/Leetcode/414/"/>
    <url>/2021/10/06/Leetcode/414/</url>
    
    <content type="html"><![CDATA[<h1 id="414-ç¬¬ä¸‰å¤§çš„æ•°"><a href="#414-ç¬¬ä¸‰å¤§çš„æ•°" class="headerlink" title="414. ç¬¬ä¸‰å¤§çš„æ•°"></a><strong><a href="https://leetcode-cn.com/problems/third-maximum-number/">414. ç¬¬ä¸‰å¤§çš„æ•°</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªéç©ºæ•°ç»„ï¼Œè¿”å›æ­¤æ•°ç»„ä¸­ ç¬¬ä¸‰å¤§çš„æ•° ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›æ•°ç»„ä¸­æœ€å¤§çš„æ•°ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1</span>è§£é‡Šï¼šç¬¬ä¸‰å¤§çš„æ•°æ˜¯ <span class="token number">1</span> ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šç¬¬ä¸‰å¤§çš„æ•°ä¸å­˜åœ¨<span class="token punctuation">,</span> æ‰€ä»¥è¿”å›æœ€å¤§çš„æ•° <span class="token number">2</span> ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1</span>è§£é‡Šï¼šæ³¨æ„ï¼Œè¦æ±‚è¿”å›ç¬¬ä¸‰å¤§çš„æ•°ï¼Œæ˜¯æŒ‡åœ¨æ‰€æœ‰ä¸åŒæ•°å­—ä¸­æ’ç¬¬ä¸‰å¤§çš„æ•°ã€‚æ­¤ä¾‹ä¸­å­˜åœ¨ä¸¤ä¸ªå€¼ä¸º <span class="token number">2</span> çš„æ•°ï¼Œå®ƒä»¬éƒ½æ’ç¬¬äºŒã€‚åœ¨æ‰€æœ‰ä¸åŒæ•°å­—ä¸­æ’ç¬¬ä¸‰å¤§çš„æ•°ä¸º <span class="token number">1</span> ã€‚ æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">104</span><span class="token operator">-</span><span class="token number">231</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">231</span> <span class="token operator">-</span> <span class="token number">1</span> è¿›é˜¶ï¼šä½ èƒ½è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ <span class="token function">O</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>setå­˜å‚¨å”¯ä¸€å€¼ï¼Œç„¶åç»´æŠ¤ä¸€ä¸ªæœ€å¤šä¸ºä¸‰çš„setå®¹å™¨å³å¯ï¼Œè™½ç„¶æ—¶é—´ä¼šæ…¢ä¸€ç‚¹ï¼Œä½†æ˜¯ç†è§£ç›¸å½“ç®€å•ï¼Œå½“ç„¶ä¹Ÿèƒ½æ‰‹æ’•ä¸€ä¸ªæœ€å¤§å †ï¼Œç”±äºæ—¶é—´å…³ç³»ï¼Œè€ƒç ”å®Œåï¼ˆæ˜å¹´1æœˆ1å¼€æï¼‰ï¼åˆ°æ—¶å€™ä¼šå›æ¥æ›´æ–°å†…å®¹</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int thirdMax(vector&lt;int&gt;&amp; nums) &#123;        set&lt;int&gt; st;        for(auto i : nums)        &#123;            st.insert (i);            if(st.size() &gt; 3) st.erase(st.begin());        &#125;        if(st.size() &#x3D;&#x3D; 3) return *st.begin();        return *st.rbegin();    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>set</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 27 35. æœç´¢æ’å…¥ä½ç½®</title>
    <link href="/2021/10/06/Leetcode/91-day/day-27/"/>
    <url>/2021/10/06/Leetcode/91-day/day-27/</url>
    
    <content type="html"><![CDATA[<h1 id="35-æœç´¢æ’å…¥ä½ç½®"><a href="#35-æœç´¢æ’å…¥ä½ç½®" class="headerlink" title="35. æœç´¢æ’å…¥ä½ç½®"></a><strong><a href="https://leetcode-cn.com/problems/search-insert-position/">35. æœç´¢æ’å…¥ä½ç½®</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚è¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º <span class="token function">O</span><span class="token punctuation">(</span>log n<span class="token punctuation">)</span> çš„ç®—æ³•ã€‚ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">5</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">2</span>ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">1</span>ç¤ºä¾‹ <span class="token number">3</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">7</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">4</span>ç¤ºä¾‹ <span class="token number">4</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">0</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">0</span>ç¤ºä¾‹ <span class="token number">5</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">0</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">0</span> æç¤º<span class="token operator">:</span><span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">104</span><span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">104</span>nums ä¸ºæ— é‡å¤å…ƒç´ çš„å‡åºæ’åˆ—æ•°ç»„<span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> target <span class="token operator">&lt;=</span> <span class="token number">104</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ä¿®æ”¹äºŒåˆ†æ³•æ¨¡æ¿çš„é¢˜ç›®ï¼Œ</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int searchInsert(vector&lt;int&gt;&amp; nums, int target) &#123;        int n &#x3D; nums.size();        int l &#x3D; 0, r &#x3D; n - 1;        int mid &#x3D; 0;        while(l &lt;&#x3D; r)        &#123;            mid &#x3D; l + (r - l) &#x2F; 1;            if(nums[mid] &#x3D;&#x3D; target) return mid;            else if(nums[mid] &gt; target) r &#x3D; mid - 1;            else l &#x3D; mid + 1;        &#125;        return l &#x3D;&#x3D; mid + 1 ? l : mid;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><p>  â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>binary search</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>284. é¡¶ç«¯è¿­ä»£å™¨</title>
    <link href="/2021/10/05/Leetcode/284/"/>
    <url>/2021/10/05/Leetcode/284/</url>
    
    <content type="html"><![CDATA[<h1 id="284-é¡¶ç«¯è¿­ä»£å™¨"><a href="#284-é¡¶ç«¯è¿­ä»£å™¨" class="headerlink" title="284. é¡¶ç«¯è¿­ä»£å™¨"></a><strong><a href="https://leetcode-cn.com/problems/peeking-iterator/">284. é¡¶ç«¯è¿­ä»£å™¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è¯·ä½ è®¾è®¡ä¸€ä¸ªè¿­ä»£å™¨ï¼Œé™¤äº†æ”¯æŒ hasNext å’Œ next æ“ä½œå¤–ï¼Œè¿˜æ”¯æŒ peek æ“ä½œã€‚å®ç° PeekingIterator ç±»ï¼š<span class="token function">PeekingIterator</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> ä½¿ç”¨æŒ‡å®šæ•´æ•°æ•°ç»„ nums åˆå§‹åŒ–è¿­ä»£å™¨ã€‚<span class="token keyword">int</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> è¿”å›æ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸ªå…ƒç´ å¤„ã€‚<span class="token keyword">bool</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å¦‚æœæ•°ç»„ä¸­å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å› <span class="token boolean">true</span> ï¼›å¦åˆ™ï¼Œè¿”å› <span class="token boolean">false</span> ã€‚<span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> è¿”å›æ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä½† ä¸ ç§»åŠ¨æŒ‡é’ˆã€‚ ç¤ºä¾‹ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token string">"PeekingIterator"</span><span class="token punctuation">,</span> <span class="token string">"next"</span><span class="token punctuation">,</span> <span class="token string">"peek"</span><span class="token punctuation">,</span> <span class="token string">"next"</span><span class="token punctuation">,</span> <span class="token string">"next"</span><span class="token punctuation">,</span> <span class="token string">"hasNext"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span>null<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>è§£é‡Šï¼šPeekingIterator peekingIterator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">PeekingIterator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3]</span>peekingIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 1 ï¼ŒæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  [1,2,3]</span>peekingIterator<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 2 ï¼ŒæŒ‡é’ˆæœªå‘ç”Ÿç§»åŠ¨ [1,2,3]</span>peekingIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 2 ï¼ŒæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  [1,2,3]</span>peekingIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 3 ï¼ŒæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  [1,2,3]</span>peekingIterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› False</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">1000</span>å¯¹ next å’Œ peek çš„è°ƒç”¨å‡æœ‰æ•ˆnextã€hasNext å’Œ peek æœ€å¤šè°ƒç”¨  <span class="token number">1000</span> æ¬¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>ç®€å•è¿­ä»£å™¨ï¼Œä¸»è¦è€ƒå¯Ÿè¿­ä»£å™¨çš„ç†è§£çŸ¥è¯†ï¼Œå¸¸è§„çš„è¿­ä»£å™¨çš„ã€Œè®¿é—®ã€åªæ”¯æŒä¸¤ç§æ“ä½œ</li><li>hasNext() æ“ä½œï¼šå¦‚æœå­˜åœ¨ä¸‹ä¸€å…ƒç´ ï¼Œè¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚å®ç°ä¸Šï¼Œå°±æ˜¯åˆ¤æ–­æ¸¸æ ‡æ˜¯å¦åˆ°è¾¾ç»“å°¾ä½ç½®ï¼›</li><li>next() æ“ä½œï¼šè¿”å›ä¸‹ä¸€å…ƒç´ ï¼ˆå½“ä¸å­˜åœ¨ä¸‹ä¸€å…ƒç´ æ—¶ï¼Œè¿”å› nullï¼‰ã€‚å®ç°ä¸Šï¼Œå°±æ˜¯è¿”å›æ¸¸æ ‡æŒ‡å‘çš„å…ƒç´ ï¼Œå¹¶è®©æ¸¸æ ‡åç§»ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;* * Below is the interface for Iterator, which is already defined for you. * **DO NOT** modify the interface for Iterator. * *  class Iterator &#123; *  struct Data; *   Data* data; *  public: *  Iterator(const vector&lt;int&gt;&amp; nums); *   Iterator(const Iterator&amp; iter); * *   &#x2F;&#x2F; Returns the next element in the iteration. *  int next(); * *  &#x2F;&#x2F; Returns true if the iteration has more elements. *  bool hasNext() const; * &#125;; *&#x2F;class PeekingIterator : public Iterator &#123;private:    int _next;    bool _hasNext;    public: PeekingIterator(const vector&lt;int&gt;&amp; nums) : Iterator(nums) &#123;     &#x2F;&#x2F; Initialize any member here.     &#x2F;&#x2F; **DO NOT** save a copy of nums and manipulate it directly.     &#x2F;&#x2F; You should only use the Iterator interface methods.     _hasNext &#x3D; Iterator::hasNext();        if(_hasNext) _next &#x3D; Iterator::next(); &#125;     &#x2F;&#x2F; Returns the next element in the iteration without advancing the iterator. int peek() &#123;        return _next; &#125;  &#x2F;&#x2F; hasNext() and next() should behave the same as in the Iterator interface. &#x2F;&#x2F; Override them if needed. int next() &#123;     int dummy &#x3D; _next;        _hasNext &#x3D; Iterator::hasNext();        if(_hasNext) _next &#x3D; Iterator::next();        return dummy; &#125;  bool hasNext() const &#123;     return _hasNext; &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p><p>  â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>design</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 26 26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</title>
    <link href="/2021/10/05/Leetcode/91-day/day-26/"/>
    <url>/2021/10/05/Leetcode/91-day/day-26/</url>
    
    <content type="html"><![CDATA[<h1 id="26-åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹"><a href="#26-åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹" class="headerlink" title="26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹"></a><strong><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/">26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½ åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ <span class="token function">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ è¯´æ˜<span class="token operator">:</span>ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢<span class="token operator">?</span>è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥ã€Œå¼•ç”¨ã€æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹<span class="token operator">:</span><span class="token comment">// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´</span><span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">removeDuplicates</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚</span><span class="token comment">// æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span><span class="token punctuation">,</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ <span class="token number">2</span><span class="token punctuation">,</span>å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚    ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">5</span><span class="token punctuation">,</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ <span class="token number">5</span><span class="token punctuation">,</span>å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span><span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">104</span>nums å·²æŒ‰å‡åºæ’åˆ—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç®€å•é¢˜ç›®ï¼Œåªéœ€è¦ä½¿ç”¨åŒæŒ‡é’ˆçš„è§£æ³•å³å¯ï¼Œé‡åˆ°è·Ÿ nums[l] ä¸ç›¸ç­‰çš„å€¼å°±å°† nums[r] çš„å€¼èµ‹ç»™ nums[l + 1] å³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int removeDuplicates(vector&lt;int&gt;&amp; nums) &#123;        int n &#x3D; nums.size();        if(n &#x3D;&#x3D; 0) return 0;        int l &#x3D; 0, r &#x3D; 1;        while(r &lt; n)        &#123;            if(nums[r] !&#x3D; nums[l])            &#123;                nums[++l] &#x3D; nums[r];                r++;            &#125;            else r++;        &#125;        return l + 1;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><p>  â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vector</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>482. å¯†é’¥æ ¼å¼åŒ–</title>
    <link href="/2021/10/04/Leetcode/482/"/>
    <url>/2021/10/04/Leetcode/482/</url>
    
    <content type="html"><![CDATA[<h1 id="482-å¯†é’¥æ ¼å¼åŒ–"><a href="#482-å¯†é’¥æ ¼å¼åŒ–" class="headerlink" title="482. å¯†é’¥æ ¼å¼åŒ–"></a><strong><a href="https://leetcode-cn.com/problems/license-key-formatting/">482. å¯†é’¥æ ¼å¼åŒ–</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æœ‰ä¸€ä¸ªå¯†é’¥å­—ç¬¦ä¸² S ï¼ŒåªåŒ…å«å­—æ¯ï¼Œæ•°å­—ä»¥åŠ <span class="token char">'-'</span>ï¼ˆç ´æŠ˜å·ï¼‰ã€‚å…¶ä¸­ï¼Œ N ä¸ª <span class="token char">'-'</span> å°†å­—ç¬¦ä¸²åˆ†æˆäº† N<span class="token operator">+</span><span class="token number">1</span> ç»„ã€‚ç»™ä½ ä¸€ä¸ªæ•°å­— Kï¼Œè¯·ä½ é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä½¿æ¯ä¸ªåˆ†ç»„æ°å¥½åŒ…å« K ä¸ªå­—ç¬¦ã€‚ç‰¹åˆ«åœ°ï¼Œç¬¬ä¸€ä¸ªåˆ†ç»„åŒ…å«çš„å­—ç¬¦ä¸ªæ•°å¿…é¡»å°äºç­‰äº Kï¼Œä½†è‡³å°‘è¦åŒ…å« <span class="token number">1</span> ä¸ªå­—ç¬¦ã€‚ä¸¤ä¸ªåˆ†ç»„ä¹‹é—´éœ€è¦ç”¨ <span class="token char">'-'</span>ï¼ˆç ´æŠ˜å·ï¼‰éš”å¼€ï¼Œå¹¶ä¸”å°†æ‰€æœ‰çš„å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚ç»™å®šéç©ºå­—ç¬¦ä¸² S å’Œæ•°å­— Kï¼ŒæŒ‰ç…§ä¸Šé¢æè¿°çš„è§„åˆ™è¿›è¡Œæ ¼å¼åŒ–ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šS <span class="token operator">=</span> <span class="token string">"5F3Z-2e-9-w"</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token string">"5F3Z-2E9W"</span>è§£é‡Šï¼šå­—ç¬¦ä¸² S è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ† <span class="token number">4</span> ä¸ªå­—ç¬¦ï¼›     æ³¨æ„ï¼Œä¸¤ä¸ªé¢å¤–çš„ç ´æŠ˜å·éœ€è¦åˆ æ‰ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šS <span class="token operator">=</span> <span class="token string">"2-5g-3-J"</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token string">"2-5G-3J"</span>è§£é‡Šï¼šå­—ç¬¦ä¸² S è¢«åˆ†æˆäº† <span class="token number">3</span> ä¸ªéƒ¨åˆ†ï¼ŒæŒ‰ç…§å‰é¢çš„è§„åˆ™æè¿°ï¼Œç¬¬ä¸€éƒ¨åˆ†çš„å­—ç¬¦å¯ä»¥å°‘äºç»™å®šçš„æ•°é‡ï¼Œå…¶ä½™éƒ¨åˆ†çš†ä¸º <span class="token number">2</span> ä¸ªå­—ç¬¦ã€‚ æç¤º<span class="token operator">:</span>S çš„é•¿åº¦å¯èƒ½å¾ˆé•¿ï¼Œè¯·æŒ‰éœ€åˆ†é…å¤§å°ã€‚K ä¸ºæ­£æ•´æ•°ã€‚S åªåŒ…å«å­—æ¯æ•°å­—ï¼ˆa<span class="token operator">-</span>zï¼ŒA<span class="token operator">-</span>Zï¼Œ<span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>ï¼‰ä»¥åŠç ´æŠ˜å·<span class="token char">'-'</span>S éç©º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç®€å•é¢˜ç›®ï¼Œä½†æ˜¯ç»†èŠ‚å¤„ç†è¦å¤„ç†å¥½ï¼Œä¹Ÿè€½è¯¯è‡ªå·±æ¥è¿‘åŠå°æ—¶çš„æ—¶é—´</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    string licenseKeyFormatting(string s, int k) &#123;        string res &#x3D; &quot;&quot;;        for(auto &amp; i : s)        &#123;            if(i &#x3D;&#x3D; &#39;-&#39;) continue;            else if(i &gt;&#x3D; &#39;a&#39; &amp;&amp; i &lt;&#x3D; &#39;z&#39;)  res +&#x3D; i - &#39;a&#39; + &#39;A&#39;;            else res +&#x3D; i;        &#125;        if(res.size() &#x3D;&#x3D; 0) return &quot;&quot;;        string ans &#x3D; &quot;&quot;;        int n &#x3D; res.size();        int per &#x3D; n &#x2F; k;    &#x2F;&#x2F;èƒ½åˆ†å‡åˆ†å‡ ç»„        int begin &#x3D; n % k;  &#x2F;&#x2F;ç¬¬ä¸€ç»„æœ‰å¤šå°‘ä¸ª        if(begin &#x3D;&#x3D; 0)        &#123;            for(int i &#x3D; 0; i &lt; n; i &#x3D; i + k)            &#123;                ans +&#x3D; res.substr(i, k);                ans +&#x3D; &#39;-&#39;;            &#125;            ans.pop_back();        &#125;        else         &#123;            ans +&#x3D; res.substr(0, begin);            ans +&#x3D; &#39;-&#39;;            for(int i &#x3D; begin; i &lt; n; i &#x3D; i + k)            &#123;                ans +&#x3D; res.substr(i, k);                ans +&#x3D; &#39;-&#39;;            &#125;            ans.pop_back();        &#125;        return ans;    &#125;       &#x2F;*  for(auto it &#x3D; s.begin(); it !&#x3D; s.end(); it++)        &#123;            if(*it &#x3D;&#x3D; &#39;-&#39;)            &#123;                s.erase(it);                it--;            &#125;            else if(islower(*it)) &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸ºå°å†™å­—æ¯            &#123;                *it &#x3D; toupper(*it);&#x2F;&#x2F;å°†å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯            &#125;        &#125;        int n &#x3D; s.size();        int begin &#x3D; n % k;        string ans &#x3D; s.substr(0, begin);        for(int i &#x3D; begin; i &lt; n; i +&#x3D; k)        &#123;            if(i !&#x3D; 0) ans +&#x3D; &quot;-&quot;;            ans +&#x3D; s.substr(i, k);        &#125;        return ans;    &#125; *&#x2F;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p><p>  â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>string</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 25 876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</title>
    <link href="/2021/10/04/Leetcode/91-day/day-25/"/>
    <url>/2021/10/04/Leetcode/91-day/day-25/</url>
    
    <content type="html"><![CDATA[<h1 id="876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹"><a href="#876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹" class="headerlink" title="876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹"></a><strong><a href="https://leetcode-cn.com/problems/middle-of-the-linked-list/">876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹ä¸º head çš„éç©ºå•é“¾è¡¨ï¼Œè¿”å›é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€‚å¦‚æœæœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼šæ­¤åˆ—è¡¨ä¸­çš„ç»“ç‚¹ <span class="token number">3</span> <span class="token punctuation">(</span>åºåˆ—åŒ–å½¢å¼ï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>è¿”å›çš„ç»“ç‚¹å€¼ä¸º <span class="token number">3</span> ã€‚ <span class="token punctuation">(</span>æµ‹è¯„ç³»ç»Ÿå¯¹è¯¥ç»“ç‚¹åºåˆ—åŒ–è¡¨è¿°æ˜¯ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬è¿”å›äº†ä¸€ä¸ª ListNode ç±»å‹çš„å¯¹è±¡ ansï¼Œè¿™æ ·ï¼šans<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> ans<span class="token punctuation">.</span>next<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> ans<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> ä»¥åŠ ans<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">.</span>    ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>è¾“å‡ºï¼šæ­¤åˆ—è¡¨ä¸­çš„ç»“ç‚¹ <span class="token number">4</span> <span class="token punctuation">(</span>åºåˆ—åŒ–å½¢å¼ï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>ç”±äºè¯¥åˆ—è¡¨æœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º <span class="token number">3</span> å’Œ <span class="token number">4</span>ï¼Œæˆ‘ä»¬è¿”å›ç¬¬äºŒä¸ªç»“ç‚¹ã€‚æç¤ºï¼šç»™å®šé“¾è¡¨çš„ç»“ç‚¹æ•°ä»‹äº <span class="token number">1</span> å’Œ <span class="token number">100</span> ä¹‹é—´ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€ç®€å•é¢˜ç›®ï¼Œå¼€å§‹æ€è·¯ä¸ºæ±‚å…¶é•¿åº¦ï¼Œå¥‡æ•°æŠ˜åŠï¼Œå¶æ•°æŠ˜åŠå‡ä¸€ï¼Œä¼˜åŒ–åç›´æ¥å¿«æ…¢æŒ‡é’ˆå³å¯ã€‚</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    ListNode* middleNode(ListNode* head) &#123;        &#x2F;* if(head -&gt; next &#x3D;&#x3D; nullptr) return head;        int len &#x3D; 1;        ListNode* fast &#x3D; head;        while(fast)        &#123;            fast &#x3D; fast -&gt; next;            len++;        &#125;        if(len % 2 !&#x3D; 0) len &#x2F;&#x3D; 2;        else len &#x3D; len &#x2F; 2 - 1;        ListNode* slow &#x3D; head;        while(len)        &#123;            slow &#x3D; slow -&gt; next;            len--;        &#125;        return slow; *&#x2F;        ListNode* slow &#x3D; head;        ListNode* fast &#x3D; head;        while (fast !&#x3D; nullptr &amp;&amp; fast -&gt; next !&#x3D; nullptr)         &#123;            slow &#x3D; slow -&gt; next;            fast &#x3D; fast -&gt; next -&gt; next;        &#125;        return slow;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><p>  â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linklist</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 24 924. åˆ é™¤å­åˆ—è¡¨ä»¥ä½¿æ€»å’Œå¯è¢« K æ•´é™¤</title>
    <link href="/2021/10/03/Leetcode/91-day/day-24/"/>
    <url>/2021/10/03/Leetcode/91-day/day-24/</url>
    
    <content type="html"><![CDATA[<h1 id="924-åˆ é™¤å­åˆ—è¡¨ä»¥ä½¿æ€»å’Œå¯è¢«-K-æ•´é™¤"><a href="#924-åˆ é™¤å­åˆ—è¡¨ä»¥ä½¿æ€»å’Œå¯è¢«-K-æ•´é™¤" class="headerlink" title="924. åˆ é™¤å­åˆ—è¡¨ä»¥ä½¿æ€»å’Œå¯è¢« K æ•´é™¤"></a><strong><a href="https://binarysearch.com/problems/Delete-Sublist-to-Make-Sum-Divisible-By-K">924. åˆ é™¤å­åˆ—è¡¨ä»¥ä½¿æ€»å’Œå¯è¢« K æ•´é™¤</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">You are given a list of positive integers nums <span class="token operator">and</span> a positive integer k<span class="token punctuation">.</span> Return the length of the shortest <span class="token function">sublist</span> <span class="token punctuation">(</span>can be empty sublist <span class="token punctuation">)</span> you can <span class="token keyword">delete</span> such that the resulting list<span class="token number">'</span>s sum is divisible by k<span class="token punctuation">.</span> You cannot <span class="token keyword">delete</span> the entire list<span class="token punctuation">.</span> If it<span class="token number">'</span>s <span class="token operator">not</span> possible<span class="token punctuation">,</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1.</span>Constraints<span class="token number">1</span> â‰¤ n â‰¤ <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> where n is the length of numsExample <span class="token number">1</span>Inputnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>k <span class="token operator">=</span> <span class="token number">7</span>Output<span class="token number">2</span>ExplanationWe can remove the sublist <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> to get <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> which sums to <span class="token number">14</span> <span class="token operator">and</span> is divisible by <span class="token number">7.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€æ•°å­¦ä¸­çš„åŒä½™å®šç†ï¼Œä»¥åŠå‰ç¼€å’Œçš„æ€è·¯ï¼</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int solve(vector&lt;int&gt;&amp; nums, int k) &#123;        int sum &#x3D; 0;        for(auto i : nums)         &#123;            sum +&#x3D; i;        &#125;        sum &#x3D; sum % k;        map&lt;int, int&gt; up;        up[0] &#x3D; -1;        int pre &#x3D; 0, n &#x3D; nums.size();        int ans &#x3D; nums.size();        for (int i &#x3D; 0; i &lt; n; i++)         &#123;            pre +&#x3D; nums[i];            int re &#x3D; pre % k;            up[re] &#x3D; i;            int x &#x3D; pre - sum;            int m &#x3D; ((x % k) + k) % k;            if (up.count(m)) ans &#x3D; min(ans, i - up[m]);        &#125;        return ans &#x3D;&#x3D; nums.size() ? -1 : ans;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 23 30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²</title>
    <link href="/2021/10/02/Leetcode/91-day/day-23/"/>
    <url>/2021/10/02/Leetcode/91-day/day-23/</url>
    
    <content type="html"><![CDATA[<h1 id="30-ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²"><a href="#30-ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²" class="headerlink" title="30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²"></a><strong><a href="https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/">30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€äº› é•¿åº¦ç›¸åŒ çš„å•è¯ words ã€‚æ‰¾å‡º s ä¸­æ°å¥½å¯ä»¥ç”± words ä¸­æ‰€æœ‰å•è¯ä¸²è”å½¢æˆçš„å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚æ³¨æ„å­ä¸²è¦ä¸ words ä¸­çš„å•è¯å®Œå…¨åŒ¹é…ï¼Œä¸­é—´ä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ ï¼Œä½†ä¸éœ€è¦è€ƒè™‘ words ä¸­å•è¯ä¸²è”çš„é¡ºåºã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"barfoothefoobarman"</span><span class="token punctuation">,</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">,</span><span class="token string">"bar"</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>è§£é‡Šï¼šä»ç´¢å¼• <span class="token number">0</span> å’Œ <span class="token number">9</span> å¼€å§‹çš„å­ä¸²åˆ†åˆ«æ˜¯ <span class="token string">"barfoo"</span> å’Œ <span class="token string">"foobar"</span> ã€‚è¾“å‡ºçš„é¡ºåºä¸é‡è¦<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span> ä¹Ÿæ˜¯æœ‰æ•ˆç­”æ¡ˆã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"wordgoodgoodgoodbestword"</span><span class="token punctuation">,</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"word"</span><span class="token punctuation">,</span><span class="token string">"good"</span><span class="token punctuation">,</span><span class="token string">"best"</span><span class="token punctuation">,</span><span class="token string">"word"</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"barfoofoobarthefoobarman"</span><span class="token punctuation">,</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"bar"</span><span class="token punctuation">,</span><span class="token string">"foo"</span><span class="token punctuation">,</span><span class="token string">"the"</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">104</span>s ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ<span class="token number">1</span> <span class="token operator">&lt;=</span> words<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">5000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">30</span>words<span class="token punctuation">[</span>i<span class="token punctuation">]</span> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><blockquote><ul><li>1ã€å›°éš¾é¢˜ç›®ï¼Œå¼€å±€æ€è€ƒåŠå°æ—¶ï¼Œå‘ç°åº”è¯¥å¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£çš„è§£æ³•</li><li>2ã€å…·ä½“æ€æƒ³ä¸ºä½¿ç”¨ä¸¤ä¸ª unordered_mapï¼Œä¸€ä¸ª up æ¥è®°å½•æ€»çš„ words é‡Œå•è¯å’Œå¯¹åº”çš„æ•°é‡ï¼Œå¦ä¸€ä¸ª ump ç”¨æ¥è®°å½•éå†çš„æ»‘åŠ¨çª—å£å†…çš„ words ä¸­çš„å•è¯å’Œå¯¹åº”çš„æ•°é‡ã€‚</li><li>3ã€éå†æ˜¯å¢åŠ ä¸€ä¸ªå•è¯é•¿åº¦ï¼ŒæŒ‰ç…§ ws å»ç§»åŠ¨çª—å£ï¼Œå¯¹äºæ¯æ¬¡æ¡£æ¬¡éå†ï¼Œç»´æŒçª—å£ l &#x3D; r</li><li>4ã€è‹¥å•è¯åœ¨ ump é‡Œä¸å­˜åœ¨ï¼Œé‡ç½®çª—å£å¹¶æ¸…ç©º umpï¼›</li><li>5ã€å•è¯åœ¨ ump é‡Œå­˜åœ¨ï¼Œæœ‰ä¸¤ç§æ¸…ç©ºï¼Œå•è¯å‡ºç°çš„æ¬¡æ•°è¶…å‡º ump ä¸­çš„é‚£ä¸€ä¸ªå•è¯çš„æ¬¡æ•°ï¼Œæ‰€ä»¥éœ€è¦å°†å·¦è¾¹ç•Œå¢å¤§ï¼Œå³å³ç§» lï¼Œå¦‚æœ cnt éƒ½æ»¡è¶³å³ç­‰äº nsï¼Œåˆ™æ’å…¥ l ä½œä¸ºå½“å‰çš„ç­”æ¡ˆå€¼</li></ul></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;int&gt; findSubstring(string s, vector&lt;string&gt;&amp; words) &#123;        vector&lt;int&gt; ans;        int n &#x3D; s.size();        if(n &lt;&#x3D; 0 || words.empty()) return ans;        int ws &#x3D; words[0].size();&#x2F;&#x2F;wordsä¸­çš„wordçš„é•¿åº¦ï¼Œä¸ºç»Ÿä¸€é•¿åº¦        int ns &#x3D; words.size();&#x2F;&#x2F;wordsä¸­çš„wordæ•°é‡        unordered_map&lt;string, int&gt; up; &#x2F;&#x2F;ä¿å­˜wordsä¸­çš„word        for(auto &amp; w : words)        &#123;            up[w]++;&#x2F;&#x2F;è®°å½•æ¯ä¸€ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°        &#125;        for(int i &#x3D; 0; i &lt; ws; i++)        &#123;            int l &#x3D; i, r &#x3D; i; &#x2F;&#x2F;ä»å·¦å¼€å§‹            int cnt &#x3D; 0;&#x2F;&#x2F;ä¸‹æ–‡umpå­˜æ”¾çš„å•è¯æ€»æ•°ï¼            unordered_map&lt;string, int&gt; ump;            while(r + ws &lt;&#x3D; n)&#x2F;&#x2F;å³è¾¹é•¿åº¦åŠ æ¯ä¸ªå•è¯é•¿åº¦è¦å°äºsçš„å…¨é•¿            &#123;                string res &#x3D; s.substr(r, ws); &#x2F;&#x2F;åœ¨å³è¾¹ç•ŒåŠ å…¥ä¸€ä¸ªå•è¯                r +&#x3D; ws;&#x2F;&#x2F;æ‰©å±•å³è¾¹ç•Œ                if(up.find(res) !&#x3D; up.end()) &#x2F;&#x2F;æŸ¥çœ‹resåœ¨upä¸­çš„ä½ç½®                &#123;                    ump[res]++;                    cnt++;                    while(ump[res] &gt; up[res])&#x2F;&#x2F; éœ€è¦æ£€æŸ¥æ•°é‡æ˜¯å¦è¶…è¿‡ï¼Œè¶…è¿‡åˆ™è¦å³ç§»left                    &#123; &#x2F;&#x2F;æ¥ç¼©å°çª—å£                        string tmp &#x3D; s.substr(l, ws);                        l +&#x3D; ws;                        cnt--;                        ump[tmp]--;                    &#125;                    if(cnt &#x3D;&#x3D; ns) ans.push_back(l);                &#125;                else &#x2F;&#x2F;æœªå‡ºç°ï¼Œèˆå¼ƒæ­¤å•è¯ã€‚æ¸…ç©º                &#123;                    l &#x3D; r;                    cnt &#x3D; 0;                    ump.clear();                &#125;            &#125;        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šæ•´ä½“å¤æ‚åº¦ä¸º O(ns * ws)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(ns * ws)ï¼Œå¯èƒ½æœ‰ä¸€äº›é—®é¢˜ï¼Œæœ‰ç©ºå†æ¥æ€è€ƒ</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 22 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="/2021/10/01/Leetcode/91-day/day-22/"/>
    <url>/2021/10/01/Leetcode/91-day/day-22/</url>
    
    <content type="html"><![CDATA[<h1 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a><strong><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚ ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"abcabcbb"</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">3</span> è§£é‡Š<span class="token operator">:</span> å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="token string">"abc"</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="token number">3</span>ã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"bbbbb"</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">1</span>è§£é‡Š<span class="token operator">:</span> å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="token string">"b"</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="token number">1</span>ã€‚ç¤ºä¾‹ <span class="token number">3</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">"pwwkew"</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">3</span>è§£é‡Š<span class="token operator">:</span> å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="token string">"wke"</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="token number">3</span>ã€‚     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ<span class="token string">"pwke"</span> æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚ç¤ºä¾‹ <span class="token number">4</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token string">""</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">0</span> æç¤ºï¼š<span class="token number">0</span> <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">104</span>s ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æœ¬é¢˜æ˜¯å¾ˆç»å…¸çš„æ»‘åŠ¨çª—å£çš„é¢˜ç›®ï¼Œå»ºç«‹unordered_seté›†åˆï¼Œç¡®è®¤é›†åˆä¸­æ²¡æœ‰é‡å¤å…ƒç´ ï¼Œå…¶ä¸­è°ƒç”¨ unordered_setçš„find()æ–¹æ³•ï¼Œæ­¤æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘å’Œå‚æ•°å“ˆå¸Œå€¼åŒ¹é…çš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œä¼šè¿”å›è¿™ä¸ªå®¹å™¨çš„ç»“æŸè¿­ä»£å™¨ã€‚</li><li>2ã€æœ¬é¢˜åªéœ€è¦ä¸€ç›´ç§»å…¥strï¼Œå½“strä¸æ»¡è¶³é¢˜ç›®æ„æ€æ—¶å€™ï¼Œç§»é™¤å·¦è¾¹çš„å…ƒç´ ï¼Œç›´åˆ°æ»¡è¶³é¢˜ç›®è¦æ±‚ä¸ºæ­¢ï¼Œä¾¿å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int lengthOfLongestSubstring(string s) &#123;        int n &#x3D; s.size();        unordered_set&lt;char&gt; ans;        int str &#x3D; 0;        int l &#x3D; 0;        for(int i &#x3D; 0; i &lt; n; i++)        &#123;            while(ans.find(s[i]) !&#x3D; ans.end())             &#123;                ans.erase(s[l]);                l++;            &#125;            str &#x3D; max(str, i - l + 1);            ans.insert(s[i]);        &#125;        return str;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO($n$)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO($n$)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_set</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å±äºäºŒæˆ˜çš„ä¸€äº›ä¸ªäººçš„æ€è€ƒ</title>
    <link href="/2021/10/01/summary/think/"/>
    <url>/2021/10/01/summary/think/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä»Šå¤©æƒ³å†™ä¸€ä¸‹äºŒæˆ˜è€ƒç ”çš„ä¸€äº›æƒ³æ³•ï¼Œå› ä¸ºè‡ªå·±çš„å¤§å­¦åŸºç¡€èµ°çš„å¹¶ä¸æ‰å®ï¼Œå¥½å¥½çš„è‡ªå·±ä¸ªäººçš„ç»¼åˆç´ è´¨è¢«è‡ªå·±ç”¨çš„å«åšä¸€å¡Œç³Šæ¶‚ï¼Œè‡ªå·±æœ¬ç§‘æ—¶å€™åšçš„é¡¹ç›®ä¸ç«èµ›æ²¡å¾—ä¸€ä¸ªèƒ½æ‹¿çš„å‡ºæ‰‹çš„ï¼Œè‡ªå·±å¤§å­¦ä¹Ÿå°±åšå‡ºäº†ä¸€ä¸ªé‡è¦çš„å†³å®šï¼Œå°±æ˜¯è‡ªå·±èƒ½åœ¨å¤§ä¸€çš„æ—¶å€™è½¬äº†ä¸“ä¸šã€‚</p></blockquote><p>è‡ªå·±å¯æƒœåœ¨å¤§å­¦çš„æ—¶å€™æ²¡èƒ½å¤šæƒ³ä¸€äº›ï¼Œå¤šè¡ŒåŠ¨ä¸€äº›ï¼Œè¿™æ ·è‡ªå·±ä¹Ÿèƒ½å¤Ÿå­¦å¾—æ›´å¤šï¼Œå­¦çš„æ›´åŠ æ‰å®ä¸€äº›ã€‚</p><p>å¦‚ä¸‹ï¼š</p><blockquote><p>åšä»»ä½•é€‰æ‹©éƒ½è¦åšåˆ°â€é€€å¯ä»¥å®ˆï¼Œè¿›å¯ä»¥æ”»ã€‚â€</p><p>æœ¬ç§‘ç†åº”å…ˆæŠŠåŸºç¡€æ‰“å¥½ï¼Œå­¦å¾—æ‰å®ä¸€ç‚¹ï¼Œè¿™æ ·æ˜¯æœ€ç¨³å¦¥ä¹Ÿæœ€å®‰å…¨çš„ï¼ŒåŸºç¡€æ˜¯ç»è¿‡åƒä¸‡äººçš„æ£€éªŒï¼Œç¨³å®šå¯é çš„ä¸œè¥¿ï¼Œå˜åŒ–ä¹Ÿæœ€æ…¢ï¼Œ æ¯”å¦‚è¯´ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œæ“ä½œç³»ç»Ÿç¼–è¯‘åŸç†ï¼Œ</p><p> æ¯”å¦‚è¯´é«˜ç­‰æ•°å­¦å’Œçº¿æ€§ä»£æ•°ã€‚</p><p>å¸‚é¢ä¸Šé‚£äº›èŠ±èŠ±é—ªé—ªçš„ä¸œè¥¿éƒ½æ ¹æ¤äºæ­¤ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ã€‚å­¦é€šä¹‹åï¼Œå¸‚é¢ä¸Šçš„å¾ˆå¤šçœ‹èµ·æ¥å¾ˆé«˜çš„è¡Œä¸šå£å’ä¹Ÿä¼šä¸å¤å­˜åœ¨ï¼Œè¦é€€ä¸€æ­¥æ‰¾åˆ°ä¸é‚£ä¹ˆå‰æ²¿ä½†éœ€æ±‚æ—ºç››çš„æ–¹å‘ä¹Ÿç›¸å¯¹æ–¹ä¾¿ã€‚</p><p>å¦‚æœè¿™ä¸ªåŸºç¡€ä¸Šï¼Œèƒ½å¤Ÿè¶³å¤Ÿç‰›ï¼Œå…ˆè¯•è¯•æ°´é’»ç ”æŸä¸ª AI çš„ç‰¹å®šæ–¹å‘ï¼ŒæŠ€æœ¯æ–‡ç« çœ‹å¾—å¤šä¸€ç‚¹ï¼ŒæŒ–å¾—æ·±ä¸€ç‚¹ï¼Œèµ°å¾—æ¯”åˆ«äººå¿«ä¸€ç‚¹ï¼ŒçŸ¥é“çš„å°±æ¯”åˆ«äººå¤šï¼Œé€‰æ‹©å°±æ¯”åˆ«äººå®½å¹¿ï¼Œè€Œä¸”ä»¥åå†åšå‡ºæ¥çš„é€‰æ‹©ä¹Ÿä¼šæ›´è´´è¿‘è‡ªå·±çš„æƒ…å†µã€‚ç°åœ¨ç½‘ä¸Šå„ç§èµ„æºé‚£ä¹ˆå¤šï¼Œå¥½å¥½å­¦ä¹ æé«˜ï¼Œæ€»ä¸ä¼šæ˜¯ä¸€ä»¶åäº‹ã€‚è¿™å’Œåœ¨å“ªä¸ªå­¦æ ¡æ— å…³ï¼Œåœ¨å“ªä¸ªä¸“ä¸šä¹Ÿæ— å…³ã€‚</p><p>åˆ°è¿™æ—¶å€™å†å›å¤´çœ‹å½“æ—¶çš„è®¡åˆ’ï¼Œå¯èƒ½å°±ä¼šå“‘ç„¶å¤±ç¬‘ï¼Œå› ä¸ºè¿œè¿œæœ‰æ›´å¤šæ›´å¥½çš„é€‰æ‹©åœ¨é‚£é‡Œï¼Œåªæ˜¯å½“æ—¶åäº•è§‚å¤©ï¼Œä»¥ä¸ºä¸–ç•Œå°±é‚£ä¹ˆå¤§ã€‚</p><p>ä½œè€…ï¼šç”°æ¸Šæ ‹<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/410286656/answer/1368251825">https://www.zhihu.com/question/410286656/answer/1368251825</a><br>æ¥æºï¼šçŸ¥ä¹</p></blockquote><p><img src="/images/somedays/1.png" alt="image1"></p><p>éå¸¸è‚¯å®šè¿™ä¸ªå¤§ä½¬çš„è¯´æ³•ã€‚</p><p>æ‰€ä»¥è‡ªå·±åœ¨ä¸€æˆ˜äºŒæˆ˜çš„è¿‡ç¨‹ä¸­çš„æ”¶è·ä¹Ÿè®©è‡ªå·±èµ°åˆ°äº†å¦‚ä»Šè¿™ä¸ªä½ç½®ï¼Œæ•°æ®ç»“æ„ä¸ç®—æ³•ç¼–ç¨‹èƒ½åŠ›çš„æå‡ï¼Œæ•°å­¦æ€ç»´çš„æå‡ï¼Œä»¥åŠå¯¹è¯­è¨€çš„åº”ç”¨èƒ½åŠ›ï¼Œè‹±è¯­é˜…è¯»çš„èƒ½åŠ›ã€‚</p><p>è™½ç„¶è·ç¦»è‡ªå·±ç†æƒ³çš„çŠ¶æ€å·®è·è¿˜å¾ˆå¤§ï¼Œä½†æ˜¯é€ƒç¦»äº†å­¦æ ¡ï¼Œé€ƒè„±äº†ä¸€ç›´é™·åœ¨æ³¥æ½­é‡Œé¢çš„å®¤å‹ï¼Œè‡ªå·±æ²‰ä¸‹å¿ƒï¼Œè¿˜æ˜¯èƒ½åšå¾ˆå¤šå¾ˆå¤šçš„äº‹æƒ…ï¼šæ—©ç¡æ—©èµ·ï¼ŒåšæŒè¿åŠ¨ï¼Œå­¦ä¹ æŠ€èƒ½ï¼Œéƒ½æ˜¯è€ƒç ”è¿‡ç¨‹ä¸­æ‰€å¸¦ç»™è‡ªå·±çš„ã€‚</p><p>æƒ³èµ·å„’å®¶å­¦è¯´ä¸­ï¼Œå‡ºäºè¯­å‡ºã€Šç¤¼è®°Â·ä¸­åº¸ã€‹çš„æ…ç‹¬è‡ªå¾‹ç²¾ç¥ï¼Œä¸ä»…åªæ˜¯è¦æ±‚è‡ªå·±çš„é“å¾·æ ‡æ†ï¼Œåœ¨ç°åœ¨è¿™ä¸ªç¤¾ä¼šï¼Œæ›´ä½“ç°åœ¨è‡ªå¾‹çš„ä¹ æƒ¯ä¹‹ä¸Šã€‚</p>]]></content>
    
    
    <categories>
      
      <category>summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Thinking</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 21 447. å›æ—‹é•–çš„æ•°é‡</title>
    <link href="/2021/09/30/Leetcode/91-day/day-21/"/>
    <url>/2021/09/30/Leetcode/91-day/day-21/</url>
    
    <content type="html"><![CDATA[<h1 id="447-å›æ—‹é•–çš„æ•°é‡"><a href="#447-å›æ—‹é•–çš„æ•°é‡" class="headerlink" title="447. å›æ—‹é•–çš„æ•°é‡"></a><strong><a href="https://leetcode-cn.com/problems/number-of-boomerangs/">447. å›æ—‹é•–çš„æ•°é‡</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šå¹³é¢ä¸Š n å¯¹ äº’ä¸ç›¸åŒ çš„ç‚¹ points ï¼Œå…¶ä¸­ points<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>xi<span class="token punctuation">,</span> yi<span class="token punctuation">]</span> ã€‚å›æ—‹é•– æ˜¯ç”±ç‚¹ <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">)</span> è¡¨ç¤ºçš„å…ƒç»„ ï¼Œå…¶ä¸­ i å’Œ j ä¹‹é—´çš„è·ç¦»å’Œ i å’Œ k ä¹‹é—´çš„æ¬§å¼è·ç¦»ç›¸ç­‰ï¼ˆéœ€è¦è€ƒè™‘å…ƒç»„çš„é¡ºåºï¼‰ã€‚è¿”å›å¹³é¢ä¸Šæ‰€æœ‰å›æ—‹é•–çš„æ•°é‡ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼špoints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>è§£é‡Šï¼šä¸¤ä¸ªå›æ—‹é•–ä¸º <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼špoints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">2</span>    ç¤ºä¾‹ <span class="token number">3</span>ï¼š    è¾“å…¥ï¼špoints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">0</span> æç¤ºï¼šn <span class="token operator">==</span> points<span class="token punctuation">.</span>length<span class="token number">1</span> <span class="token operator">&lt;=</span> n <span class="token operator">&lt;=</span> <span class="token number">500</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> xi<span class="token punctuation">,</span> yi <span class="token operator">&lt;=</span> <span class="token number">104</span>æ‰€æœ‰ç‚¹éƒ½ äº’ä¸ç›¸åŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æœ¬é¢˜çš„é—®é¢˜ç¿»è¯‘æˆäººè¯å°±æ˜¯æ±‚äºŒç»´å¹³é¢ä¸Šæ‰€ç»™å‡ºçš„ç‚¹ç»„æˆç­‰è…°ä¸‰è§’å½¢çš„ä¸¤æ¡è…°è¾¹ä¸‰ä¸ªé¡¶ç‚¹ï¼Œè¿”å›å…¶æ€»æ•°ã€‚</li><li>2ã€ä½¿ç”¨unordered_mapè¿›è¡Œå¤„ç†ï¼Œç„¶åç¡®å®šiä¸ºä¸‰å…ƒç»„ç¬¬ä¸€ä½çš„å›æ—‹é•–ä¸ªæ•°å‰ï¼Œå…ˆè®¡ç®—å‡ºiå’Œå…¶ä½™ç‚¹çš„è·ç¦»ï¼Œå¹¶ä»¥ {è·ç¦» : ä¸ªæ•°} è¿›è¡Œå­˜å‚¨ï¼Œæœ€ååˆ†åˆ«å¯¹æ‰€æœ‰çš„è·ç¦»è¿›è¡Œç´¯åŠ è®¡æ•°ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int numberOfBoomerangs(vector&lt;vector&lt;int&gt;&gt;&amp; p) &#123;        int n &#x3D; p.size();        int ans &#x3D; 0;        for(int i &#x3D; 0; i &lt; n; i++)        &#123;            unordered_map&lt;int, int&gt; up;            for(int j &#x3D; 0; j &lt; n; j++)            &#123;                if(i &#x3D;&#x3D; j) continue;                int x &#x3D; p[i][0] - p[j][0];                int y &#x3D; p[i][1] - p[j][1];                int d &#x3D; x * x + y *y;                ++up[d];            &#125;            for(auto [d, cnt] : up)            &#123;                ans +&#x3D; cnt * (cnt - 1);            &#125;        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO($n^2$)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO($n$)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 20 347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ </title>
    <link href="/2021/09/29/Leetcode/91-day/day-20/"/>
    <url>/2021/09/29/Leetcode/91-day/day-20/</url>
    
    <content type="html"><![CDATA[<h1 id="347-å‰-K-ä¸ªé«˜é¢‘å…ƒç´ "><a href="#347-å‰-K-ä¸ªé«˜é¢‘å…ƒç´ " class="headerlink" title="347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ "></a><strong><a href="https://leetcode-cn.com/problems/top-k-frequent-elements/">347. å‰ K ä¸ªé«˜é¢‘å…ƒç´ </a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ è¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡º<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">105</span>k çš„å–å€¼èŒƒå›´æ˜¯ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°<span class="token punctuation">]</span>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå”¯ä¸€ï¼Œæ¢å¥è¯è¯´ï¼Œæ•°ç»„ä¸­å‰ k ä¸ªé«˜é¢‘å…ƒç´ çš„é›†åˆæ˜¯å”¯ä¸€çš„ è¿›é˜¶ï¼šä½ æ‰€è®¾è®¡ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ å¿…é¡» ä¼˜äº <span class="token function">O</span><span class="token punctuation">(</span>n log n<span class="token punctuation">)</span> ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„å¤§å°ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€å…¸å‹çš„å¤§é¡¶å †é—®é¢˜ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªæ— åºçš„unordered_mapä¿å­˜é”®å€¼å¯¹ï¼Œè€Œååœ¨å»ºç«‹ä¸€ä¸ªpriority_queueï¼Œå› ä¸ºC++ä¸­priority_queueé»˜è®¤æ˜¯å¤§é¡¶å †çš„å»ºç«‹ï¼Œæ•…å°†unordered_mapä¸­çš„åºåˆ—å¯¹{k,v}åºåˆ—æ”¹ä¸º{v,k}å³å¯ä¿å­˜åœ¨priority_queueä¸­ã€‚ç„¶åè¾“å‡ºå‰nä¸ªé”®å€¼å¯¹çš„vå€¼å³å¯ã€‚</li><li>2ã€è¿›é˜¶ç‰ˆå¯ä»¥æ‰‹å†™ä¸€ä¸ªå †æ›¿æ¢priority_queueï¼Œç­‰ä»¥åæœ‰æ—¶é—´å†æ¥è¡¥å‘ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;int&gt; topKFrequent(vector&lt;int&gt;&amp; nums, int n) &#123;        unordered_map&lt;int, int&gt; up;        for(auto i : nums) up[i]++;        priority_queue&lt;pair&lt;int, int&gt;&gt; p;        for(auto it &#x3D; up.begin(); it !&#x3D; up.end(); it++)         &#123;            p.push(&#123;it -&gt; second, it -&gt; first&#125;);        &#125;        vector&lt;int&gt; ans;        while(n--)         &#123;            ans.push_back(p.top().second);            p.pop();        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>priority_queue</tag>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 19 1. ä¸¤æ•°ä¹‹å’Œ</title>
    <link href="/2021/09/28/Leetcode/91-day/day-19/"/>
    <url>/2021/09/28/Leetcode/91-day/day-19/</url>
    
    <content type="html"><![CDATA[<h1 id="1-ä¸¤æ•°ä¹‹å’Œ"><a href="#1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="1. ä¸¤æ•°ä¹‹å’Œ"></a><strong><a href="https://leetcode-cn.com/problems/two-sum/">1. ä¸¤æ•°ä¹‹å’Œ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target çš„é‚£ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">9</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è§£é‡Šï¼šå› ä¸º nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">9</span> ï¼Œè¿”å› <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> ã€‚    ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">6</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>    ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">6</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> æç¤ºï¼š<span class="token number">2</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">104</span><span class="token operator">-</span><span class="token number">109</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">109</span><span class="token operator">-</span><span class="token number">109</span> <span class="token operator">&lt;=</span> target <span class="token operator">&lt;=</span> <span class="token number">109</span>åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆè¿›é˜¶ï¼šä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº <span class="token function">O</span><span class="token punctuation">(</span>n2<span class="token punctuation">)</span> çš„ç®—æ³•å—ï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æš´åŠ›è§£æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸»è¦æ˜¯å›å¿†ä¸€ä¸‹unordered_mapçš„ç›¸å…³ä½¿ç”¨æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥çœ‹æœ¬åšå®¢å»å¹´çš„æ€»ç»“ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) &#123;        unordered_map&lt;int, int&gt; umap;        int n &#x3D; nums.size();        for(int i &#x3D; 0; i &lt; n; i++)        &#123;            auto it &#x3D; umap.find(target - nums[i]);            if(it !&#x3D; umap.end())            &#123;                return &#123;it -&gt; second, i&#125;;            &#125;            umap[nums[i]] &#x3D; i;        &#125;        return &#123;&#125;;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œä»…éœ€ä¸€æ¬¡éå†å³å¯</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day 18 987. äºŒå‰æ ‘çš„å‚åºéå†</title>
    <link href="/2021/09/27/Leetcode/91-day/day-18/"/>
    <url>/2021/09/27/Leetcode/91-day/day-18/</url>
    
    <content type="html"><![CDATA[<h1 id="987-äºŒå‰æ ‘çš„å‚åºéå†"><a href="#987-äºŒå‰æ ‘çš„å‚åºéå†" class="headerlink" title="987. äºŒå‰æ ‘çš„å‚åºéå†"></a><strong><a href="https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree/">987. äºŒå‰æ ‘çš„å‚åºéå†</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œè¯·ä½ è®¾è®¡ç®—æ³•è®¡ç®—äºŒå‰æ ‘çš„ å‚åºéå† åºåˆ—ã€‚å¯¹ä½äº <span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span> çš„æ¯ä¸ªç»“ç‚¹è€Œè¨€ï¼Œå…¶å·¦å³å­ç»“ç‚¹åˆ†åˆ«ä½äº <span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> å’Œ <span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> ã€‚æ ‘çš„æ ¹ç»“ç‚¹ä½äº <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> ã€‚äºŒå‰æ ‘çš„å‚åºéå†ä»æœ€å·¦è¾¹çš„åˆ—å¼€å§‹ç›´åˆ°æœ€å³è¾¹çš„åˆ—ç»“æŸï¼ŒæŒ‰åˆ—ç´¢å¼•æ¯ä¸€åˆ—ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼Œå½¢æˆä¸€ä¸ªæŒ‰å‡ºç°ä½ç½®ä»ä¸Šåˆ°ä¸‹æ’åºçš„æœ‰åºåˆ—è¡¨ã€‚å¦‚æœåŒè¡ŒåŒåˆ—ä¸Šæœ‰å¤šä¸ªç»“ç‚¹ï¼Œåˆ™æŒ‰ç»“ç‚¹çš„å€¼ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚è¿”å›äºŒå‰æ ‘çš„ å‚åºéå† åºåˆ—ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è§£é‡Šï¼šåˆ— <span class="token operator">-</span><span class="token number">1</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">9</span> åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  <span class="token number">0</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">3</span> å’Œ <span class="token number">15</span> åœ¨æ­¤åˆ—ä¸­ï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºã€‚åˆ—  <span class="token number">1</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">20</span> åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  <span class="token number">2</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">7</span> åœ¨æ­¤åˆ—ä¸­ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è§£é‡Šï¼šåˆ— <span class="token operator">-</span><span class="token number">2</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">4</span> åœ¨æ­¤åˆ—ä¸­ã€‚åˆ— <span class="token operator">-</span><span class="token number">1</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">2</span> åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  <span class="token number">0</span> ï¼šç»“ç‚¹ <span class="token number">1</span> ã€<span class="token number">5</span> å’Œ <span class="token number">6</span> éƒ½åœ¨æ­¤åˆ—ä¸­ã€‚          <span class="token number">1</span> åœ¨ä¸Šé¢ï¼Œæ‰€ä»¥å®ƒå‡ºç°åœ¨å‰é¢ã€‚          <span class="token number">5</span> å’Œ <span class="token number">6</span> ä½ç½®éƒ½æ˜¯ <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> ï¼Œæ‰€ä»¥æŒ‰å€¼ä»å°åˆ°å¤§æ’åºï¼Œ<span class="token number">5</span> åœ¨ <span class="token number">6</span> çš„å‰é¢ã€‚åˆ—  <span class="token number">1</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">3</span> åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  <span class="token number">2</span> ï¼šåªæœ‰ç»“ç‚¹ <span class="token number">7</span> åœ¨æ­¤åˆ—ä¸­ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è§£é‡Šï¼šè¿™ä¸ªç¤ºä¾‹å®é™…ä¸Šä¸ç¤ºä¾‹ <span class="token number">2</span> å®Œå…¨ç›¸åŒï¼Œåªæ˜¯ç»“ç‚¹ <span class="token number">5</span> å’Œ <span class="token number">6</span> åœ¨æ ‘ä¸­çš„ä½ç½®å‘ç”Ÿäº†äº¤æ¢ã€‚å› ä¸º <span class="token number">5</span> å’Œ <span class="token number">6</span> çš„ä½ç½®ä»ç„¶ç›¸åŒï¼Œæ‰€ä»¥ç­”æ¡ˆä¿æŒä¸å˜ï¼Œä»ç„¶æŒ‰å€¼ä»å°åˆ°å¤§æ’åºã€‚ æç¤ºï¼šæ ‘ä¸­ç»“ç‚¹æ•°ç›®æ€»æ•°åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span> å†…<span class="token number">0</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">1000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æœ¬è´¨ä¸Šè¿˜æ˜¯ DFS ä¸ BFS é¢˜ç›®ï¼Œæ­¤é¢˜ç›®åªæ˜¯è§£å†³é—®é¢˜çš„æ–¹å¼è¦éº»çƒ¦ä¸€ç‚¹ï¼Œæ‰€ä»¥èŠ±è´¹æ—¶é—´è¾ƒé•¿ï¼Œæœ¬è´¨ä¸Šåº”è¯¥å±äºä¸­ç­‰é¢˜ç±»ï¼Œç®—ä¸ä¸Šéš¾åº¦çš„é¢˜ç›®</li><li>2ã€DFS é‡‡ç”¨å“ˆå¸Œè¡¨åŠ ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¶ä¸­ç”±äº c++çš„ priority_queue çš„å®ç°ä¸ºå¤§æ ¹å †ï¼Œæ­¤é¢˜ç›®å±äºå°æ ¹å †çš„å®ç°ï¼Œæ‰€ä»¥ä½¿ç”¨ multiset(å°æ ¹å †)å®ç°ã€‚</li><li>3ã€BFS ç•™å¾…è€ƒç ”åå†å†™ï¼Œç°åœ¨æ¯æ—¥æ€è€ƒä¸€ä¸ªå°æ—¶æ—¶é—´é¢˜ç›®æ—¶é—´å¤ªå¤šäº†ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    typedef map&lt;int, multiset&lt;pair&lt;int, int&gt;&gt;&gt; maps;    void dfs(TreeNode* root, int x, int y, maps &amp;mp)    &#123;        if(root &#x3D;&#x3D; nullptr) return;        mp[y].insert(&#123;x, root-&gt;val&#125;);        if(root -&gt; left ) dfs(root -&gt; left, x + 1, y - 1, mp);        if(root -&gt; right) dfs(root -&gt; right, x + 1, y + 1, mp);    &#125;    vector&lt;vector&lt;int&gt;&gt; verticalTraversal(TreeNode* root)    &#123;        maps mp;        dfs(root, 0, 0, mp);        vector&lt;vector&lt;int&gt;&gt; ans;        for(auto &amp; [k, v] : mp)        &#123;            vector&lt;int&gt; vs;            for(auto &amp; p : v) vs.push_back(p.second);            ans.push_back(vs);        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n*logn)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>multiset</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-17 297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
    <link href="/2021/09/26/Leetcode/91-day/day-17/"/>
    <url>/2021/09/26/Leetcode/91-day/day-17/</url>
    
    <content type="html"><![CDATA[<h1 id="297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a><strong><a href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— <span class="token operator">/</span> ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚æç¤º<span class="token operator">:</span> è¾“å…¥è¾“å‡ºæ ¼å¼ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> æç¤ºï¼šæ ‘ä¸­ç»“ç‚¹æ•°åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">]</span> å†…<span class="token operator">-</span><span class="token number">1000</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">1000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æœ¬è´¨ä¸Šè¿˜æ˜¯ DFS ä¸ BFS é¢˜ç›®ï¼Œä½†æ˜¯æ­¤é¢˜ç›®éš¾åº¦è¾ƒå¤§ï¼Œæ‰€ä»¥èŠ±è´¹æ—¶é—´è¾ƒé•¿ã€‚</li><li>2ã€dfs æœ‰ä¸¤ç§å½¢å¼å‰åº dfsï¼Œåé¢è¿˜æœ‰ååº dfsï¼Œååºéå†å› ä¸ºæ—¶é—´é™åˆ¶ï¼Œæš‚æ—¶ä¸å»å†™ï¼Œè€Œä¸­åºç”±äºæ— æ³•ç¡®å®šæ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ— æ³•å½¢æˆé€’å½’å½¢å¼</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; *&#x2F;class Codec &#123;public:    &#x2F;* void predfs(TreeNode* root, string&amp; data)    &#123;        if(root &#x3D;&#x3D; nullptr) data +&#x3D; &quot;null,&quot;;        else        &#123;            data +&#x3D; to_string(root -&gt; val) + &quot;,&quot;;            predfs(root -&gt; left, data);            predfs(root -&gt; right, data);        &#125;    &#125;    string serialize(TreeNode* root)    &#123;        string data;        predfs(root, data);        return data;    &#125;    TreeNode* rdfs(list&lt;string&gt;&amp; str)    &#123;        if (str.front() &#x3D;&#x3D; &quot;null&quot;)        &#123;            str.erase(str.begin());            return nullptr;        &#125;        TreeNode* root &#x3D; new TreeNode(stoi(str.front()));        str.erase(str.begin());        root -&gt; left &#x3D; rdfs(str);        root -&gt; right &#x3D; rdfs(str);        return root;    &#125;    TreeNode* deserialize(string data)    &#123;        list&lt;string&gt; str;        string s;        for (auto&amp; ch : data)        &#123;            if (ch &#x3D;&#x3D; &#39;,&#39;)            &#123;                str.push_back(s);                s.clear();            &#125;            else s.push_back(ch);        &#125;        if (s.empty() !&#x3D; 0)        &#123;            str.push_back(s);            s.clear();        &#125;        return rdfs(str);    &#125; *&#x2F;    string serialize(TreeNode* root) &#123;        string ans;        queue&lt;TreeNode* &gt; q;        if(root &#x3D;&#x3D; nullptr) return ans;        else q.push(root);        while(!q.empty())        &#123;            int n &#x3D; q.size();            for(int i &#x3D; 0; i &lt; n; ++i)&#123;                auto node &#x3D; q.front();                q.pop();                if(node &#x3D;&#x3D; nullptr) ans +&#x3D; &quot;null,&quot;;                else                &#123;                    ans +&#x3D; to_string(node-&gt;val) + &quot;,&quot;;                    q.push(node-&gt;left);                    q.push(node-&gt;right);                &#125;            &#125;        &#125;        return ans;    &#125;    TreeNode* deserialize(string data) &#123;        if(data.empty()) return NULL;        vector&lt;TreeNode* &gt; ans;        int k &#x3D; 0;        int n &#x3D; data.size();        while(k &lt; n)        &#123;            string tmp;            while(data[k] !&#x3D; &#39;,&#39;)            &#123;                tmp +&#x3D; data[k];                k++;            &#125;            if(tmp &#x3D;&#x3D; &quot;null&quot;) ans.push_back(NULL);            else ans.push_back(new TreeNode(stoi(tmp)));            tmp.clear();            k++;        &#125;        int pos &#x3D; 1;        for(int i &#x3D; 0; i &lt; ans.size(); i++)        &#123;            if(ans[i] &#x3D;&#x3D; NULL) continue;            ans[i] -&gt; left &#x3D; ans[pos++];            ans[i] -&gt; right &#x3D; ans[pos++];        &#125;        return ans[0];    &#125;&#125;;&#x2F;&#x2F; Your Codec object will be instantiated and called as such:&#x2F;&#x2F; Codec ser, deser;&#x2F;&#x2F; TreeNode* ans &#x3D; deser.deserialize(ser.serialize(root));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-16 513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</title>
    <link href="/2021/09/25/Leetcode/91-day/day-16/"/>
    <url>/2021/09/25/Leetcode/91-day/day-16/</url>
    
    <content type="html"><![CDATA[<h1 id="513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"><a href="#513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼" class="headerlink" title="513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"></a><strong><a href="https://leetcode-cn.com/problems/find-bottom-left-tree-value/">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ æ ¹èŠ‚ç‚¹ rootï¼Œè¯·æ‰¾å‡ºè¯¥äºŒå‰æ ‘çš„ æœ€åº•å±‚ æœ€å·¦è¾¹ èŠ‚ç‚¹çš„å€¼ã€‚å‡è®¾äºŒå‰æ ‘ä¸­è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> root <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">1</span>ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">7</span>æç¤º<span class="token operator">:</span>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">231</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">231</span> <span class="token operator">-</span> <span class="token number">1</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€DFS ä¸ BFS é¢˜ç›®ï¼ŒDFS å˜å¼å¤šï¼ŒBFS å•ä¸€ï¼Œæ›´ç®€å•ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    &#x2F;* int findBottomLeftValue(TreeNode* root) &#123;        queue&lt;TreeNode* &gt; q;        if(root !&#x3D; NULL) q.push(root);        int result &#x3D; 0;        while (!q.empty())        &#123;            int n &#x3D; q.size();            for (int i &#x3D; 0; i &lt; n; i++)            &#123;                TreeNode* node &#x3D; q.front();                q.pop();                if(i &#x3D;&#x3D; 0) result &#x3D; node-&gt;val;                if(node -&gt; left !&#x3D; nullptr) q.push(node -&gt; left);                if(node -&gt; right !&#x3D; nullptr) q.push(node -&gt; right);            &#125;        &#125;        return result; *&#x2F;        int len &#x3D; INT_MIN;        int value;        void dfs(TreeNode* root, int deep)        &#123;            if(root !&#x3D; nullptr)            &#123;                if(root -&gt; left &#x3D;&#x3D; nullptr &amp;&amp; root -&gt; right &#x3D;&#x3D; nullptr)                &#123;                    if(deep &gt; len)                    &#123;                        len &#x3D; deep;                        value &#x3D; root -&gt; val;                    &#125;                    return;                &#125;                dfs(root -&gt; left, deep + 1);                dfs(root -&gt; right, deep + 1);            &#125;            return;        &#125;    int findBottomLeftValue(TreeNode* root)    &#123;        dfs(root, 0);        return value;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-15 129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</title>
    <link href="/2021/09/24/Leetcode/91-day/day-15/"/>
    <url>/2021/09/24/Leetcode/91-day/day-15/</url>
    
    <content type="html"><![CDATA[<h1 id="129-æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"><a href="#129-æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ" class="headerlink" title="129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"></a><strong><a href="https://leetcode-cn.com/problems/sum-root-to-leaf-numbers/">129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜æ”¾æœ‰ä¸€ä¸ª <span class="token number">0</span> åˆ° <span class="token number">9</span> ä¹‹é—´çš„æ•°å­—ã€‚æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼šä¾‹å¦‚ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ <span class="token number">1</span> <span class="token operator">-></span> <span class="token number">2</span> <span class="token operator">-></span> <span class="token number">3</span> è¡¨ç¤ºæ•°å­— <span class="token number">123</span> ã€‚è®¡ç®—ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ç”Ÿæˆçš„ æ‰€æœ‰æ•°å­—ä¹‹å’Œ ã€‚å¶èŠ‚ç‚¹ æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">25</span>è§£é‡Šï¼šä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="token number">1</span><span class="token operator">-></span><span class="token number">2</span> ä»£è¡¨æ•°å­— <span class="token number">12</span>ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="token number">1</span><span class="token operator">-></span><span class="token number">3</span> ä»£è¡¨æ•°å­— <span class="token number">13</span>å› æ­¤ï¼Œæ•°å­—æ€»å’Œ <span class="token operator">=</span> <span class="token number">12</span> <span class="token operator">+</span> <span class="token number">13</span> <span class="token operator">=</span> <span class="token number">25</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šroot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token number">1026</span>è§£é‡Šï¼šä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="token number">4</span><span class="token operator">-></span><span class="token number">9</span><span class="token operator">-></span><span class="token number">5</span> ä»£è¡¨æ•°å­— <span class="token number">495</span>ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="token number">4</span><span class="token operator">-></span><span class="token number">9</span><span class="token operator">-></span><span class="token number">1</span> ä»£è¡¨æ•°å­— <span class="token number">491</span>ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="token number">4</span><span class="token operator">-></span><span class="token number">0</span> ä»£è¡¨æ•°å­— <span class="token number">40</span>å› æ­¤ï¼Œæ•°å­—æ€»å’Œ <span class="token operator">=</span> <span class="token number">495</span> <span class="token operator">+</span> <span class="token number">491</span> <span class="token operator">+</span> <span class="token number">40</span> <span class="token operator">=</span> <span class="token number">1026</span>æç¤ºï¼šæ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">]</span> å†…<span class="token number">0</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">9</span>æ ‘çš„æ·±åº¦ä¸è¶…è¿‡ <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€DFS ä¸ BFS é¢˜ç›®ï¼ŒDFS å˜å¼å¤šï¼ŒBFS å•ä¸€ï¼Œæ›´ç®€å•ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    int sumNumbers(TreeNode* root) &#123;        &#x2F;* return dfs(root, 0);    &#125;    int dfs(TreeNode* root, int pre)    &#123;        if(root &#x3D;&#x3D; nullptr) return 0;        int sum &#x3D; 10 * pre + root -&gt; val;        if(root -&gt; left &#x3D;&#x3D; nullptr &amp;&amp; root -&gt; right &#x3D;&#x3D; nullptr) return sum;        else return dfs(root -&gt; left, sum) + dfs(root -&gt; right, sum); *&#x2F;        if(root &#x3D;&#x3D; nullptr) return 0;        int sum &#x3D; 0;        queue&lt;TreeNode* &gt;q1;        queue&lt;int&gt; q2;        q1.push(root);        q2.push(root -&gt; val);        while(q1.empty() &#x3D;&#x3D; 0)        &#123;            TreeNode* n &#x3D; q1.front();            int num &#x3D; q2.front();            q1.pop();q2.pop();            TreeNode* l &#x3D; n -&gt; left;            TreeNode* r &#x3D; n -&gt; right;            if(l &#x3D;&#x3D; nullptr &amp;&amp; r &#x3D;&#x3D; nullptr)                sum +&#x3D; num;            else            &#123;                if(l !&#x3D; nullptr)                &#123;                    q1.push(l);                    q2.push(num * 10 + l -&gt; val);                &#125;                if(r !&#x3D; nullptr)                &#123;                    q1.push(r);                    q2.push(num * 10 + r -&gt; val);                &#125;            &#125;        &#125;        return sum;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-14 100. ç›¸åŒçš„æ ‘</title>
    <link href="/2021/09/23/Leetcode/91-day/day-14/"/>
    <url>/2021/09/23/Leetcode/91-day/day-14/</url>
    
    <content type="html"><![CDATA[<h1 id="100-ç›¸åŒçš„æ ‘"><a href="#100-ç›¸åŒçš„æ ‘" class="headerlink" title="100. ç›¸åŒçš„æ ‘"></a><strong><a href="https://leetcode-cn.com/problems/same-tree/">100. ç›¸åŒçš„æ ‘</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ p å’Œ q ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒè¿™ä¸¤æ£µæ ‘æ˜¯å¦ç›¸åŒã€‚å¦‚æœä¸¤ä¸ªæ ‘åœ¨ç»“æ„ä¸Šç›¸åŒï¼Œå¹¶ä¸”èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> q <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">true</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> q <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">false</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> q <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token boolean">false</span> æç¤ºï¼šä¸¤æ£µæ ‘ä¸Šçš„èŠ‚ç‚¹æ•°ç›®éƒ½åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span> å†…<span class="token operator">-</span><span class="token number">104</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">104</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€ç®€å•é¢˜ï¼Œä¸æ˜¨æ—¥ä¸€æ¨¡ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’è§£å†³é—®é¢˜ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå±‚åºéå†ï¼Œç†Ÿæ‚‰ä¸€ä¸‹ BFS çš„æ¨¡æ¿ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    bool isSameTree(TreeNode* p, TreeNode* q) &#123;        &#x2F;* if (p &#x3D;&#x3D; nullptr &amp;&amp; q &#x3D;&#x3D; nullptr) &#123;            return true;        &#125; else if (p &#x3D;&#x3D; nullptr || q &#x3D;&#x3D; nullptr) &#123;            return false;        &#125; else if (p-&gt;val !&#x3D; q-&gt;val) &#123;            return false;        &#125; else &#123;            return isSameTree(p-&gt;left, q-&gt;left) &amp;&amp; isSameTree(p-&gt;right, q-&gt;right);        &#125; *&#x2F;        if (p &#x3D;&#x3D; nullptr &amp;&amp; q &#x3D;&#x3D; nullptr) return true;        else if (p &#x3D;&#x3D; nullptr || q &#x3D;&#x3D; nullptr) return false;        queue &lt;TreeNode*&gt; q1, q2;        q1.push(p);        q2.push(q);        while (q1.empty() &#x3D;&#x3D; 0 &amp;&amp; q2.empty() &#x3D;&#x3D; 0) &#123;            auto n1 &#x3D; q1.front();            q1.pop();            auto n2 &#x3D; q2.front();            q2.pop();            if (n1 -&gt; val !&#x3D; n2 -&gt; val) return false;            auto l1 &#x3D; n1 -&gt; left, r1 &#x3D; n1 -&gt; right, l2 &#x3D; n2 -&gt; left, r2 &#x3D; n2 -&gt; right;            if ((l1 &#x3D;&#x3D; nullptr) ^ (l2 &#x3D;&#x3D; nullptr)) return false;            if ((r1 &#x3D;&#x3D; nullptr) ^ (r2 &#x3D;&#x3D; nullptr)) return false;            if (l1 !&#x3D; nullptr) q1.push(l1);            if (r1 !&#x3D; nullptr) q1.push(r1);            if (l2 !&#x3D; nullptr) q2.push(l2);            if (r2 !&#x3D; nullptr) q2.push(r2);        &#125;        return q1.empty() &amp;&amp; q2.empty();    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(min(n, m))</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(min(n, m))ï¼Œé€’å½’è°ƒç”¨æ ˆï¼Œæ ˆä½¿ç”¨çš„ç©ºé—´å³ä¸ºäºŒå‰æ ‘çš„é«˜åº¦ã€å±‚åºéå†ä¸º O(n)ï¼Œå­˜æ”¾æ‰€æœ‰çš„èŠ‚ç‚¹æ•°;</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-13 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</title>
    <link href="/2021/09/22/Leetcode/91-day/day-13/"/>
    <url>/2021/09/22/Leetcode/91-day/day-13/</url>
    
    <content type="html"><![CDATA[<h1 id="104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a><strong><a href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚è¯´æ˜<span class="token operator">:</span> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ç¤ºä¾‹ï¼šç»™å®šäºŒå‰æ ‘ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>ï¼Œ    <span class="token number">3</span>   <span class="token operator">/</span> \  <span class="token number">9</span>  <span class="token number">20</span>    <span class="token operator">/</span>  \   <span class="token number">15</span>   <span class="token number">7</span>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ <span class="token number">3</span> ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€ç®€å•é¢˜ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’è§£å†³é—®é¢˜ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå±‚åºéå†ï¼Œç†Ÿæ‚‰ä¸€ä¸‹ BFS çš„æ¨¡æ¿ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    int maxDepth(TreeNode* root) &#123;        &#x2F;* if (root &#x3D;&#x3D; nullptr) return 0;        int l, r;        l &#x3D; maxDepth(root -&gt; left);        r &#x3D; maxDepth(root -&gt; right);        returnä¸€äº› max(l, r) + 1; *&#x2F;        &#x2F;&#x2F;ä»¥ä¸‹ä¸ºBFS        queue&lt;TreeNode* &gt; q;        if (root &#x3D;&#x3D; nullptr) return 0;        q.push(root);        int tmp &#x3D; 0;        while(q.empty() &#x3D;&#x3D; 0)        &#123;            int n &#x3D; q.size();            tmp++;            for(int i &#x3D; 0; i &lt; n; i++)            &#123;                TreeNode* res &#x3D; q.front();                q.pop();                if(res -&gt; left !&#x3D; nullptr) q.push(res -&gt; left);                if(res -&gt; right !&#x3D; nullptr) q.push(res -&gt; right);            &#125;        &#125;        return tmp;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå› ä¸ºè¦éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œå±‚åºéå†æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(n);</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(height)ï¼Œé€’å½’è°ƒç”¨æ ˆï¼Œæ ˆä½¿ç”¨çš„ç©ºé—´å³ä¸ºäºŒå‰æ ‘çš„é«˜åº¦ã€å±‚åºéå†ä¸º O(n)ï¼Œå­˜æ”¾æ‰€æœ‰çš„èŠ‚ç‚¹æ•°;</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Binary Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-12 146. LRU ç¼“å­˜æœºåˆ¶</title>
    <link href="/2021/09/21/Leetcode/91-day/day-12/"/>
    <url>/2021/09/21/Leetcode/91-day/day-12/</url>
    
    <content type="html"><![CDATA[<h1 id="146-LRU-ç¼“å­˜æœºåˆ¶"><a href="#146-LRU-ç¼“å­˜æœºåˆ¶" class="headerlink" title="146. LRU ç¼“å­˜æœºåˆ¶"></a><strong><a href="https://leetcode-cn.com/problems/lru-cache/">146. LRU ç¼“å­˜æœºåˆ¶</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª  <span class="token function">LRU</span> <span class="token punctuation">(</span>æœ€è¿‘æœ€å°‘ä½¿ç”¨<span class="token punctuation">)</span> ç¼“å­˜æœºåˆ¶ ã€‚å®ç° LRUCache ç±»ï¼š<span class="token function">LRUCache</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span> ä»¥æ­£æ•´æ•°ä½œä¸ºå®¹é‡ capacity åˆå§‹åŒ– LRU ç¼“å­˜<span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> å¦‚æœå…³é”®å­— key å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› <span class="token operator">-</span><span class="token number">1</span> ã€‚<span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> å¦‚æœå…³é”®å­—å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå…³é”®å­—ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå…³é”®å­—<span class="token operator">-</span>å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚è¿›é˜¶ï¼šä½ æ˜¯å¦å¯ä»¥åœ¨ <span class="token function">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> æ—¶é—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸¤ç§æ“ä½œï¼Ÿç¤ºä¾‹ï¼šè¾“å…¥<span class="token punctuation">[</span><span class="token string">"LRUCache"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡º<span class="token punctuation">[</span>null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>è§£é‡ŠLRUCache lRUCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">LRUCache</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼“å­˜æ˜¯ &#123;1=1&#125;</span>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼“å­˜æ˜¯ &#123;1=1, 2=2&#125;</span>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 1</span>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 2 ä½œåºŸï¼Œç¼“å­˜æ˜¯ &#123;1=1, 3=3&#125;</span>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› -1 (æœªæ‰¾åˆ°)</span>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 1 ä½œåºŸï¼Œç¼“å­˜æ˜¯ &#123;4=4, 3=3&#125;</span>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› -1 (æœªæ‰¾åˆ°)</span>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 3</span>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 4</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> capacity <span class="token operator">&lt;=</span> <span class="token number">3000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> key <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> value <span class="token operator">&lt;=</span> <span class="token number">105</span>æœ€å¤šè°ƒç”¨ <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">105</span> æ¬¡ get å’Œ put<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€è¡¥æ˜¨å¤©çš„ç›¸åº”è§£ç­”ï¼Œæœ¬é¢˜éœ€è¦è‡ªå·±å®ç°ä¸€ä¸ªLRUç¼“å­˜æœºåˆ¶ï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿçš„ç›¸åº”å­¦ä¹ ï¼Œä»¥åŠé¢˜ç›®æ‰€ç»™æ¡ä»¶ï¼Œä»£ç ç›¸åº”å®ç°åº”è¯¥æ˜¯å±äºä¸€ä¸ªå“ˆå¸Œè¡¨åŠ ç›¸åº”çš„åŒé“¾è¡¨è¿›è¡Œå®ç°ï¼Œå…¶ä¸­åŒé“¾è¡¨éœ€è¦å®ç°ç§»é™¤ã€æ’å…¥ã€ä¿®æ”¹ç­‰æ“ä½œï¼Œå®ç°èµ·æ¥æ¯”è¾ƒæœ‰éš¾åº¦ï¼Œè€Œå“ˆå¸Œè¡¨å¯ä»¥ä½¿ç”¨STLåº“ä¸­çš„unordered_mapå‡½æ•°è¿›è¡Œç›¸åº”çš„å®ç°ï¼</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class LRUCache &#123;private:    struct Node    &#123;        int key, value;        Node* left ,*right;        Node(int _key,int _value) &#123;            key(_key), value(_value), left(NULL), right(NULL)&#123;&#125;        &#125;    &#125; *l, *r;      &#x2F;&#x2F;åŒé“¾è¡¨çš„æœ€å·¦å’Œæœ€å³èŠ‚ç‚¹ï¼Œä¸å­˜è´®å€¼ã€‚    int n;    unordered_map&lt;int, Node*&gt;hash;public:    void remove(Node* p)    &#123;        p -&gt; right -&gt; left &#x3D; p - left;        p -&gt; left -&gt; right &#x3D; p -&gt; right;    &#125;    void insert(Node *p)    &#123;        p -&gt; right &#x3D; l -&gt; right;        p -&gt; left &#x3D; l;        l -&gt; right -&gt; left &#x3D; p;        l -&gt; right &#x3D; p;    &#125;    LRUCache(int capacity)     &#123;        n &#x3D; capacity;        l &#x3D; new Node(-1, -1);        r &#x3D; new Node(-1, -1);        l -&gt; right &#x3D; r;        r -&gt; left &#x3D; l;        &#125;        int get(int key)    &#123;        if(hash.count(key) &#x3D;&#x3D; 0) return -1;   &#x2F;&#x2F;ä¸å­˜åœ¨å…³é”®å­—key         auto p &#x3D; hash[key];        remove(p);        insert(p);                              &#x2F;&#x2F;å°†å½“å‰èŠ‚ç‚¹æ”¾åœ¨åŒé“¾è¡¨çš„ç¬¬ä¸€ä½        return p -&gt; value;    &#125;        void put(int key, int value)     &#123;        if(hash.count(key))                   &#x2F;&#x2F;å¦‚æœkeyå­˜åœ¨ï¼Œåˆ™ä¿®æ”¹å¯¹åº”çš„value        &#123;            auto p &#x3D; hash[key];            p -&gt; value &#x3D; value;            remove(p);            insert(p);        &#125;        else         &#123;            if(hash.size() &#x3D;&#x3D; n)              &#x2F;&#x2F;å¦‚æœç¼“å­˜å·²æ»¡ï¼Œåˆ™åˆ é™¤åŒé“¾è¡¨æœ€å³ä¾§çš„èŠ‚ç‚¹            &#123;                auto  p &#x3D; r -&gt; left;                remove(p);                hash.erase(p -&gt; key);         &#x2F;&#x2F;æ›´æ–°å“ˆå¸Œè¡¨                delete p;                     &#x2F;&#x2F;é‡Šæ”¾å†…å­˜ï¼Œc++æ³¨æ„å†…å­˜ç®¡ç†            &#125;            auto p &#x3D; new Node(key, value);    &#x2F;&#x2F;å¦åˆ™ï¼Œæ’å…¥(key, value)            hash[key] &#x3D; p;            insert(p);        &#125;    &#125;&#125;;&#x2F;** * Your LRUCache object will be instantiated and called as such: * LRUCache* obj &#x3D; new LRUCache(capacity); * int param_1 &#x3D; obj-&gt;get(key); * obj-&gt;put(key,value); *&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(1)ï¼Œéƒ½æ˜¯å¸¸æ•°çº§å¤æ‚åº¦;</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(capacity + 1);</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linklist</tag>
      
      <tag>hash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-11 142. ç¯å½¢é“¾è¡¨ II</title>
    <link href="/2021/09/20/Leetcode/91-day/day-11/"/>
    <url>/2021/09/20/Leetcode/91-day/day-11/</url>
    
    <content type="html"><![CDATA[<h1 id="142-ç¯å½¢é“¾è¡¨-II"><a href="#142-ç¯å½¢é“¾è¡¨-II" class="headerlink" title="142. ç¯å½¢é“¾è¡¨ II"></a><strong><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/">142. ç¯å½¢é“¾è¡¨ II</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» <span class="token number">0</span> å¼€å§‹ï¼‰ã€‚å¦‚æœ pos æ˜¯ <span class="token operator">-</span><span class="token number">1</span>ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼Œpos ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚è¿›é˜¶ï¼šä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ <span class="token function">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º <span class="token number">1</span> çš„é“¾è¡¨èŠ‚ç‚¹è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token number">0</span>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º <span class="token number">0</span> çš„é“¾è¡¨èŠ‚ç‚¹è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>è¾“å‡ºï¼šè¿”å› nullè§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æç¤ºï¼šé“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">]</span> å†…<span class="token operator">-</span><span class="token number">105</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">105</span>pos çš„å€¼ä¸º <span class="token operator">-</span><span class="token number">1</span> æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€ç»å…¸åŒæŒ‡é’ˆé—®é¢˜ï¼ŒåŒæ—¶ä¸æ˜¨æ—¥é¢˜ç›®ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨è§£æ³•ï¼ŒåŒç†å“ˆå¸Œè¡¨ä¹Ÿæ˜¯æ•ˆæœä¸ä½³çš„å®ç°åŠæ³•ï¼Œç©ºé—´å¤æ‚åº¦è¾ƒé«˜ã€‚</li><li>2ã€åŒæŒ‡é’ˆå®Œæ•´è¯æ˜è§£æå¦‚å®˜æ–¹é¢˜è§£æ‰€ç¤ºï¼Œåœ¨æ­¤ä¸åœ¨èµ˜è¿°ã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    ListNode *detectCycle(ListNode *head) &#123;        if(head &#x3D;&#x3D; NULL || head -&gt; next &#x3D;&#x3D; nullptr) return NULL;        ListNode* fast &#x3D; head;        ListNode* slow &#x3D; head;        while(fast !&#x3D; nullptr &amp;&amp; fast -&gt; next !&#x3D; nullptr)        &#123;            slow &#x3D; slow -&gt; next;            fast &#x3D; fast -&gt; next -&gt; next;            if(fast &#x3D;&#x3D; slow)            &#123;                ListNode* tmp &#x3D; head;                while(tmp !&#x3D; slow)                &#123;                    tmp &#x3D; tmp -&gt; next;                    slow &#x3D; slow -&gt; next;                &#125;                return tmp;            &#125;        &#125;        return NULL;    &#125;        &#x2F;* if(head &#x3D;&#x3D; NULL || head -&gt; next &#x3D;&#x3D; nullptr) return NULL;        unordered_set&lt;ListNode* &gt; m;        ListNode* fast &#x3D; head;        while(fast -&gt; next !&#x3D; nullptr)        &#123;            if(m.count(fast) !&#x3D; 0) return fast;            m.insert(fast);            fast &#x3D; fast -&gt; next;        &#125;        return nullptr; *&#x2F;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€å“ˆå¸Œè¡¨ä¸º O(n);</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€å“ˆå¸Œè¡¨ä¸º O(n);</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linklist</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-10 160. ç›¸äº¤é“¾è¡¨</title>
    <link href="/2021/09/19/Leetcode/91-day/day-10/"/>
    <url>/2021/09/19/Leetcode/91-day/day-10/</url>
    
    <content type="html"><![CDATA[<h1 id="160-ç›¸äº¤é“¾è¡¨"><a href="#160-ç›¸äº¤é“¾è¡¨" class="headerlink" title="160. ç›¸äº¤é“¾è¡¨"></a><strong><a href="https://leetcode-cn.com/problems/intersection-of-two-linked-lists/">160. ç›¸äº¤é“¾è¡¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null ã€‚å›¾ç¤ºä¸¤ä¸ªé“¾è¡¨åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ï¼šé¢˜ç›®æ•°æ® ä¿è¯ æ•´ä¸ªé“¾å¼ç»“æ„ä¸­ä¸å­˜åœ¨ç¯ã€‚æ³¨æ„ï¼Œå‡½æ•°è¿”å›ç»“æœåï¼Œé“¾è¡¨å¿…é¡» ä¿æŒå…¶åŸå§‹ç»“æ„ ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šintersectVal <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> listA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> listB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> skipA <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> skipB <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼šIntersected at <span class="token char">'8'</span>è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º <span class="token number">8</span> ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º <span class="token number">0</span>ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>ï¼Œé“¾è¡¨ B ä¸º <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ <span class="token number">2</span> ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ <span class="token number">3</span> ä¸ªèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šintersectVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> listA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> listB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> skipA <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> skipB <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼šIntersected at <span class="token char">'2'</span>è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º <span class="token number">2</span> ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º <span class="token number">0</span>ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ï¼Œé“¾è¡¨ B ä¸º <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ <span class="token number">3</span> ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ <span class="token number">1</span> ä¸ªèŠ‚ç‚¹ã€‚ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šintersectVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> listA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> listB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> skipA <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> skipB <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼šnullè§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ï¼Œé“¾è¡¨ B ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>ã€‚ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º <span class="token number">0</span>ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚è¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› null ã€‚ æç¤ºï¼šlistA ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º mlistB ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º n<span class="token number">0</span> <span class="token operator">&lt;=</span> m<span class="token punctuation">,</span> n <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">104</span><span class="token number">1</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">105</span><span class="token number">0</span> <span class="token operator">&lt;=</span> skipA <span class="token operator">&lt;=</span> m<span class="token number">0</span> <span class="token operator">&lt;=</span> skipB <span class="token operator">&lt;=</span> nå¦‚æœ listA å’Œ listB æ²¡æœ‰äº¤ç‚¹ï¼ŒintersectVal ä¸º <span class="token number">0</span>å¦‚æœ listA å’Œ listB æœ‰äº¤ç‚¹ï¼ŒintersectVal <span class="token operator">==</span> listA<span class="token punctuation">[</span>skipA <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> listB<span class="token punctuation">[</span>skipB <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> è¿›é˜¶ï¼šä½ èƒ½å¦è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ <span class="token function">O</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> ã€ä»…ç”¨ <span class="token function">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> å†…å­˜çš„è§£å†³æ–¹æ¡ˆï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€ç»å…¸åŒæŒ‡é’ˆé—®é¢˜ï¼Œå¦‚æœAã€Bä¸­æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œåˆ™æ— äº¤ç‚¹ã€‚</li><li>2ã€å¦‚æœç›¸äº¤åˆ™ä¸ç”¨è¯æ˜å…¶æ­£ç¡®ä¿¡ï¼Œä¸ç›¸äº¤åˆ™ç›¸äº’éå†åˆ°æœ€ç»ˆçš„ç»“æœéƒ½ä¸ºnullptrï¼Œç»è¿‡ m + næ¬¡ã€‚</li><li>3ã€å“ˆå¸Œè¡¨å¥½ç†è§£ä¸€äº›ï¼Œå½“è®¡æ•°countå‡½æ•°å‡ºç°qæ—¶å€™ï¼Œå³å¯è¿”å›ç›¸äº¤èŠ‚ç‚¹å€¼ï¼Œå¦åˆ™è¿”å›nullptr</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) &#123;        &#x2F;* if(headA &#x3D;&#x3D; nullptr || headB &#x3D;&#x3D; nullptr) return nullptr;        ListNode* p &#x3D; headA;        ListNode* q &#x3D; headB;        while(p !&#x3D; q)        &#123;            p &#x3D; p &#x3D;&#x3D; nullptr ? headB : p -&gt; next;             q &#x3D; q &#x3D;&#x3D; nullptr ? headA : q -&gt; next;        &#125;        return p; *&#x2F;        if(headA &#x3D;&#x3D; nullptr || headB &#x3D;&#x3D; nullptr) return nullptr;        unordered_set&lt;ListNode* &gt; vis;        ListNode* p &#x3D; headA;        ListNode* q &#x3D; headB;        while(p !&#x3D; nullptr)        &#123;            vis.insert(p);            p &#x3D; p -&gt; next;        &#125;        while(q !&#x3D; nullptr)        &#123;            if(vis.count(q)) return q;            q &#x3D; q -&gt; next;        &#125;        return nullptr;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€å“ˆå¸Œè¡¨ä¹Ÿæ˜¯O(n);</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€å“ˆå¸Œè¡¨ä¸ºO(n);</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linklist</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-09 109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</title>
    <link href="/2021/09/18/Leetcode/91-day/day-09/"/>
    <url>/2021/09/18/Leetcode/91-day/day-09/</url>
    
    <content type="html"><![CDATA[<h1 id="109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"><a href="#109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘" class="headerlink" title="109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"></a><strong><a href="https://leetcode-cn.com/problems/convert-sorted-list-to-binary-search-tree/">109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ æŒ‰å‡åºæ’åºï¼Œå°†å…¶è½¬æ¢ä¸ºé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ <span class="token number">1</span>ã€‚ç¤ºä¾‹<span class="token operator">:</span>ç»™å®šçš„æœ‰åºé“¾è¡¨ï¼š <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> å®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š      <span class="token number">0</span>     <span class="token operator">/</span> \   <span class="token operator">-</span><span class="token number">3</span>   <span class="token number">9</span>   <span class="token operator">/</span>   <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">10</span>  <span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æœ¬é¢˜ç›¸å½“äºå°†é“¾è¡¨è½¬åŒ–ä¸ºä¸€ä¸ªäºŒå‰æœç´¢æ ‘(Binary Search Tree : BST)</li><li>2ã€åŸºäºä¸­åºéå†æ¢å¤äºŒå‰æœç´¢æ ‘ï¼Œå³å¯ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œä»¥èŠ‚ç‚¹å·¦è¾¹çš„å‡åºåºåˆ—ä½œä¸ºå·¦å­æ ‘ï¼Œå³è¾¹å‡åºåºåˆ—ä¸ºå³å­æ ‘ï¼Œå³å¯å¾—åˆ°äºŒå‰æœç´¢æ ‘ï¼Œæœ¬é¢˜è¦å»ºç«‹ä¸€ä¸ªé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œé‚£ä¹ˆå·¦å³é«˜åº¦å·®è‡³å¤šä¸º 1ï¼Œæ•…ä»é“¾è¡¨çš„ä¸­ç‚¹å¼€å§‹å»ºç«‹äºŒå‰æœç´¢æ ‘æœ€å¥½ã€‚</li><li>3ã€æœ¬é¢˜ä¹Ÿå¯ä»¥ç”¨ BFS å»ºæ ‘ï¼ŒDFS å¡«èŠ‚ç‚¹å€¼ï¼Œä½†è¿™æ ·ç©ºé—´å¤æ‚åº¦è¾ƒé«˜ï¼Œæ—¶é—´å¤æ‚åº¦è·Ÿé€’å½’é“¾è¡¨å·®ä¸å¤šçš„æƒ…å†µä¸‹ï¼Œç¡®å®ä¸æ˜¯ç‰¹åˆ«ä¼˜ç§€çš„è§£æ³•ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥ç”¨æ¥ç†Ÿæ‚‰ä¸€ä¸‹ DFS ä¸ BFSã€‚</li></ul><h3 id="ä»£ç å—ã€‚"><a href="#ä»£ç å—ã€‚" class="headerlink" title="ä»£ç å—ã€‚"></a>ä»£ç å—ã€‚</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; *&#x2F;&#x2F;** * Definition for a binary tree node. * struct TreeNode &#123; *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125; *     TreeNode(int x, TreeNode *left, TreeNode *right) :         val(x), left(left), right(right) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    TreeNode* sortedListToBST(ListNode* head) &#123;        if(head &#x3D;&#x3D; nullptr) return nullptr;        if(head -&gt; next &#x3D;&#x3D; nullptr)        &#123;            TreeNode* root &#x3D; new TreeNode(head -&gt; val);            return root;        &#125;        ListNode* fast &#x3D; head;        int len &#x3D; 1;        while(fast -&gt; next !&#x3D; nullptr)        &#123;            fast &#x3D; fast -&gt; next;            len++;        &#125;        len &#x3D; len &gt;&gt; 1;        ListNode* slow &#x3D; head;        ListNode* p &#x3D; slow;        while(len--)        &#123;            p &#x3D; slow;            slow &#x3D; slow -&gt; next;        &#125;        p -&gt; next &#x3D; nullptr;        TreeNode* root &#x3D; new TreeNode(slow -&gt; val);        root -&gt; left &#x3D; sortedListToBST(head);        root -&gt; right &#x3D; sortedListToBST(slow -&gt; next);        return root;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>BST</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-08 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</title>
    <link href="/2021/09/17/Leetcode/91-day/day-08/"/>
    <url>/2021/09/17/Leetcode/91-day/day-08/</url>
    
    <content type="html"><![CDATA[<h1 id="24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><a href="#24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"></a><strong><a href="https://leetcode-cn.com/problems/swap-nodes-in-pairs/">24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> æç¤ºï¼šé“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span> å†…<span class="token number">0</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">100</span> è¿›é˜¶ï¼šä½ èƒ½åœ¨ä¸ä¿®æ”¹é“¾è¡¨èŠ‚ç‚¹å€¼çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜å—<span class="token operator">?</span>ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä»…ä¿®æ”¹èŠ‚ç‚¹æœ¬èº«ã€‚ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€æœ€ç®€å•çš„æ€è·¯è‡ªç„¶æ˜¯é€’å½’çš„æ€è·¯</li><li>2ã€è€Œé€’å½’è°ƒç”¨çš„ä¹Ÿæ˜¯æ ˆçš„å®ç°æ–¹æ³•ï¼Œæ‰€ä»¥è‡ªç„¶ä¹Ÿèƒ½æƒ³åˆ°æ ˆçš„ç›¸åº”çš„åšæ³•ã€‚</li></ul><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    ListNode* swapPairs(ListNode* head) &#123;if(head &#x3D;&#x3D; nullptr || head -&gt; next &#x3D;&#x3D; nullptr) return head;stack&lt;ListNode* &gt; stk;ListNode* p &#x3D; new ListNode();ListNode* pos &#x3D; head;        head &#x3D; p;while(pos !&#x3D; nullptr &amp;&amp; pos -&gt; next !&#x3D; nullptr)        &#123;stk.push(pos);stk.push(pos -&gt; next);pos &#x3D; pos -&gt; next -&gt; next;p -&gt; next &#x3D; stk.top();            stk.pop();p &#x3D; p -&gt; next;p -&gt; next &#x3D; stk.top();            stk.pop();p &#x3D; p -&gt; next;&#125;if(pos !&#x3D; nullptr) p -&gt; next &#x3D; pos;    else p -&gt; next &#x3D; nullptr;return head -&gt; next;&#x2F;*if (head &#x3D;&#x3D; nullptr || head-&gt;next &#x3D;&#x3D; nullptr) return head;        ListNode* p &#x3D; head -&gt; next;        head -&gt; next &#x3D; swapPairs(p -&gt; next);        p -&gt; next &#x3D; head;        return p;*&#x2F;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linklist</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-07 61. æ—‹è½¬é“¾è¡¨</title>
    <link href="/2021/09/16/Leetcode/91-day/day-07/"/>
    <url>/2021/09/16/Leetcode/91-day/day-07/</url>
    
    <content type="html"><![CDATA[<h1 id="61-æ—‹è½¬é“¾è¡¨"><a href="#61-æ—‹è½¬é“¾è¡¨" class="headerlink" title="61. æ—‹è½¬é“¾è¡¨"></a><strong><a href="https://leetcode-cn.com/problems/rotate-list/">61. æ—‹è½¬é“¾è¡¨</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">4</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> æç¤ºï¼šé“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">]</span> å†…<span class="token operator">-</span><span class="token number">100</span> <span class="token operator">&lt;=</span> Node<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token number">0</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">109</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€ææ¸…æ¥š len - 1 - k % len åæ˜¯å°¾èŠ‚ç‚¹å³å¯å¼„æ˜ç™½æ­¤é¢˜ç›®</li></ul><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode() : val(0), next(nullptr) &#123;&#125; *     ListNode(int x) : val(x), next(nullptr) &#123;&#125; *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125; * &#125;; *&#x2F;class Solution &#123;public:    ListNode* rotateRight(ListNode* head, int k) &#123;        if(k &#x3D;&#x3D; 0 || head &#x3D;&#x3D; NULL || head -&gt; next &#x3D;&#x3D; nullptr) return head;        int len &#x3D; 1;        ListNode* fast &#x3D; head;        ListNode* slow &#x3D; head;        while(fast -&gt; next !&#x3D; nullptr)        &#123;            fast &#x3D; fast -&gt; next;            ++len;        &#125;        fast -&gt; next &#x3D; head;        k &#x3D; len - 1 - k % len; &#x2F;&#x2F;æ­¤å¤„æ³¨æ„ç§»åŠ¨kæ­¥åçš„æœ«å°¾èŠ‚ç‚¹,é„™äººåœ¨æ­¤å¡äº†æ¥è¿‘åŠå°æ—¶        if(k &#x3D;&#x3D; len) return head;&#x2F;&#x2F;æœ€åæƒ³æ˜ç™½äº†len - 1æ˜¯é“¾è¡¨å°¾èŠ‚ç‚¹ï¼Œk % lenä¸ºå‰©ä½™æ­¥æ•°        while(k)     &#x2F;&#x2F;len - 1 - k % nä¸ºå°¾èŠ‚ç‚¹        &#123;            slow &#x3D; slow -&gt; next;            k--;        &#125;        fast &#x3D; slow -&gt; next;        slow -&gt; next &#x3D; nullptr;        return fast;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n),éå†ä¸¤æ¬¡é“¾è¡¨</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œå¸¸æ•°çº§</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linklist</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-06 768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II</title>
    <link href="/2021/09/15/Leetcode/91-day/day-06/"/>
    <url>/2021/09/15/Leetcode/91-day/day-06/</url>
    
    <content type="html"><![CDATA[<h1 id="768-æœ€å¤šèƒ½å®Œæˆæ’åºçš„å—-II"><a href="#768-æœ€å¤šèƒ½å®Œæˆæ’åºçš„å—-II" class="headerlink" title="768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II"></a><strong><a href="https://leetcode-cn.com/problems/max-chunks-to-make-sorted-ii/">768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è¿™ä¸ªé—®é¢˜å’Œâ€œæœ€å¤šèƒ½å®Œæˆæ’åºçš„å—â€ç›¸ä¼¼ï¼Œä½†ç»™å®šæ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥é‡å¤ï¼Œè¾“å…¥æ•°ç»„æœ€å¤§é•¿åº¦ä¸º<span class="token number">2000</span>ï¼Œå…¶ä¸­çš„å…ƒç´ æœ€å¤§ä¸º<span class="token number">10</span><span class="token operator">^</span><span class="token number">8</span>ã€‚arræ˜¯ä¸€ä¸ªå¯èƒ½åŒ…å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆå‡ ä¸ªâ€œå—â€ï¼Œå¹¶å°†è¿™äº›å—åˆ†åˆ«è¿›è¡Œæ’åºã€‚ä¹‹åå†è¿æ¥èµ·æ¥ï¼Œä½¿å¾—è¿æ¥çš„ç»“æœå’ŒæŒ‰å‡åºæ’åºåçš„åŸæ•°ç»„ç›¸åŒã€‚æˆ‘ä»¬æœ€å¤šèƒ½å°†æ•°ç»„åˆ†æˆå¤šå°‘å—ï¼Ÿç¤ºä¾‹ <span class="token number">1</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">1</span>è§£é‡Š<span class="token operator">:</span>å°†æ•°ç»„åˆ†æˆ<span class="token number">2</span>å—æˆ–è€…æ›´å¤šå—ï¼Œéƒ½æ— æ³•å¾—åˆ°æ‰€éœ€çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œåˆ†æˆ <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> çš„ç»“æœæ˜¯ <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>ï¼Œè¿™ä¸æ˜¯æœ‰åºçš„æ•°ç»„ã€‚ç¤ºä¾‹ <span class="token number">2</span><span class="token operator">:</span>è¾“å…¥<span class="token operator">:</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>è¾“å‡º<span class="token operator">:</span> <span class="token number">4</span>è§£é‡Š<span class="token operator">:</span>æˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ†æˆä¸¤å—ï¼Œä¾‹å¦‚ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>ã€‚ç„¶è€Œï¼Œåˆ†æˆ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> å¯ä»¥å¾—åˆ°æœ€å¤šçš„å—æ•°ã€‚æ³¨æ„<span class="token operator">:</span>arrçš„é•¿åº¦åœ¨<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span>ä¹‹é—´ã€‚arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>çš„å¤§å°åœ¨<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">*</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">]</span>ä¹‹é—´ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€åˆ†å—æ’åºï¼Œç»„åˆä¹‹åä¸åŸæ•°ç»„è¿›è¡Œå‡åºæ’åºè¦ç›¸åŒ</li><li>2ã€æ‰€ä»¥å¯ä»¥é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œå‰ä¸€ä¸ªå—çš„æœ€å¤§å€¼è¦å°äºä¸‹ä¸€ä¸ªå—çš„æœ€å°å€¼ï¼Œè¿™æ ·åˆ†å—æ’åºåˆå¹¶ä¹‹åä¹Ÿä¼šä¸åŸæ•°ç»„å‡åºæ’åºä¸€è‡´ã€‚</li><li>3ã€</li></ul><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    int maxChunksToSorted(vector&lt;int&gt;&amp; arr) &#123;        &#x2F;* è™½ç„¶èƒ½é€šè¿‡ä½†æ˜¯æ—¶é—´å¤æ‚åº¦å¤ªé«˜ï¼Œä¸¤è€…æ¯”è¾ƒä¸æ¸…ç©ºæ“ä½œè¦èŠ±è´¹è¾ƒå¤šçš„æ—¶é—´å¼€é”€           è§£æ³•å¹¶ä¸ä¼˜ç§€ã€‚        int n &#x3D; arr.size();        vector&lt;int&gt; nums(arr);        sort(nums.begin(), nums.end());        unordered_map&lt;int, int&gt; h1, h2;        int ans &#x3D; 0;        for (int i &#x3D; 0; i &lt; n; i++)        &#123;            ++h1[arr[i]];            ++h2[nums[i]];            if(h1 &#x3D;&#x3D; h2)            &#123;                ans++;                h1.clear();                h2.clear();            &#125;        &#125;        return ans;*&#x2F;        &#x2F;&#x2F;æ­¤è§£æ³•å°±æå¤§ç¼©çŸ­äº†æ—¶é—´ï¼Œåªéœ€è¦å¯»æ‰¾å·¦è¾¹æœ€å¤§å€¼å°äºå³è¾¹æœ€å°å€¼çš„åŒºåŸŸå³å¯        int n &#x3D; arr.size();        vector&lt;int&gt; l(n, 0);        vector&lt;int&gt; r(n, 10^8);        l[0] &#x3D; arr[0];        r[n - 1] &#x3D; arr[n - 1];        for(int i &#x3D; 1; i &lt; n; i++)        &#123;            &#x2F;&#x2F;åŠ¨æ€è§„åˆ’            l[i] &#x3D; max(l[i - 1], arr[i]);            r[n - 1 - i] &#x3D; min(r[n - i], arr[n - 1 - i]);        &#125;        int res &#x3D; 1;        for(int i &#x3D; 0; i &lt; n - 1; i++)        &#123;            int ans &#x3D; l[i] &lt;&#x3D; r[i + 1] ? 1 : 0;            res +&#x3D; ans;        &#125;        return res;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(2n)ï¼Œä¸¤ä¸ªæ•°ç»„å¼€è¾Ÿ 2n çš„ç©ºé—´;</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-05 232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</title>
    <link href="/2021/09/14/Leetcode/91-day/day-05/"/>
    <url>/2021/09/14/Leetcode/91-day/day-05/</url>
    
    <content type="html"><![CDATA[<h1 id="232-ç”¨æ ˆå®ç°é˜Ÿåˆ—"><a href="#232-ç”¨æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="232. ç”¨æ ˆå®ç°é˜Ÿåˆ—"></a><strong><a href="https://leetcode-cn.com/problems/implement-queue-using-stacks/">232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°å…ˆå…¥å…ˆå‡ºé˜Ÿåˆ—ã€‚é˜Ÿåˆ—åº”å½“æ”¯æŒä¸€èˆ¬é˜Ÿåˆ—æ”¯æŒçš„æ‰€æœ‰æ“ä½œï¼ˆpushã€popã€peekã€emptyï¼‰ï¼šå®ç° MyQueue ç±»ï¼š<span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> å°†å…ƒç´  x æ¨åˆ°é˜Ÿåˆ—çš„æœ«å°¾<span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ä»é˜Ÿåˆ—çš„å¼€å¤´ç§»é™¤å¹¶è¿”å›å…ƒç´ <span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> è¿”å›é˜Ÿåˆ—å¼€å¤´çš„å…ƒç´ boolean <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› <span class="token boolean">true</span> ï¼›å¦åˆ™ï¼Œè¿”å› <span class="token boolean">false</span> è¯´æ˜ï¼šä½ åªèƒ½ä½¿ç”¨æ ‡å‡†çš„æ ˆæ“ä½œå°±æ˜¯åªæœ‰ push to top<span class="token punctuation">,</span> peek<span class="token operator">/</span>pop from top<span class="token punctuation">,</span> size<span class="token punctuation">,</span> å’Œ is empty æ“ä½œæ˜¯åˆæ³•çš„ã€‚ä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ä¹Ÿè®¸ä¸æ”¯æŒæ ˆã€‚ä½ å¯ä»¥ä½¿ç”¨ list æˆ–è€… dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ¥æ¨¡æ‹Ÿä¸€ä¸ªæ ˆï¼Œåªè¦æ˜¯æ ‡å‡†çš„æ ˆæ“ä½œå³å¯ã€‚ è¿›é˜¶ï¼šä½ èƒ½å¦å®ç°æ¯ä¸ªæ“ä½œå‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸º <span class="token function">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> çš„é˜Ÿåˆ—ï¼Ÿæ¢å¥è¯è¯´ï¼Œæ‰§è¡Œ n ä¸ªæ“ä½œçš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º <span class="token function">O</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> ï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªæ“ä½œå¯èƒ½èŠ±è´¹è¾ƒé•¿æ—¶é—´ã€‚ ç¤ºä¾‹ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token string">"MyQueue"</span><span class="token punctuation">,</span> <span class="token string">"push"</span><span class="token punctuation">,</span> <span class="token string">"push"</span><span class="token punctuation">,</span> <span class="token string">"peek"</span><span class="token punctuation">,</span> <span class="token string">"pop"</span><span class="token punctuation">,</span> <span class="token string">"empty"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span>null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>è§£é‡Šï¼šMyQueue myQueue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MyQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>myQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// queue is: [1]</span>myQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// queue is: [1, 2] (leftmost is front of the queue)</span>myQueue<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return 1</span>myQueue<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return 1, queue is [2]</span>myQueue<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return false</span> æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">9</span>æœ€å¤šè°ƒç”¨ <span class="token number">100</span> æ¬¡ pushã€popã€peek å’Œ emptyå‡è®¾æ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰æ•ˆçš„ ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªç©ºçš„é˜Ÿåˆ—ä¸ä¼šè°ƒç”¨ pop æˆ–è€… peek æ“ä½œï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€å¦‚é¢˜æ‰€ç»™ï¼Œåˆ›å»ºä¸¤ä¸ªæ ˆï¼Œå…¶ä¸­ s1 ä¸ºå…¥æ ˆï¼Œs2 ä¸ºå‡ºæ ˆ</li><li>2ã€ç”±äºæ ˆæ˜¯åŠ¨æ€å®ç°çš„ï¼Œä¸å­˜åœ¨ä¸Šæº¢é—®é¢˜ï¼Œæ‰€ä»¥å…¥æ ˆåªéœ€è¦å°† x ä¿å­˜è‡³ s1 ä¸­å³å¯</li><li>3ã€åœ¨ pop()ã€ä¸ peek()å‡½æ•°ä¸­ï¼Œæ˜¯ç›¸åŒçš„é€»è¾‘ï¼Œåªæ˜¯ä¸€ä¸ªéœ€è¦åˆ é™¤ï¼Œä¸€ä¸ªä¸éœ€è¦åˆ é™¤</li></ul><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class MyQueue &#123;private:    stack&lt;int&gt; s1, s2;public:    &#x2F;** Initialize your data structure here. *&#x2F;    MyQueue() &#123;&#125;    &#x2F;** Push element x to the back of queue. *&#x2F;    void push(int x) &#123;        s1.push(x);    &#125;    &#x2F;** Removes the element from in front of queue and returns that element. *&#x2F;    int pop()    &#123;        if(s2.size() &#x3D;&#x3D; 0 &amp;&amp; s1.size() &#x3D;&#x3D; 0) return false;        else if(s2.size() !&#x3D; 0)        &#123;            int temp &#x3D; s2.top();            s2.pop();            return temp;        &#125;        else        &#123;            while(s1.size() !&#x3D; 0)            &#123;                int tmp &#x3D; s1.top();                s2.push(s1.top());                s1.pop();            &#125;            int temp &#x3D; s2.top();            s2.pop();            return temp;        &#125;    &#125;    &#x2F;** Get the front element. *&#x2F;    int peek() &#123;        if(s2.size() &#x3D;&#x3D; 0 &amp;&amp; s1.size() &#x3D;&#x3D; 0) return false;        else if(s2.size() !&#x3D; 0) return s2.top();        else        &#123;            while(s1.size() !&#x3D; 0)            &#123;                int tmp &#x3D; s1.top();                s2.push(s1.top());                s1.pop();            &#125;        &#125;        return s2.top();    &#125;    &#x2F;** Returns whether the queue is empty. *&#x2F;    bool empty() &#123;        return s1.empty() &amp;&amp; s2.empty();    &#125;&#125;;&#x2F;** * Your MyQueue object will be instantiated and called as such: * MyQueue* obj &#x3D; new MyQueue(); * obj-&gt;push(x); * int param_2 &#x3D; obj-&gt;pop(); * int param_3 &#x3D; obj-&gt;peek(); * bool param_4 &#x3D; obj-&gt;empty(); *&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(1)ï¼Œé™¤äº†è°ƒç”¨ pop()ä¸ peek()åˆæ¬¡éœ€è¦è¾ƒé•¿çš„æ—¶é—´ä¹‹å¤–ï¼Œå…¶ä½™éƒ½åªéœ€è¦ O(1)çš„å¤æ‚åº¦ã€‚P(å‡»è´¥ 100%åº”è¯¥æ˜¯ O(1)å§)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œä¸¤ä¸ªæ ˆä¸€å…±å­˜æ”¾è¾“å…¥ n ä¸ªæ•°æ®è§„æ¨¡ï¼Œæ•…åº”ä¸º O(n);</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>stack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-04 394. å­—ç¬¦ä¸²è§£ç </title>
    <link href="/2021/09/13/Leetcode/91-day/day-04/"/>
    <url>/2021/09/13/Leetcode/91-day/day-04/</url>
    
    <content type="html"><![CDATA[<h1 id="394-å­—ç¬¦ä¸²è§£ç "><a href="#394-å­—ç¬¦ä¸²è§£ç " class="headerlink" title="394. å­—ç¬¦ä¸²è§£ç "></a><strong><a href="https://leetcode-cn.com/problems/decode-string/">394. å­—ç¬¦ä¸²è§£ç </a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚ç¼–ç è§„åˆ™ä¸º<span class="token operator">:</span> k<span class="token punctuation">[</span>encoded_string<span class="token punctuation">]</span>ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ encoded_string æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ã€‚ä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ <span class="token number">3</span>a æˆ– <span class="token number">2</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> çš„è¾“å…¥ã€‚ ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"3[a]2[bc]"</span>è¾“å‡ºï¼š<span class="token string">"aaabcbc"</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"3[a2[c]]"</span>è¾“å‡ºï¼š<span class="token string">"accaccacc"</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"2[abc]3[cd]ef"</span>è¾“å‡ºï¼š<span class="token string">"abcabccdcdcdef"</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"abc3[cd]xyz"</span>è¾“å‡ºï¼š<span class="token string">"abccdcdcdxyz"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€åˆ›å»ºä¸€ä¸ª stack<string> res çš„è¾…åŠ©æ ˆä»¥åŠæœ€ç»ˆçš„è¿”å›å€¼ string ç±»å‹çš„ res åˆå§‹åŒ–ä¸ºç©ºï¼›</li><li>2ã€[ ä¹‹å‰çš„æ•°å­—å¯èƒ½ä¸æ­¢ä¸€ä½ï¼Œæ‰€ä»¥è¦è®¾ç½®ä¸€ä¸ª sum è¡¨ç¤ºå…¶ä¹‹å‰æ•°å­—çš„æ€»å’Œã€‚</li><li>3ã€å­—ç¬¦ä¸²é¢˜æœ‰å¤§å°å†™çš„åŒºåˆ«ï¼Œæ‰€ä»¥è¦æ³¨æ„å¤§å°å†™</li><li>4ã€çœ‹ä»£ç æ³¨é‡Šä¸¾ä¾‹ã€‚</li></ul><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    string decodeString(string s) &#123;        stack&lt;string&gt; pos;        stack&lt;int&gt; nums;        string res &#x3D; &quot;&quot;;        int sum &#x3D; 0;        for(int i &#x3D; 0; i &lt; s.size(); i++)        &#123;            if(isdigit(s[i]))            &#x2F;&#x2F;if(s[i] &gt;&#x3D; &#39;0&#39; &amp;&amp; s[i] &lt;&#x3D; &#39;9&#39;)                sum &#x3D; sum * 10 + s[i] - &#39;0&#39;;            else if(isalpha(s))                &#x2F;&#x2F;if((s[i] &gt;&#x3D; &#39;a&#39; &amp;&amp; s[i] &lt;&#x3D; &#39;z&#39;)||(s[i] &gt;&#x3D; &#39;A&#39; &amp;&amp; s[i] &lt;&#x3D; &#39;Z&#39;))                res +&#x3D; s[i]; &#x2F;&#x2F;æ³¨æ„å¤§å°å†™ï¼Œä¹‹å‰ç¬¬ä¸€æ¬¡æäº¤å‘ç°å¤§å°å†™ä¹Ÿå­˜åœ¨åŒºåˆ†            else if(s[i] &#x3D;&#x3D; &#39;[&#39;)            &#123;                nums.push(sum);                sum &#x3D; 0;    &#x2F;&#x2F;é‡ç½® 0                pos.push(res);                res &#x3D; &quot;&quot;;   &#x2F;&#x2F;é‡ç½®ä¸ºç©ºå­—ç¬¦ä¸²            &#125;            else if(s[i] &#x3D;&#x3D; &#39;]&#39;)   &#x2F;&#x2F;æ­¤å¤„ä¸¾ä¾‹3[a2[c]];            &#123;       &#x2F;&#x2F;å‡ºç°[åå°†3æ”¾å…¥numsä¸­ï¼Œsumé‡ç½®ï¼Œresä»ä¸º&quot;&quot;                sum &#x3D; nums.top();  &#x2F;&#x2F;è€Œåå†å‡ºç°[ï¼Œæ­¤æ—¶sum&#x3D;2;res&#x3D;&quot;a&quot;,å­˜å…¥pos                nums.pop();    &#x2F;&#x2F;ç¬¬ä¸€æ¬¡å‡ºç°], æ­¤æ—¶sum &#x3D; nums.top() &#x3D;&#x3D; 2                while(sum)    &#x2F;&#x2F;pos.top &#x3D; a, res &#x3D; &#39;c&#39;,è¾“å‡ºä¸ºres &#x3D; &quot;acc&quot;                &#123;      &#x2F;&#x2F;ç¬¬äºŒæ¬¡å‡ºç°],sum &#x3D; nums.top() &#x3D;&#x3D; 3;                    pos.top() +&#x3D; res;  &#x2F;&#x2F;pos.top &#x3D; &quot;&quot; ç¬¬ä¸€æ¬¡å­˜å…¥çš„res, res &#x3D;&quot;acc&quot;,                    sum--;    &#x2F;&#x2F;ç”»å›¾æ›´å¥½ç†è§£ï¼Œsumç»å†å˜åŒ–åçš„å€¼æœ€ç»ˆå§‹ç»ˆä¸º0                &#125;                res &#x3D; pos.top();                pos.pop();            &#125;        &#125;        return res;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šä¸€æ¬¡éå† O(s.size), å…¶ä¸­çš„ while å¾ªç¯åº”è¯¥æ˜¯å¸¸æ•°çº§;</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(s.size);</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>string</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-03 1381. è®¾è®¡ä¸€ä¸ªæ”¯æŒå¢é‡æ“ä½œçš„æ ˆ</title>
    <link href="/2021/09/12/Leetcode/91-day/day-03/"/>
    <url>/2021/09/12/Leetcode/91-day/day-03/</url>
    
    <content type="html"><![CDATA[<h1 id="1381-è®¾è®¡ä¸€ä¸ªæ”¯æŒå¢é‡æ“ä½œçš„æ ˆ"><a href="#1381-è®¾è®¡ä¸€ä¸ªæ”¯æŒå¢é‡æ“ä½œçš„æ ˆ" class="headerlink" title="1381. è®¾è®¡ä¸€ä¸ªæ”¯æŒå¢é‡æ“ä½œçš„æ ˆ"></a><strong><a href="https://leetcode-cn.com/problems/design-a-stack-with-increment-operation/">1381. è®¾è®¡ä¸€ä¸ªæ”¯æŒå¢é‡æ“ä½œçš„æ ˆ</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è¯·ä½ è®¾è®¡ä¸€ä¸ªæ”¯æŒä¸‹è¿°æ“ä½œçš„æ ˆã€‚å®ç°è‡ªå®šä¹‰æ ˆç±» CustomStack ï¼š<span class="token function">CustomStack</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxSize<span class="token punctuation">)</span>ï¼šç”¨ maxSize åˆå§‹åŒ–å¯¹è±¡ï¼ŒmaxSize æ˜¯æ ˆä¸­æœ€å¤šèƒ½å®¹çº³çš„å…ƒç´ æ•°é‡æ ˆåœ¨å¢é•¿åˆ° maxSize ä¹‹ååˆ™ä¸æ”¯æŒ push æ“ä½œã€‚<span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>ï¼šå¦‚æœæ ˆè¿˜æœªå¢é•¿åˆ° maxSize ï¼Œå°±å°† x æ·»åŠ åˆ°æ ˆé¡¶ã€‚<span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šå¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶è¿”å›æ ˆé¡¶çš„å€¼ï¼Œæˆ–æ ˆä¸ºç©ºæ—¶è¿”å› <span class="token operator">-</span><span class="token number">1</span> ã€‚<span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span>ï¼šæ ˆåº•çš„ k ä¸ªå…ƒç´ çš„å€¼éƒ½å¢åŠ  valå¦‚æœæ ˆä¸­å…ƒç´ æ€»æ•°å°äº k ï¼Œåˆ™æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å¢åŠ  val ã€‚ç¤ºä¾‹ï¼šè¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token string">"CustomStack"</span><span class="token punctuation">,</span><span class="token string">"push"</span><span class="token punctuation">,</span><span class="token string">"push"</span><span class="token punctuation">,</span><span class="token string">"push"</span><span class="token punctuation">,</span><span class="token string">"push"</span><span class="token punctuation">,</span><span class="token string">"push"</span><span class="token punctuation">,</span><span class="token string">"increment"</span><span class="token punctuation">,</span><span class="token string">"increment"</span><span class="token punctuation">,</span><span class="token string">"pop"</span><span class="token punctuation">,</span><span class="token string">"pop"</span><span class="token punctuation">,</span><span class="token string">"pop"</span><span class="token punctuation">,</span><span class="token string">"pop"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>è¾“å‡ºï¼š<span class="token punctuation">[</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token number">2</span>ï¼Œ<span class="token number">103</span><span class="token punctuation">,</span><span class="token number">202</span><span class="token punctuation">,</span><span class="token number">201</span><span class="token punctuation">]</span>è§£é‡Šï¼šCustomStack customStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">CustomStack</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆæ˜¯ç©ºçš„ []</span>customStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆå˜ä¸º [1]</span>customStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆå˜ä¸º [1, 2]</span>customStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 2 --> è¿”å›æ ˆé¡¶å€¼ 2ï¼Œæ ˆå˜ä¸º [1]</span>customStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆå˜ä¸º [1, 2]</span>customStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆå˜ä¸º [1, 2, 3]</span>customStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆä»ç„¶æ˜¯ [1, 2, 3]ï¼Œä¸èƒ½æ·»åŠ å…¶ä»–å…ƒç´ ä½¿æ ˆå¤§å°å˜ä¸º 4</span>customStack<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆå˜ä¸º [101, 102, 103]</span>customStack<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ˆå˜ä¸º [201, 202, 103]</span>customStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 103 --> è¿”å›æ ˆé¡¶å€¼ 103ï¼Œæ ˆå˜ä¸º [201, 202]</span>customStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 202 --> è¿”å›æ ˆé¡¶å€¼ 202ï¼Œæ ˆå˜ä¸º [201]</span>customStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 201 --> è¿”å›æ ˆé¡¶å€¼ 201ï¼Œæ ˆå˜ä¸º []</span>customStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› -1 --> æ ˆä¸ºç©ºï¼Œè¿”å› -1</span>æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> maxSize <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> x <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">1</span> <span class="token operator">&lt;=</span> k <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> val <span class="token operator">&lt;=</span> <span class="token number">100</span>æ¯ç§æ–¹æ³• incrementï¼Œpush ä»¥åŠ pop åˆ†åˆ«æœ€å¤šè°ƒç”¨ <span class="token number">1000</span> æ¬¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€åˆ›å»ºä¸€ä¸ªåŠ¨æ€æ•°ç»„ dataï¼Œå¯ä»¥ä½¿ç”¨ c++ä¸­çš„ resize å‡½æ•°é‡ç½®æ•°ç»„å®¹é‡ï¼Œä½†åå¤åŠ¨æ€æ‰©å®¹åè€Œå¢å¤§äº†æ—¶é—´çš„æ¶ˆè€—ã€‚</li><li>2ã€pushã€pop éƒ½æ˜¯ç»å…¸çš„æ ˆå†™æ³•ï¼›</li><li>3ã€increment æ•°é€šè¿‡ä¸€ä¸ªæ•°ç»„éå†å³å¯ã€‚</li></ul><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class CustomStack &#123;private:    vector&lt;int&gt; data;    int top;public:    CustomStack(int maxSize)    &#123;        data.resize(maxSize);        top &#x3D; -1;    &#125;    void push(int x)    &#123;        if (top !&#x3D; data.size() - 1)        &#123;            data[++top] &#x3D; x;        &#125;    &#125;    int pop()    &#123;        if (top &#x3D;&#x3D; -1) return -1;        else return data[top--];    &#125;    void increment(int k, int val)    &#123;        int minx &#x3D; min(k, top + 1);        for (int i &#x3D; 0; i &lt; minx; i++)        &#123;            data[i] +&#x3D; val;        &#125;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> CustomStack <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>    top <span class="token builtin">int</span>    <span class="token builtin">cap</span> <span class="token builtin">int</span>    stack <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">Constructor</span><span class="token punctuation">(</span>maxSize <span class="token builtin">int</span><span class="token punctuation">)</span> CustomStack <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> CustomStack <span class="token punctuation">&#123;</span>        stack <span class="token punctuation">:</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token builtin">cap</span> <span class="token punctuation">:</span> maxSize<span class="token punctuation">,</span>        top <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>CustomStack<span class="token punctuation">)</span> <span class="token function">Push</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> this<span class="token punctuation">.</span>top <span class="token operator">&lt;</span> this<span class="token punctuation">.</span><span class="token builtin">cap</span> <span class="token punctuation">&#123;</span>        this<span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>this<span class="token punctuation">.</span>stack<span class="token punctuation">,</span> x<span class="token punctuation">)</span>        this<span class="token punctuation">.</span>top<span class="token operator">++</span>    <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>CustomStack<span class="token punctuation">)</span> <span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> this<span class="token punctuation">.</span>top <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>    <span class="token punctuation">&#125;</span>        x <span class="token operator">:=</span> this<span class="token punctuation">.</span>stack<span class="token punctuation">[</span>this<span class="token punctuation">.</span>top <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>    this<span class="token punctuation">.</span>stack <span class="token operator">=</span> this<span class="token punctuation">.</span>stack<span class="token punctuation">[</span><span class="token punctuation">:</span>this<span class="token punctuation">.</span>top <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>    this<span class="token punctuation">.</span>top<span class="token operator">--</span>        <span class="token keyword">return</span> x<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>CustomStack<span class="token punctuation">)</span> <span class="token function">Increment</span><span class="token punctuation">(</span>k <span class="token builtin">int</span><span class="token punctuation">,</span> val <span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> k <span class="token operator">></span> this<span class="token punctuation">.</span>top <span class="token punctuation">&#123;</span>        k <span class="token operator">=</span> this<span class="token punctuation">.</span>top    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        this<span class="token punctuation">.</span>stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> val    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * Your CustomStack object will be instantiated and called as such: * obj := Constructor(maxSize); * obj.Push(x); * param_2 := obj.Pop(); * obj.Increment(k,val); */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼špushã€pop å‡ä¸º $O(1)$ï¼Œè€Œ increment ä¸º $O(minx)$ï¼Œgo ä¸­ä¸º $O(K)$ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šç”±åˆ›å»ºçš„åŠ¨æ€æ•°ç»„ data çš„é•¿åº¦å†³å®šï¼Œå³ä¸º $O(maxSize)$ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>stack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-02 821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»</title>
    <link href="/2021/09/11/Leetcode/91-day/day-02/"/>
    <url>/2021/09/11/Leetcode/91-day/day-02/</url>
    
    <content type="html"><![CDATA[<h1 id="821-å­—ç¬¦çš„æœ€çŸ­è·ç¦»"><a href="#821-å­—ç¬¦çš„æœ€çŸ­è·ç¦»" class="headerlink" title="821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»"></a><strong><a href="https://leetcode-cn.com/problems/shortest-distance-to-a-character/">821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² S å’Œä¸€ä¸ªå­—ç¬¦ Cè¿”å›ä¸€ä¸ªä»£è¡¨å­—ç¬¦ä¸² S ä¸­æ¯ä¸ªå­—ç¬¦åˆ°å­—ç¬¦ä¸² S ä¸­çš„å­—ç¬¦ C çš„æœ€çŸ­è·ç¦»çš„æ•°ç»„ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"loveleetcode"</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token string">"e"</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>è§£é‡Šï¼šå­—ç¬¦ <span class="token char">'e'</span> å‡ºç°åœ¨ä¸‹æ ‡ <span class="token number">3</span>ã€<span class="token number">5</span>ã€<span class="token number">6</span> å’Œ <span class="token number">11</span> å¤„ï¼ˆä¸‹æ ‡ä» <span class="token number">0</span> å¼€å§‹è®¡æ•°ï¼‰è·ä¸‹æ ‡ <span class="token number">0</span> æœ€è¿‘çš„ <span class="token char">'e'</span> å‡ºç°åœ¨ä¸‹æ ‡ <span class="token number">3</span> ï¼Œæ‰€ä»¥è·ç¦»ä¸º <span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>è·ä¸‹æ ‡ <span class="token number">1</span> æœ€è¿‘çš„ <span class="token char">'e'</span> å‡ºç°åœ¨ä¸‹æ ‡ <span class="token number">3</span> ï¼Œæ‰€ä»¥è·ç¦»ä¸º <span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span>å¯¹äºä¸‹æ ‡ <span class="token number">4</span> æ¥è¯´ï¼Œå‡ºç°åœ¨ä¸‹æ ‡ <span class="token number">3</span> å’Œä¸‹æ ‡ <span class="token number">5</span> å¤„çš„ <span class="token char">'e'</span> éƒ½ç¦»å®ƒæœ€è¿‘ã€‚ä½†è·ç¦»æ˜¯ä¸€æ ·çš„ <span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>è·ä¸‹æ ‡ <span class="token number">8</span> æœ€è¿‘çš„ <span class="token char">'e'</span> å‡ºç°åœ¨ä¸‹æ ‡ <span class="token number">6</span> ï¼Œæ‰€ä»¥è·ç¦»ä¸º <span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">8</span> <span class="token operator">-</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">"aaab"</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token string">"b"</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€å»ºç«‹ä¸€ä¸ª vector å­˜å‚¨éå†å­—ç¬¦ä¸²åç­‰äºè¾“å…¥å­—ç¬¦ c çš„ä½ç½® position ä¸‹æ ‡</li><li>2ã€å¯¹äºæ¯ä¸€ä¸ªä½ç½®ï¼Œå°†å…¶å‡å»æ•°ç»„ä¸­çš„å€¼ï¼Œè¿”å›å…¶ absï¼ˆç»å¯¹å€¼ï¼‰ï¼Œå¹¶è¿”å›å…¶ä¸­æœ€å°çš„å€¼ã€‚</li><li>3ã€min(abs(i - pos[j]), abs(i - pos[j + 1]))ä¸­ä¼šå‡ºç°æ•°ç»„é•¿åº¦ä¸ºä¸€çš„ç‰¹æ®Šçš„æƒ…å†µï¼Œæ‰€ä»¥æ­¤å¤„åœ¨ä»Šæ™šä¼šè¿›ä¸€æ­¥è¿›è¡Œä¼˜åŒ–ã€‚</li></ul><h2 id="é¢˜ç›®ä»£ç "><a href="#é¢˜ç›®ä»£ç " class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h2><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;int&gt; shortestToChar(string s, char c) &#123;        int n &#x3D; s.size();        vector&lt;int&gt; pos;        vector&lt;int&gt; ans(n, n);                for(int i &#x3D; 0; i &lt; n; i++)        &#123;            if(s[i] &#x3D;&#x3D; c) pos.push_back(i);        &#125;        for(int i &#x3D; 0; i &lt; n; i++)        &#123;            int tmp &#x3D; 0;            if(pos.size() !&#x3D; 1)            &#123;                for(int j &#x3D; 0; j &lt; pos.size() - 1; j++)                &#123;                    tmp &#x3D; min(abs(i - pos[j]), abs(i - pos[j + 1]));                    if(ans[i] &gt; tmp) ans[i] &#x3D; tmp;                &#125;            &#125;            else            &#123;                ans[i] &#x3D; abs(i - pos[0]);            &#125;        &#125;        return ans;    &#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">shortestToChar</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> c <span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>    ans <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    pos <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> c <span class="token punctuation">&#123;</span>            pos <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> i<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> c <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> i<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> ans<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">min</span><span class="token punctuation">(</span>num <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    min <span class="token operator">:=</span> <span class="token number">10000</span> <span class="token comment">//å› ä¸ºæœ€é•¿ä¸º10000</span>        <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> min <span class="token operator">></span> <span class="token function">abs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            min <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>n <span class="token operator">-</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> min<span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">abs</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> a <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">-</span>a    <span class="token punctuation">&#125;</span>      <span class="token keyword">return</span> a<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO($n*k$)ï¼Œn æ˜¯ s çš„é•¿åº¦ï¼Œk æ˜¯å­—ç¬¦ c åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œk &lt;&#x3D; nã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(k)ï¼Œk ä¸ºå­—ç¬¦ c å‡ºç°çš„æ¬¡æ•°ï¼Œè¿™æ˜¯è®°å½•å­—ç¬¦ c å‡ºç°ä¸‹æ ‡çš„è¾…åŠ©æ•°ç»„æ¶ˆè€—çš„ç©ºé—´ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>string</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Day-01 989. æ•°ç»„å½¢å¼çš„æ•´æ•°åŠ æ³•</title>
    <link href="/2021/09/10/Leetcode/91-day/day-01/"/>
    <url>/2021/09/10/Leetcode/91-day/day-01/</url>
    
    <content type="html"><![CDATA[<h1 id="989-æ•°ç»„å½¢å¼çš„æ•´æ•°åŠ æ³•"><a href="#989-æ•°ç»„å½¢å¼çš„æ•´æ•°åŠ æ³•" class="headerlink" title="989. æ•°ç»„å½¢å¼çš„æ•´æ•°åŠ æ³•"></a><strong><a href="https://leetcode-cn.com/problems/add-to-array-form-of-integer/">989. æ•°ç»„å½¢å¼çš„æ•´æ•°åŠ æ³•</a></strong></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å¯¹äºéè´Ÿæ•´æ•° X è€Œè¨€ï¼ŒX çš„æ•°ç»„å½¢å¼æ˜¯æ¯ä½æ•°å­—æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºå½¢æˆçš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ X <span class="token operator">=</span> <span class="token number">1231</span>ï¼Œé‚£ä¹ˆå…¶æ•°ç»„å½¢å¼ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ã€‚ç»™å®šéè´Ÿæ•´æ•° X çš„æ•°ç»„å½¢å¼ Aï¼Œè¿”å›æ•´æ•° X<span class="token operator">+</span>K çš„æ•°ç»„å½¢å¼ã€‚ç¤ºä¾‹ <span class="token number">1</span>ï¼šè¾“å…¥ï¼šA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">34</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>è§£é‡Šï¼š<span class="token number">1200</span> <span class="token operator">+</span> <span class="token number">34</span> <span class="token operator">=</span> <span class="token number">1234</span>ç¤ºä¾‹ <span class="token number">2</span>ï¼šè¾“å…¥ï¼šA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">181</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>è§£é‡Šï¼š<span class="token number">274</span> <span class="token operator">+</span> <span class="token number">181</span> <span class="token operator">=</span> <span class="token number">455</span>ç¤ºä¾‹ <span class="token number">3</span>ï¼šè¾“å…¥ï¼šA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">806</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>è§£é‡Šï¼š<span class="token number">215</span> <span class="token operator">+</span> <span class="token number">806</span> <span class="token operator">=</span> <span class="token number">1021</span>ç¤ºä¾‹ <span class="token number">4</span>ï¼šè¾“å…¥ï¼šA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> K <span class="token operator">=</span> <span class="token number">1</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>è§£é‡Šï¼š<span class="token number">9999999999</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">10000000000</span>æç¤ºï¼š<span class="token number">1</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token number">0</span> <span class="token operator">&lt;=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token number">0</span> <span class="token operator">&lt;=</span> K <span class="token operator">&lt;=</span> <span class="token number">10000</span>å¦‚æœ A<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span>ï¼Œé‚£ä¹ˆ A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="é¢˜ç›®æ€è·¯"><a href="#é¢˜ç›®æ€è·¯" class="headerlink" title="é¢˜ç›®æ€è·¯"></a>é¢˜ç›®æ€è·¯</h2><ul><li>1ã€å»ºç«‹ä¸€ä¸ª res çš„åŠ¨æ€æ•°ç»„ï¼Œä»¥ä½æ•°çš„å½¢å¼æ¥å­˜å‚¨æœ€åçš„ç»“æœå€¼ï¼›</li><li>2ã€ä»åå¾€å‰ä¸ k ç›¸åŠ ï¼Œç„¶åå¯¹ç›¸åŠ å¾—åˆ°çš„å€¼å¯¹ 10 è¿›è¡Œæ±‚ä½™æ•°ï¼›</li><li>3ã€å¦‚æœ k çš„ä½æ•°å¤§äº nums æ•°ç»„æ‰€ç»™çš„ä½æ•°æ—¶å€™ï¼Œå¿…ç„¶å¯¼è‡´ k åœ¨å¾ªç¯å†…é™¤ä»¥ 10 åä½™ç•™çš„å€¼å¤§äº 0ã€‚</li><li>4ã€æ­¤æ—¶éœ€è¦æ‰©å±•æ•°ç»„ï¼Œç”±äºæ˜¯åŠ¨æ€æ•°ç»„ï¼Œç›´æ¥æ”¹å†™ç±»ä¼¼å¾ªç¯ä¸­ k &#x3D; sum &#x2F; 10ï¼Œæ­¤å¤„ä¸º k &#x2F;&#x3D; 10ï¼Œç›´åˆ° k ä¸º 0 ä¸ºæ­¢ã€‚</li><li>4ã€æœ€åé€†åºæ•°ç»„å³å¯è¾“å‡ºã€‚</li></ul><h2 id="é¢˜ç›®ä»£ç "><a href="#é¢˜ç›®ä»£ç " class="headerlink" title="é¢˜ç›®ä»£ç "></a>é¢˜ç›®ä»£ç </h2><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">addToArrayForm</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res<span class="token punctuation">;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> sum <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> k<span class="token punctuation">;</span>            res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            k <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>k <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>k <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            k <span class="token operator">/=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">reverse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><figure><div class="code-wrapper"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">addToArrayForm</span><span class="token punctuation">(</span>num <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> k <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>    ans <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>      <span class="token keyword">for</span> i <span class="token operator">:=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">&#123;</span>        v <span class="token operator">:=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> k<span class="token punctuation">;</span>        ans <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> v <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span>        k <span class="token operator">=</span> v <span class="token operator">/</span> <span class="token number">10</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> k <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>        ans <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> k <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span>        k <span class="token operator">=</span> k <span class="token operator">/</span> <span class="token number">10</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token function">reverse</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">func</span> <span class="token function">reverse</span><span class="token punctuation">(</span>num <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> i<span class="token punctuation">,</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> j<span class="token punctuation">;</span> <span class="token punctuation">&#123;</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        i<span class="token operator">++</span>        j<span class="token operator">--</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> num<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h2 id="å¤æ‚åº¦"><a href="#å¤æ‚åº¦" class="headerlink" title="å¤æ‚åº¦"></a>å¤æ‚åº¦</h2><ul><li>ç©ºé—´å¤æ‚åº¦ï¼šç”³è¯·äº†ä¸€ä¸ªå¸¸æ•°çº§æ•°ç»„ï¼Œæ•…ç©ºé—´ä¸º O(1)</li><li>æ—¶é—´å¤æ‚åº¦ï¼š$O(max(n, \log k))$ï¼Œå…¶ä¸­ n ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>91-day-algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vector</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>unordered_map çš„ä½¿ç”¨</title>
    <link href="/2021/01/08/cpp/unordered_map/"/>
    <url>/2021/01/08/cpp/unordered_map/</url>
    
    <content type="html"><![CDATA[<h2 id="æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒC-STLå‡½æ•°åº“"><a href="#æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒC-STLå‡½æ•°åº“" class="headerlink" title="æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒC++ STLå‡½æ•°åº“"></a>æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒ<a href="http://www.cplusplus.com/reference/unordered_map/unordered_map/?kw=unordered_map">C++ STLå‡½æ•°åº“</a></h2><h1 id="std-unordered-map-C-11"><a href="#std-unordered-map-C-11" class="headerlink" title="std::unordered_map(C++11)"></a>std::unordered_map(C++11)</h1><blockquote><p>  unordered_mapæ˜¯ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œå†…éƒ¨é‡‡ç”¨çš„æ˜¯hashè¡¨ç»“æ„ï¼Œæ‹¥æœ‰å¿«é€Ÿæ£€ç´¢çš„åŠŸèƒ½ã€‚</p></blockquote><h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a><strong>ç‰¹æ€§</strong></h3><blockquote><ol><li>å…³è”æ€§ï¼šé€šè¿‡keyå»æ£€ç´¢valueï¼Œè€Œä¸æ˜¯é€šè¿‡ç»å¯¹åœ°å€ï¼ˆå’Œé¡ºåºå®¹å™¨ä¸åŒï¼‰</li><li>æ— åºæ€§ï¼šä½¿ç”¨hashè¡¨å­˜å‚¨ï¼Œå†…éƒ¨æ— åº</li><li>Map : æ¯ä¸ªå€¼å¯¹åº”ä¸€ä¸ªé”®å€¼</li><li>é”®å”¯ä¸€æ€§ï¼šä¸å­˜åœ¨ä¸¤ä¸ªå…ƒç´ çš„é”®ä¸€æ ·</li><li>åŠ¨æ€å†…å­˜ç®¡ç†ï¼šä½¿ç”¨å†…å­˜ç®¡ç†æ¨¡å‹æ¥åŠ¨æ€ç®¡ç†æ‰€éœ€è¦çš„å†…å­˜ç©ºé—´</li></ol></blockquote><h3 id="æ¨¡ç‰ˆ"><a href="#æ¨¡ç‰ˆ" class="headerlink" title="æ¨¡ç‰ˆ"></a>æ¨¡ç‰ˆ</h3><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">template &lt; class Key,                                    &#x2F;&#x2F; unordered_map::key_type           class T,                                      &#x2F;&#x2F; unordered_map::mapped_type           class Hash &#x3D; hash&lt;Key&gt;,                       &#x2F;&#x2F; unordered_map::hasher           class Pred &#x3D; equal_to&lt;Key&gt;,                   &#x2F;&#x2F; unordered_map::key_equal           class Alloc &#x3D; allocator&lt; pair&lt;const Key,T&gt; &gt;  &#x2F;&#x2F; unordered_map::allocator_type           &gt; class unordered_map;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¸€èˆ¬åªä½¿ç”¨æ¨¡æ¿å‰2ä¸ªå‚æ•°&lt;KEY, T&gt; å³unordered_map&lt;const Key, T&gt; map;</p><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><p>unordered_mapçš„è¿­ä»£å™¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è¿™ä¸ªå…ƒç´ ï¼Œé€šè¿‡è¿­ä»£å™¨æ¥å–å¾—å®ƒçš„å€¼ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">unordered_map<span class="token operator">&lt;</span>Key<span class="token punctuation">,</span> T<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span>             <span class="token comment">// the key value (of type Key)</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span>            <span class="token comment">// the mapped value (of type T)</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// the "element value" (of type pair&lt;const Key,T>) </span>   it <span class="token operator">-></span> first<span class="token punctuation">;</span>  key       <span class="token comment">// å®ƒçš„é”®å€¼åˆ†åˆ«æ˜¯è¿­ä»£å™¨çš„firstå’Œsecondå±æ€§ã€‚</span>it <span class="token operator">-></span> second<span class="token punctuation">;</span> T              <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><blockquote><p>  unordered_mapçš„æ„é€ æ–¹å¼æœ‰å‡ ç§ï¼š<br>  - æ„é€ ç©ºçš„å®¹å™¨<br>  - å¤åˆ¶æ„é€ <br>  - èŒƒå›´æ„é€ <br>  - ç”¨æ•°ç»„æ„é€ </p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unordered_map&gt;using namespace std;typedef unordered_map&lt;string, string&gt; stringmap;stringmap merge(stringmap a, stringmap b)&#123;    stringmap temp(a);    temp.insert(b.begin(), b.end());    return temp;&#125;int main()&#123;    stringmap first;                                                &#x2F;&#x2F; ç©º        stringmap second(&#123;&#123;&quot;apple&quot;, &quot;red&quot;&#125;, &#123;&quot;lemon&quot;, &quot;yellow&quot;&#125;&#125;);      &#x2F;&#x2F; ç”¨æ•°ç»„åˆå§‹        stringmap third(&#123;&#123;&quot;orange&quot;, &quot;orange&quot;&#125;, &#123;&quot;strawberry&quot;, &quot;red&quot;&#125;&#125;); &#x2F;&#x2F; ç”¨æ•°ç»„åˆå§‹        stringmap fourth(second);                                       &#x2F;&#x2F; å¤åˆ¶åˆå§‹åŒ–        stringmap fifth(merge(third, fourth));                          &#x2F;&#x2F; ç§»åŠ¨åˆå§‹åŒ–        stringmap sixth(fifth.begin(), fifth.end());                    &#x2F;&#x2F; èŒƒå›´åˆå§‹åŒ–    cout &lt;&lt; &quot;sixth contains:&quot;;        for (auto &amp;x : sixth)        cout &lt;&lt; &quot; &quot; &lt;&lt; x.first &lt;&lt; &quot;:&quot; &lt;&lt; x.second;    cout &lt;&lt; endl;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¾“å‡ºç»“æœï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sixth contains: apple:red lemon:yellow orange:orange strawberry:red<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><h4 id="size"><a href="#size" class="headerlink" title="size()"></a>size()</h4><blockquote><p>  è¿”å›unordered_mapçš„å¤§å°</p></blockquote><h4 id="empty"><a href="#empty" class="headerlink" title="empty()"></a>empty()</h4><blockquote><p>  ä¸ºç©ºè¿”å›true</p><p>  ä¸ä¸ºç©ºè¿”å›falseï¼Œå’Œç”¨size() &#x3D;&#x3D; 0åˆ¤æ–­ä¸€æ ·ã€‚</p></blockquote><h4 id="find"><a href="#find" class="headerlink" title="find();"></a>find();</h4><blockquote><p>  æŸ¥æ‰¾keyæ‰€åœ¨çš„å…ƒç´ ã€‚</p><p>  æ‰¾åˆ°ï¼šè¿”å›å…ƒç´ çš„è¿­ä»£å™¨ã€‚é€šè¿‡è¿­ä»£å™¨çš„secondå±æ€§è·å–å€¼</p><p>  æ²¡æ‰¾åˆ°ï¼šè¿”å›unordered_map::end</p></blockquote><h4 id="insert"><a href="#insert" class="headerlink" title="insert()"></a>insert()</h4><blockquote><p>å¤åˆ¶æ’å…¥(å¤åˆ¶ä¸€ä¸ªå·²æœ‰çš„pairçš„å†…å®¹)<br>æ•°ç»„æ’å…¥ï¼ˆç›´æ¥æ’å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼‰<br>èŒƒå›´æ’å…¥ï¼ˆå¤åˆ¶ä¸€ä¸ªèµ·å§‹è¿­ä»£å™¨å’Œç»ˆæ­¢è¿­ä»£å™¨ä¸­é—´çš„å†…å®¹ï¼‰<br>æ•°ç»„è®¿é—®æ¨¡å¼æ’å…¥(å’Œæ•°ç»„çš„[]æ“ä½œå¾ˆç›¸ä¼¼)</p></blockquote><p>å…·ä½“çš„ä¾‹å­å¯ä»¥çœ‹åé¢ç¤ºä¾‹ä»£ç ã€‚</p><h4 id="at"><a href="#at" class="headerlink" title="at();"></a>at();</h4><blockquote><p>  æŸ¥æ‰¾keyæ‰€å¯¹åº”çš„å€¼<br>  å¦‚æœå­˜åœ¨ï¼šè¿”å›keyå¯¹åº”çš„å€¼ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œå’Œ[]æ“ä½œä¸€æ ·ã€‚<br>  å¦‚æœä¸å­˜åœ¨ï¼šæŠ›å‡º out_of_range å¼‚å¸¸.</p></blockquote><h4 id="erase"><a href="#erase" class="headerlink" title="erase()"></a>erase()</h4><blockquote><p>  é€šè¿‡ä½ç½®ï¼ˆè¿­ä»£å™¨ï¼‰</p><p>  é€šè¿‡key </p><p>  é€šè¿‡èŒƒå›´ï¼ˆä¸¤ä¸ªè¿­ä»£å™¨</p></blockquote><h4 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h4><blockquote><p>  æ¸…ç©ºunordered_map</p></blockquote><h4 id="swap"><a href="#swap" class="headerlink" title="swap()"></a>swap()</h4><blockquote><p>void swap(unordered_map&amp; ump);</p><p>äº¤æ¢ä¸¤ä¸ªunordered_map(æ•´ä¸ªäº¤æ¢ä¸¤ä¸ªmapä¸­çš„æ‰€æœ‰å…ƒç´ ï¼‰</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unordered_map&gt;using namespace std;void display(unordered_map&lt;string, double&gt; myrecipe, string str)&#123;    cout &lt;&lt; str &lt;&lt; endl;    for (auto &amp;x : myrecipe)        cout &lt;&lt; x.first &lt;&lt; &quot;: &quot; &lt;&lt; x.second &lt;&lt; endl;    cout &lt;&lt; endl;&#125;int main()&#123;    unordered_map&lt;string, double&gt; myrecipe, mypantry &#x3D; &#123;        &#123;&quot;milk&quot;, 2.0&#125;,                                                              &#123;&quot;flour&quot;, 1.5&#125;    &#125;;        pair&lt;string, double&gt; myshopping(&quot;baking powder&quot;, 0.3);        myrecipe.insert(myshopping);                             &#x2F;&#x2F; å¤åˆ¶æ’å…¥        myrecipe.insert(make_pair&lt;string, double&gt;(&quot;eggs&quot;, 6.0)); &#x2F;&#x2F; ç§»åŠ¨æ’å…¥        myrecipe.insert(mypantry.begin(), mypantry.end());       &#x2F;&#x2F; èŒƒå›´æ’å…¥        myrecipe.insert(&#123;&#123;&quot;sugar&quot;, 0.8&#125;, &#123;&quot;salt&quot;, 0.1&#125;&#125;);        &#x2F;&#x2F; åˆå§‹åŒ–æ•°ç»„æ’å…¥        myrecipe[&quot;coffee&quot;] &#x3D; 10.0;                               &#x2F;&#x2F; æ•°ç»„å½¢å¼æ’å…¥        display(myrecipe, &quot;myrecipe contains:&quot;);    &#x2F;****************æŸ¥æ‰¾*****************&#x2F;        unordered_map&lt;string, double&gt;::const_iterator got &#x3D; myrecipe.find(&quot;coffee&quot;);    if (got &#x3D;&#x3D; myrecipe.end())        cout &lt;&lt; &quot;not found&quot;;    else        cout &lt;&lt; &quot;found &quot; &lt;&lt; got-&gt;first &lt;&lt; &quot; is &quot; &lt;&lt; got-&gt;second &lt;&lt; &quot;\n\n&quot;;        &#x2F;****************ä¿®æ”¹*****************&#x2F;        myrecipe.at(&quot;coffee&quot;) &#x3D; 9.0;        myrecipe[&quot;milk&quot;] &#x3D; 3.0;        display(myrecipe, &quot;After modify myrecipe contains:&quot;);    &#x2F;****************æ“¦é™¤*****************&#x2F;        myrecipe.erase(myrecipe.begin()); &#x2F;&#x2F;é€šè¿‡ä½ç½®        myrecipe.erase(&quot;milk&quot;);           &#x2F;&#x2F;é€šè¿‡key        display(myrecipe, &quot;After erase myrecipe contains:&quot;);    &#x2F;****************äº¤æ¢*****************&#x2F;        myrecipe.swap(mypantry);        display(myrecipe, &quot;After swap with mypantry, myrecipe contains:&quot;);    &#x2F;****************æ¸…ç©º*****************&#x2F;        myrecipe.clear();    display(myrecipe, &quot;After clear, myrecipe contains:&quot;);    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¾“å‡ºç»“æœï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">myrecipe contains:salt: 0.1milk: 2flour: 1.5coffee: 10eggs: 6sugar: 0.8baking powder: 0.3found coffee is 10After modify myrecipe contains:salt: 0.1milk: 3flour: 1.5coffee: 9eggs: 6sugar: 0.8baking powder: 0.3After erase myrecipe contains:flour: 1.5coffee: 9eggs: 6sugar: 0.8baking powder: 0.3After swap with mypantry, myrecipe contains:flour: 1.5milk: 2After clear, myrecipe contains:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h4 id="begin"><a href="#begin" class="headerlink" title="begin()"></a>begin()</h4><blockquote><p>begin() : è¿”å›å¼€å§‹çš„è¿­ä»£å™¨</p><p>begin(int n) : è¿”å›nå·bucketçš„ç¬¬ä¸€ä¸ªè¿­ä»£å™¨</p></blockquote><h4 id="end"><a href="#end" class="headerlink" title="end()"></a>end()</h4><blockquote><p>  end(): è¿”å›ç»“æŸä½ç½®çš„è¿­ä»£å™¨</p><p>  end(int n) : è¿”å›nå·bucketçš„æœ€åä¸€ä¸ªè¿­ä»£å™¨</p></blockquote><h4 id="bucket"><a href="#bucket" class="headerlink" title="bucket()"></a>bucket()</h4><blockquote><p>  è¿”å›é€šè¿‡å“ˆå¸Œè®¡ç®—keyæ‰€åœ¨çš„bucket</p><p>  æ­¤å¤„ä»…ä½¿ç”¨å“ˆå¸Œè®¡ç®—ç¡®å®šbucketï¼Œä¸ä¿è¯keyä¸€å®šå­˜åœ¨bucketä¸­ï¼</p></blockquote><h4 id="bucket-count"><a href="#bucket-count" class="headerlink" title="bucket_count()"></a>bucket_count()</h4><blockquote><p>  è¿”å›bucketçš„æ€»æ•°</p></blockquote><h4 id="bucket-size"><a href="#bucket-size" class="headerlink" title="bucket_size()"></a>bucket_size()</h4><blockquote><p>è¿”å›ç¬¬iä¸ªbucketçš„å¤§å°</p><p>æ­¤ä½ç½®çš„æ¡¶å­é‡Œçš„å…ƒç´ æ•°é‡ï¼Œä½†æ˜¯å‡½æ•°å¹¶ä¸ä¼šåˆ¤æ–­næ˜¯å¦åœ¨countèŒƒå›´å†…ï¼‰</p></blockquote><figure><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unordered_map&gt;using namespace std;int main()&#123;    unordered_map&lt;string, string&gt; mymap &#x3D;    &#123;            &#123;&quot;house&quot;, &quot;maison&quot;&#125;,            &#123;&quot;apple&quot;, &quot;pomme&quot;&#125;,            &#123;&quot;tree&quot;, &quot;arbre&quot;&#125;,            &#123;&quot;book&quot;, &quot;livre&quot;&#125;,            &#123;&quot;door&quot;, &quot;porte&quot;&#125;,            &#123;&quot;grapefruit&quot;, &quot;pamplemousse&quot;&#125;    &#125;;        &#x2F;************beginå’Œendè¿­ä»£å™¨***************&#x2F;        cout &lt;&lt; &quot;mymap contains:&quot;;    for (auto it &#x3D; mymap.begin(); it !&#x3D; mymap.end(); ++it)        cout &lt;&lt; &quot; &quot; &lt;&lt; it-&gt;first &lt;&lt; &quot;:&quot; &lt;&lt; it-&gt;second;    cout &lt;&lt; endl;        &#x2F;************bucketæ“ä½œ***************&#x2F;        unsigned n &#x3D; mymap.bucket_count();    cout &lt;&lt; &quot;mymap has &quot; &lt;&lt; n &lt;&lt; &quot; buckets.\n&quot;;    for (unsigned i &#x3D; 0; i &lt; n; ++i)    &#123;        cout &lt;&lt; &quot;bucket #&quot; &lt;&lt; i &lt;&lt; &quot;&#39;s size:&quot;              &lt;&lt; mymap.bucket_size(i) &lt;&lt; &quot; contains: &quot;;                for (auto it &#x3D; mymap.begin(i); it !&#x3D; mymap.end(i); ++it)            cout &lt;&lt; &quot;[&quot; &lt;&lt; it-&gt;first &lt;&lt; &quot;:&quot; &lt;&lt; it-&gt;second &lt;&lt; &quot;] &quot;;        cout &lt;&lt; &quot;\n&quot;;    &#125;    cout &lt;&lt; &quot;\nkey:&#39;apple&#39; is in bucket #&quot; &lt;&lt; mymap.bucket(&quot;apple&quot;) &lt;&lt; endl;    cout &lt;&lt; &quot;\nkey:&#39;computer&#39; is in bucket #&quot; &lt;&lt; mymap.bucket(&quot;computer&quot;) &lt;&lt; endl;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>è¾“å‡ºç»“æœï¼š</p><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">mymap contains: door:porte grapefruit:pamplemousse tree:arbre apple:pomme book:livre house:maisonmymap has 7 buckets.bucket #0&#39;s size:2 contains: [book:livre] [house:maison]bucket #1&#39;s size:0 contains:bucket #2&#39;s size:0 contains:bucket #3&#39;s size:2 contains: [grapefruit:pamplemousse] [tree:arbre]bucket #4&#39;s size:0 contains:bucket #5&#39;s size:1 contains: [apple:pomme]bucket #6&#39;s size:1 contains: [door:porte]key:&#39;apple&#39; is in bucket #5key:&#39;computer&#39; is in bucket #6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>cpp</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STL</tag>
      
      <tag>unordered_map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>unordered_set çš„ä½¿ç”¨æ–¹æ³•</title>
    <link href="/2021/01/07/cpp/unordered_set/"/>
    <url>/2021/01/07/cpp/unordered_set/</url>
    
    <content type="html"><![CDATA[<h2 id="æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒC-STL-å‡½æ•°åº“"><a href="#æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒC-STL-å‡½æ•°åº“" class="headerlink" title="æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒC++ STL å‡½æ•°åº“"></a>æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒ<a href="http://www.cplusplus.com/reference/unordered_set/unordered_set/">C++ STL å‡½æ•°åº“</a></h2><h1 id="std-unordered-set-C-11"><a href="#std-unordered-set-C-11" class="headerlink" title="std::unordered_set(C++11)"></a>std::unordered_set(C++11)</h1><blockquote><p>unordered_set æ˜¯ä¸€ç§å…³è”å®¹å™¨ï¼Œset å’Œ map å†…éƒ¨å®ç°æ˜¯åŸºäº RedBlackTreeï¼Œunordered_set å’Œ unordered_map æ˜¯åŸºäº Hashtableã€‚çº¢é»‘æ ‘æœ‰åºï¼Œè€Œå“ˆå¸Œè¡¨æ— åºã€‚</p></blockquote><h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h3><blockquote><ol><li>ä¸å†ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥å­˜å‚¨æ•°æ®çš„å€¼(åªæœ‰ä¸€ä¸ªå€¼!)</li><li>å®¹å™¨å†…éƒ¨å­˜å‚¨çš„å„ä¸ªå…ƒç´ çš„å€¼éƒ½äº’ä¸ç›¸ç­‰ï¼Œä¸”ä¸èƒ½è¢«ä¿®æ”¹</li><li>ä¸ä¼šå¯¹å†…éƒ¨å­˜å‚¨çš„æ•°æ®è¿›è¡Œæ’åº</li></ol></blockquote><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span> <span class="token keyword">class</span> <span class="token class-name">Key</span><span class="token punctuation">,</span>                        <span class="token comment">// unordered_set::key_type/value_type</span>           <span class="token keyword">class</span> <span class="token class-name">Hash</span> <span class="token operator">=</span> hash<span class="token operator">&lt;</span>Key<span class="token operator">></span><span class="token punctuation">,</span>           <span class="token comment">// unordered_set::hasher</span>           <span class="token keyword">class</span> <span class="token class-name">Pred</span> <span class="token operator">=</span> equal_to<span class="token operator">&lt;</span>Key<span class="token operator">></span><span class="token punctuation">,</span>       <span class="token comment">// unordered_set::key_equal</span>           <span class="token keyword">class</span> <span class="token class-name">Alloc</span> <span class="token operator">=</span> allocator<span class="token operator">&lt;</span>Key<span class="token operator">></span>      <span class="token comment">// unordered_set::allocator_type</span>           <span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">unordered_set</span><span class="token punctuation">;</span><span class="token comment">//ä¸€èˆ¬å®šä¹‰ä½¿ç”¨</span>unordered_set<span class="token operator">&lt;</span>T<span class="token operator">></span> ans<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è¿”å›å¤´è¿­ä»£å™¨ begin()</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it_begin <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›å°¾è¿­ä»£å™¨ end()</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it_end <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›constå¤´è¿­ä»£å™¨ cbegin()</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>const_iterator const_it_begin <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">cbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›constå°¾è¿­ä»£å™¨ cend()</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>const_iterator const_it_end <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">cend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ§½è¿­ä»£å™¨</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>local_iterator local_iter_begin <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>local_iterator local_iter_end <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><h3 id="ä¸€èˆ¬æ“ä½œ"><a href="#ä¸€èˆ¬æ“ä½œ" class="headerlink" title="ä¸€èˆ¬æ“ä½œ"></a>ä¸€èˆ¬æ“ä½œ</h3><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//æŸ¥æ‰¾å‡½æ•° find() é€šè¿‡ç»™å®šä¸»é”®æŸ¥æ‰¾å…ƒç´ </span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator find_iter <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//valueå‡ºç°çš„æ¬¡æ•° count() è¿”å›åŒ¹é…ç»™å®šä¸»é”®çš„å…ƒç´ çš„ä¸ªæ•°</span>ans<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›å…ƒç´ åœ¨å“ªä¸ªåŒºåŸŸequal_range() è¿”å›å€¼åŒ¹é…ç»™å®šæœç´¢å€¼çš„å…ƒç´ ç»„æˆçš„èŒƒå›´</span>pair<span class="token operator">&lt;</span>unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator<span class="token punctuation">,</span> unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator<span class="token operator">></span>       pair_equal_range <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">equal_range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ’å…¥å‡½æ•° emplace()</span>ans<span class="token punctuation">.</span><span class="token function">emplace</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ’å…¥å‡½æ•° emplace_hint() ä½¿ç”¨è¿­ä»£å™¨</span>ans<span class="token punctuation">.</span><span class="token function">emplace_hint</span><span class="token punctuation">(</span>ite_begin<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ’å…¥å‡½æ•° insert()</span>ans<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ é™¤ erase()</span>ans<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1.è¿­ä»£å™¨ value åŒºåŸŸ</span><span class="token comment">//æ¸…ç©º clear()</span>ans<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//äº¤æ¢ swap()ï¼Œæ‹¬å·å†…å¯æ¥å¦å¤–ä¸€ä¸ªunordered_set</span>ans<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span>ans<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–å…ƒç´ ä¸ªæ•° size()</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–æœ€å¤§å­˜å‚¨é‡ max_size()</span>ans<span class="token punctuation">.</span><span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¯®å­æ“ä½œ ç¯®å­ä¸ªæ•° bucket_count() è¿”å›æ§½ï¼ˆBucketï¼‰æ•°</span>ans<span class="token punctuation">.</span><span class="token function">bucket_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¯®å­æœ€å¤§æ•°é‡ max_bucket_count() è¿”å›æœ€å¤§æ§½æ•°</span>ans<span class="token punctuation">.</span><span class="token function">max_bucket_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¯®å­ä¸ªæ•° bucket_size() è¿”å›æ§½å¤§å°</span>ans<span class="token punctuation">.</span><span class="token function">bucket_size</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›ç¯®å­ bucket() è¿”å›å…ƒç´ æ‰€åœ¨æ§½çš„åºå·</span>ans<span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//load_factor è¿”å›è½½å…¥å› å­ï¼Œå³ä¸€ä¸ªå…ƒç´ æ§½ï¼ˆBucketï¼‰çš„æœ€å¤§å…ƒç´ æ•°</span>ans<span class="token punctuation">.</span><span class="token function">load_factor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//max_load_factor è¿”å›æˆ–è®¾ç½®æœ€å¤§è½½å…¥å› å­</span>ans<span class="token punctuation">.</span><span class="token function">max_load_factor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//rehash è®¾ç½®æ§½æ•°</span>ans<span class="token punctuation">.</span><span class="token function">rehash</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//reserveè¯·æ±‚æ”¹å˜å®¹å™¨å®¹é‡</span>ans<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hash_function() è¿”å›ä¸hash_funcç›¸åŒåŠŸèƒ½çš„å‡½æ•°æŒ‡é’ˆ</span><span class="token keyword">auto</span> hash_func_test <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">hash_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//key_eq() è¿”å›æ¯”è¾ƒkeyå€¼å¾—å‡½æ•°æŒ‡é’ˆ</span><span class="token keyword">auto</span> key_eq_test <span class="token operator">=</span> ans<span class="token punctuation">.</span><span class="token function">key_eq</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>åŸºæœ¬ä¸Šä»¥ä¸Šå°±æ˜¯å…¨éƒ¨ä½¿ç”¨çš„æ–¹æ³•</p>]]></content>
    
    
    <categories>
      
      <category>cpp</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STL</tag>
      
      <tag>unordered_set</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CPP Map container å­¦ä¹ </title>
    <link href="/2020/10/11/cpp/Map/"/>
    <url>/2020/10/11/cpp/Map/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸»è¦å†™æ³•å‚è€ƒ<a href="http://www.cplusplus.com/reference/unordered_map/unordered_map/?kw=unordered_map">C++ STLå‡½æ•°åº“</a></p></blockquote><h2 id="mapç®€ä»‹"><a href="#mapç®€ä»‹" class="headerlink" title="mapç®€ä»‹"></a>mapç®€ä»‹</h2><p>mapæ˜¯STLï¼ˆä¸­æ–‡æ ‡å‡†æ¨¡æ¿åº“ï¼‰çš„ä¸€ä¸ªå…³è”å®¹å™¨ã€‚</p><blockquote><ol><li>å¯ä»¥å°†ä»»ä½•åŸºæœ¬ç±»å‹æ˜ å°„åˆ°ä»»ä½•åŸºæœ¬ç±»å‹ã€‚å¦‚int array[100]äº‹å®ä¸Šå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªintå‹åˆ°intå‹çš„æ˜ å°„ã€‚</li><li>mapæä¾›ä¸€å¯¹ä¸€çš„æ•°æ®å¤„ç†ï¼Œkey-valueé”®å€¼å¯¹ï¼Œå…¶ç±»å‹å¯ä»¥è‡ªå·±å®šä¹‰ï¼Œç¬¬ä¸€ä¸ªç§°ä¸ºå…³é”®å­—ï¼Œç¬¬äºŒä¸ªä¸ºå…³é”®å­—çš„å€¼</li><li>mapå†…éƒ¨æ˜¯è‡ªåŠ¨æ’åºçš„</li></ol></blockquote><h2 id="mapçš„ç”¨æ³•"><a href="#mapçš„ç”¨æ³•" class="headerlink" title="mapçš„ç”¨æ³•"></a>mapçš„ç”¨æ³•</h2><p>å¿…é¡»å¼•å…¥åŒ…</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p>mapçš„å®šä¹‰</p><p>map&lt;type1name, type2name&gt; maps;&#x2F;&#x2F;ç¬¬ä¸€ä¸ªæ˜¯é”®çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªæ˜¯å€¼çš„ç±»å‹</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> maps<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></figure><p><strong>mapå®¹å™¨å†…å…ƒç´ çš„è®¿é—®</strong></p><blockquote><p>  é€šè¿‡ä¸‹æ ‡è¿›è¡Œè®¿é—®</p><p>  maps[â€˜câ€™] &#x3D; 5;</p><p>  é€šè¿‡è¿­ä»£å™¨è¿›è¡Œè®¿é—®</p></blockquote><p>mapå¯ä»¥ä½¿ç”¨it -&gt; firstæ¥è®¿é—®é”®ï¼Œä½¿ç”¨it -&gt; secondè®¿é—®å€¼</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   map<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span> maps<span class="token punctuation">;</span>   maps<span class="token punctuation">[</span><span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>   maps<span class="token punctuation">[</span><span class="token char">'b'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>   maps<span class="token punctuation">[</span><span class="token char">'c'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>   <span class="token keyword">for</span><span class="token punctuation">(</span>map<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>mp<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">!=</span>mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token punctuation">&#123;</span>       cout<span class="token operator">&lt;&lt;</span>it <span class="token operator">-></span> first<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>it <span class="token operator">-></span> second<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span>   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p><strong>mapçš„å¸¸ç”¨ç”¨æ³•</strong></p><ul><li>maps.insert() æ’å…¥</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// å®šä¹‰ä¸€ä¸ªmapå¯¹è±¡</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> string<span class="token operator">></span> m<span class="token punctuation">;</span> <span class="token comment">//ç”¨insertå‡½æ•°æ’å…¥pair</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">pair</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> string<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">"kk"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç”¨insertå‡½æ•°æ’å…¥value_typeæ•°æ®</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">map</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> string<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">value_type</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">"pp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç”¨æ•°ç»„æ–¹å¼æ’å…¥</span>m<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"dd"</span><span class="token punctuation">;</span>m<span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"ff"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><ul><li>maps.find()  æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ </li><li>maps.clear() æ¸…ç©º</li><li>maps.erase() åˆ é™¤ä¸€ä¸ªå…ƒç´ </li><li>maps.size()  é•¿åº¦</li><li>maps.begin() è¿”å›æŒ‡å‘mapå¤´éƒ¨çš„è¿­ä»£å™¨</li><li>maps.end()   è¿”å›æŒ‡å‘mapæœ«å°¾çš„è¿­ä»£å™¨</li><li>maps.rbegin()è¿”å›æŒ‡å‘mapå°¾éƒ¨çš„é€†å‘è¿­ä»£å™¨</li><li>maps.rend()  è¿”å›æŒ‡å‘mapå¤´éƒ¨çš„é€†å‘è¿­ä»£å™¨</li><li>maps.empty()åˆ¤æ–­å…¶æ˜¯å¦ä¸ºç©º</li><li>maps.swap()äº¤æ¢ä¸¤ä¸ªmap</li></ul><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token punctuation">;</span>it<span class="token operator">=</span>maps<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿­ä»£å™¨åˆªé™¤</span>it <span class="token operator">=</span> maps<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>maps<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…³é”®å­—åˆ é™¤</span><span class="token keyword">int</span> n <span class="token operator">=</span> maps<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¦‚æœåˆªé™¤äº†è¿”å›1ï¼Œå¦åˆ™è¿”å›0</span><span class="token comment">//ç”¨è¿­ä»£å™¨èŒƒå›´åˆªé™¤ : æŠŠæ•´ä¸ªmapæ¸…ç©º</span>maps<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>maps<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> maps<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç­‰åŒäºmaps.clear()</span><span class="token keyword">int</span> len <span class="token operator">=</span> maps<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>è·å–åˆ°mapä¸­æ˜ å°„çš„æ¬¡æ•°<span class="token comment">//è¿­ä»£</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>it <span class="token operator">=</span> maps<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> maps<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span>    cout<span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span> first<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>itr <span class="token operator">-></span> second<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºkey å’Œvalueå€¼</span><span class="token comment">//åå‘è¿­ä»£</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>reverse_iterator it<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>it <span class="token operator">=</span> maps<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> maps<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span>    cout<span class="token operator">&lt;&lt;</span>it <span class="token operator">-></span> first<span class="token operator">&lt;&lt;</span><span class="token char">' '</span><span class="token operator">&lt;&lt;</span>it <span class="token operator">-></span> second<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>cpp</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STL</tag>
      
      <tag>map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go GET ä»£ç†</title>
    <link href="/2020/04/26/go/basic/go-get/"/>
    <url>/2020/04/26/go/basic/go-get/</url>
    
    <content type="html"><![CDATA[<p>windows ä¸‹åœ¨å®‰è£… github çš„ä¸œè¥¿æ—¶ï¼Œä¸€èˆ¬æ¥è¯´å»ºè®®ä½¿ç”¨ä¿®æ”¹ git é…ç½®ï¼Œä½¿ç”¨ä»£ç†è¿æ¥ githubã€‚</p><p><strong>å³ä¸ºæ‰“å¼€</strong><code>C:\Users\Lenovo</code><strong>ä¿®æ”¹<code>.gitconfg</code>æ–‡ä»¶ï¼ŒåŠ ä¸Šå¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç›¸å…³é…ç½®</strong><br><img src="https://img-blog.csdnimg.cn/20200426173436588.png"></p><p><strong>å¦‚æœæ˜¯ sock5 è¿ç»“ï¼ŒæŠŠ<code>http:</code>æ”¹ä¸º<code>sock5:</code>å³å¯ï¼Œ127.0.0.1 ä¸ºæœ¬åœ°ç¯è·¯ï¼Œ7890 æ˜¯ç«¯å£å·ï¼Œç«¯å£å·ä»¥ä½ çš„ä»£ç†å·¥å…·ä½¿ç”¨çš„ç«¯å£å·ä¸ºå‡†</strong></p><p><code>go get -u -v github.com/gin-gonic/gin</code> ä½¿ç”¨ä»£ç†çš„æƒ…å†µä¸‹éƒ½èƒ½ä¸‹è½½ï¼Œå”¯ä¸€ä¸€ä¸ªåŒ…æ— æ³•ä¸‹è½½ä¸º<code>google.golang.org/protobuf</code>ä¸ä»…ä»…åªæ˜¯ç½‘å€æ‰¾ä¸åˆ°çš„åŸå› ï¼Œæ›´å¤šçš„æ˜¯åœ¨<code>https://github.com/golang/protobuf</code>ä¸‹æ²¡æœ‰è¿™ä¸ªåŒ…</p><p><strong>æ‰€ä»¥é‚£ä¹ˆä¸Šé¢é—®é¢˜åˆè¦æ€ä¹ˆå»è§£å†³å‘¢ï¼Ÿ</strong></p><p>æœç´¢ google æœ€åå‘ç°ï¼Œè¿™ä¸ªåŒ…ä½¿ç”¨å¦å¤–ä¸€ä¸ª github çš„ä»“åº“ï¼Œåœ°å€ä¸ºå¦‚ä¸‹ <code>https://github.com/protocolbuffers/protobuf-go</code>,æˆ‘ä»¬ä½¿ç”¨ go get å»ä¸‹è½½å®ƒ</p><p><code>go get -v -u github.com/protocolbuffers/protobuf-go</code></p><p>å½“ç„¶ï¼Œè¿™ä¸ªæºæ–‡ä»¶æ˜¯ä¸‹è½½åœ¨<code>gopath</code>é‡Œé¢çš„ï¼Œä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬è®²ä¸‹è½½åˆ°<code>gopath</code>çš„è¿™ä¸ªæ–‡ä»¶æ”¾åˆ°<code>gopath</code>ä¸‹çš„ <code>google.golang.org</code>ä¸‹å»ï¼Œè€Œä¸”å¦‚æœè§£å‹åæ–‡ä»¶æœ‰ç‰ˆæœ¬å·æ—¶ï¼Œé™¤å»è¿™ä¸ªç‰ˆæœ¬å·ï¼Œè·Ÿä¸Šé¢åŒ…åä¿æŒä¸€è‡´å³å¯ã€‚<br>è¿™æ ·å°±è§£å†³å¥½é—®é¢˜äº†ã€‚</p><hr><p>å…¶ä¸­ go ç°åœ¨é‡‡ç”¨ go mod è¿›è¡ŒåŒ…æ¨¡å¼çš„ç®¡ç†ï¼Œæ‰€ä»¥è¯´ä¸€èˆ¬å‡ºç°åŒ…ç®¡ç†é—®é¢˜ï¼Œ<br>ä½¿ç”¨<code>go mod tidy</code> å¯ä»¥è§£å†³ä¸€äº›ä¾èµ–åŒ…çš„é—®é¢˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>go</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>interview</title>
    <link href="/2020/03/24/cpp/cpp_interview/"/>
    <url>/2020/03/24/cpp/cpp_interview/</url>
    
    <content type="html"><![CDATA[<p>è®°å½•åˆ·é¢˜çš„ç»†èŠ‚å†…å®¹ï¼Œç®—æ³•ä¸ c++ç‰¹æ€§ï¼ˆç­‰ä¹‹åæœ‰ç©ºå†ä¼˜åŒ–ï¼‰</p><hr><h4 id="1-static-å®šä¹‰é™æ€å±€éƒ¨å˜é‡ç‰¹ç‚¹"><a href="#1-static-å®šä¹‰é™æ€å±€éƒ¨å˜é‡ç‰¹ç‚¹" class="headerlink" title="1.static å®šä¹‰é™æ€å±€éƒ¨å˜é‡ç‰¹ç‚¹"></a>1.static å®šä¹‰é™æ€å±€éƒ¨å˜é‡ç‰¹ç‚¹</h4><figure><div class="code-wrapper"><pre class="language-none"><code class="language-none">å…¨å±€æ•°æ®åŒºåˆ†é…å†…å­˜ï¼›æ‰§è¡Œé¦–æ¬¡åˆå§‹åŒ–åï¼Œä¹‹åå‡½æ•°è°ƒç”¨ä¸åœ¨åˆå§‹åŒ–æ— æ˜¾ç¤ºåˆå§‹åŒ–åï¼Œè‡ªåŠ¨åˆå§‹åŒ–ä¸º0</code></pre></div></figure><hr><h4 id="2-å±€éƒ¨å˜é‡å­˜åœ¨äºå †æ ˆä¸­ï¼Œå…¨å±€å˜é‡å­˜åœ¨äºï¼ˆé™æ€åŒºï¼‰ä¸­ï¼ŒåŠ¨æ€ç”³è¯·æ•°æ®å­˜åœ¨äºï¼ˆå †ï¼‰"><a href="#2-å±€éƒ¨å˜é‡å­˜åœ¨äºå †æ ˆä¸­ï¼Œå…¨å±€å˜é‡å­˜åœ¨äºï¼ˆé™æ€åŒºï¼‰ä¸­ï¼ŒåŠ¨æ€ç”³è¯·æ•°æ®å­˜åœ¨äºï¼ˆå †ï¼‰" class="headerlink" title="2.å±€éƒ¨å˜é‡å­˜åœ¨äºå †æ ˆä¸­ï¼Œå…¨å±€å˜é‡å­˜åœ¨äºï¼ˆé™æ€åŒºï¼‰ä¸­ï¼ŒåŠ¨æ€ç”³è¯·æ•°æ®å­˜åœ¨äºï¼ˆå †ï¼‰"></a>2.å±€éƒ¨å˜é‡å­˜åœ¨äºå †æ ˆä¸­ï¼Œå…¨å±€å˜é‡å­˜åœ¨äºï¼ˆé™æ€åŒºï¼‰ä¸­ï¼ŒåŠ¨æ€ç”³è¯·æ•°æ®å­˜åœ¨äºï¼ˆå †ï¼‰</h4><hr><h4 id="3-æ¨¡æ¿"><a href="#3-æ¨¡æ¿" class="headerlink" title="3.æ¨¡æ¿"></a>3.æ¨¡æ¿</h4><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token generic-function"><span class="token function">template</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">typename</span> æ•°æ®ç±»å‹å‚æ•°æ ‡è¯†ç¬¦<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">typename</span> å’Œ <span class="token keyword">class</span> æ²¡åŒºåˆ«<span class="token punctuation">)</span><span class="token operator">&lt;</span>è¿”å›ç±»å‹<span class="token operator">></span><span class="token operator">&lt;</span>å‡½æ•°å<span class="token operator">></span><span class="token punctuation">(</span>å‚æ•°è¡¨<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    å‡½æ•°ä½“<span class="token punctuation">&#125;</span>æ¨¡æ¿å½¢å‚ä¸èƒ½ä¸ºç©ºã€‚ä¸€ä½†å£°æ˜äº†æ¨¡æ¿å‡½æ•°å°±å¯ä»¥ç”¨æ¨¡æ¿å‡½æ•°çš„å½¢å‚åå£°æ˜ç±»ä¸­çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ï¼Œå³å¯ä»¥åœ¨è¯¥å‡½æ•°ä¸­ä½¿ç”¨å†…ç½®ç±»å‹çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨æ¨¡æ¿å½¢å‚åexample<span class="token operator">:</span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span> <span class="token keyword">struct</span><span class="token punctuation">&#123;</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span>T op1<span class="token punctuation">,</span> T op2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span>op1<span class="token operator">&lt;&lt;</span>op2<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token class-name">sum</span> <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>   <span class="token comment">//ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="4-c-è™šå‡½æ•°æ¦‚å¿µï¼ˆå¼±ç‚¹ï¼‰"><a href="#4-c-è™šå‡½æ•°æ¦‚å¿µï¼ˆå¼±ç‚¹ï¼‰" class="headerlink" title="4.c++è™šå‡½æ•°æ¦‚å¿µï¼ˆå¼±ç‚¹ï¼‰"></a>4.c++è™šå‡½æ•°æ¦‚å¿µï¼ˆå¼±ç‚¹ï¼‰</h4><p>C++ä¸­çš„è™šå‡½æ•°çš„ä½œç”¨ä¸»è¦æ˜¯å®ç°äº†å¤šæ€çš„æœºåˆ¶ã€‚åŸºç±»å®šä¹‰è™šå‡½æ•°ï¼Œå­ç±»å¯ä»¥é‡å†™è¯¥å‡½æ•°ã€‚</p><p>å½“å­ç±»é‡æ–°å®šä¹‰äº†çˆ¶ç±»çš„è™šå‡½æ•°åï¼Œ<strong>å½“çˆ¶ç±»çš„æŒ‡é’ˆæŒ‡å‘å­ç±»å¯¹è±¡çš„åœ°å€æ—¶</strong>ï¼Œ[å³ B b; A a &#x3D; &b;]</p><p>çˆ¶ç±»æŒ‡é’ˆæ ¹æ®èµ‹ç»™å®ƒçš„ä¸åŒå­ç±»æŒ‡é’ˆï¼ŒåŠ¨æ€çš„è°ƒç”¨å­ç±»çš„è¯¥å‡½æ•°ï¼Œè€Œä¸æ˜¯çˆ¶ç±»çš„å‡½æ•°ï¼Œè€Œå¦‚æœä½¿ç”¨äº†<strong>virtual</strong>å…³é”®å­—ï¼Œç¨‹åºå°†æ ¹æ®å¼•ç”¨æˆ–æŒ‡é’ˆæŒ‡å‘çš„ <strong>å¯¹ è±¡ ç±» å‹</strong> æ¥é€‰æ‹©æ–¹æ³•ï¼Œå¦åˆ™ä½¿ç”¨<strong>å¼•ç”¨ç±»å‹æˆ–æŒ‡é’ˆç±»å‹</strong>æ¥é€‰æ‹©æ–¹æ³•ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">B b<span class="token punctuation">;</span> A <span class="token operator">*</span>pa<span class="token punctuation">;</span> pa <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span> A <span class="token operator">*</span>pa2 <span class="token operator">=</span> newA<span class="token punctuation">;</span> pa<span class="token operator">-></span><span class="token function">FuncA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ï¼ˆ <span class="token number">3</span>ï¼‰ pa<span class="token operator">=</span><span class="token operator">&amp;</span>båŠ¨æ€ç»‘å®šä½†æ˜¯FuncAä¸æ˜¯è™šå‡½æ•°ï¼Œæ‰€ä»¥FuncA called pa<span class="token operator">-></span><span class="token function">FuncB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ï¼ˆ <span class="token number">4</span>ï¼‰ FuncBæ˜¯è™šå‡½æ•°æ‰€ä»¥è°ƒç”¨Bä¸­FuncBï¼ŒFuncBB called pa2<span class="token operator">-></span><span class="token function">FuncA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ï¼ˆ <span class="token number">5</span>ï¼‰ pa2æ˜¯Aç±»æŒ‡é’ˆï¼Œä¸æ¶‰åŠè™šå‡½æ•°ï¼Œ è°ƒç”¨çš„éƒ½æ˜¯Aä¸­å‡½æ•°ï¼Œæ‰€ä»¥è¾“å‡º FuncA called FuncB called<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="5-vector-çš„å‡½æ•°-erase"><a href="#5-vector-çš„å‡½æ•°-erase" class="headerlink" title="5.vector çš„å‡½æ•° erase()"></a>5.vector çš„å‡½æ•° erase()</h4><p>ä¸€æ¬¡åªåˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p><hr><h4 id="6-é»˜è®¤åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶"><a href="#6-é»˜è®¤åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶" class="headerlink" title="6.é»˜è®¤åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶"></a>6.é»˜è®¤åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶</h4><p>ios (iostream) : app å’Œ ios : app ï½œ ios : outï¼Œæ˜¯ä¸€ä¸ªæ„æ€ï¼Œåªèƒ½è¾“å‡ºä¸èƒ½è¾“å…¥</p><hr><h4 id="7-æ•°ç»„çš„å®šä¹‰åŒºåˆ«ç†è§£"><a href="#7-æ•°ç»„çš„å®šä¹‰åŒºåˆ«ç†è§£" class="headerlink" title="7.æ•°ç»„çš„å®šä¹‰åŒºåˆ«ç†è§£"></a>7.æ•°ç»„çš„å®šä¹‰åŒºåˆ«ç†è§£</h4><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>s<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œè¯¥æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ   æ¯ä¸ªæŒ‡é’ˆæŒ‡å‘å“ªé‡Œå°±éœ€è¦ç¨‹åºä¸­åç»­å†å®šä¹‰äº†ã€‚<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   å®šä¹‰ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å«<span class="token number">8</span>ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„ï¼ˆæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ˜¯<span class="token keyword">int</span>å‹ï¼‰ã€‚åŒºåˆ†<span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> å’Œ<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>å°±è¦çœ‹è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§äº†ã€‚<span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> ä¸­ï¼Œè¿ç®—ç¬¦<span class="token punctuation">[</span> <span class="token punctuation">]</span>ä¼˜å…ˆçº§é«˜ï¼Œå…ˆä¸pç»“åˆæˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå†ç”±<span class="token keyword">int</span><span class="token operator">*</span>è¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ•´å‹æŒ‡é’ˆæ•°ç»„ã€‚<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> ä¸­<span class="token punctuation">(</span> <span class="token punctuation">)</span>ä¼˜å…ˆçº§é«˜ï¼Œé¦–å…ˆè¯´æ˜pæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªæ•´å‹çš„ä¸€ç»´æ•°ç»„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="8-å‡½æ•°æ¨¡æ¿"><a href="#8-å‡½æ•°æ¨¡æ¿" class="headerlink" title="8.å‡½æ•°æ¨¡æ¿"></a>8.å‡½æ•°æ¨¡æ¿</h4><p>å‡½æ•°æ¨¡æ¿å¿…é¡»ç”±ç¼–è¯‘å™¨æ ¹æ®ç¨‹åºå‘˜çš„è°ƒç”¨ç±»å‹å®ä¾‹åŒ–ä¸ºå¯æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°éƒ½æ˜¯å‡½æ•°æ¨¡æ¿</p><p>æ²¡ä½¿ç”¨è¿‡çš„æˆå‘˜å‡½æ•°ï¼ˆå³å‡½æ•°æ¨¡æ¿ï¼‰ä¸ä¼šè¢«å®ä¾‹åŒ–</p><hr><h4 id="9-åŒç›®è¿ç®—ç¬¦çš„åˆ¤æ–­æœºåˆ¶"><a href="#9-åŒç›®è¿ç®—ç¬¦çš„åˆ¤æ–­æœºåˆ¶" class="headerlink" title="9.åŒç›®è¿ç®—ç¬¦çš„åˆ¤æ–­æœºåˆ¶"></a>9.åŒç›®è¿ç®—ç¬¦çš„åˆ¤æ–­æœºåˆ¶</h4><p>&amp;&amp;å’Œ||çš„åˆ¤æ–­æœºåˆ¶ï¼ŒA&amp;&amp;Bï¼Œè‹¥ A ä¸ºå‡ï¼Œç›´æ¥è¿”å› falseï¼ŒB ä¸æ‰§è¡Œï¼Œè‹¥ A ä¸º trueï¼Œç»§ç»­æ‰§è¡Œ Bï¼›A||Bï¼Œè‹¥ A ä¸º trueï¼Œç›´æ¥è¿”å› trueï¼ŒB ä¸æ‰§è¡Œ</p><hr><h4 id="10-c-ä¸­çš„-switch"><a href="#10-c-ä¸­çš„-switch" class="headerlink" title="10. c++ä¸­çš„ switch"></a>10. c++ä¸­çš„ switch</h4><blockquote><p>1.switch åé¢çš„â€œè¡¨è¾¾å¼â€ï¼Œå¯ä»¥æ˜¯ intã€char å’Œæšä¸¾å‹ä¸­çš„ä¸€ç§ï¼Œä¸èƒ½æ˜¯ float å‹å˜é‡</p><p>2.case åé¢å¿…é¡»æ˜¯â€œå¸¸é‡è¡¨è¾¾å¼â€ï¼Œè¡¨è¾¾å¼ä¸­ä¸èƒ½åŒ…å«å˜é‡</p><p>3.switch åçš„è¡¨è¾¾å¼åŠ äº†åˆ†å· ï¼›éæ³•</p></blockquote><hr><h4 id="11-unsigned"><a href="#11-unsigned" class="headerlink" title="11.unsigned"></a>11.unsigned</h4><p>unsigned ä¸ºæ— ç¬¦å·æ•´æ•°ï¼Œå–å€¼èŒƒå›´ä½ 0-255ï¼Œæ°¸è¿œä¸å¯èƒ½å°äºé›¶ï¼Œæœ€å¥½ä¸è¦åšæ§åˆ¶æ¡ä»¶ã€‚</p><hr><h4 id="12-æ´¾ç”Ÿç±»ç»§æ‰¿ç¼–è¯‘"><a href="#12-æ´¾ç”Ÿç±»ç»§æ‰¿ç¼–è¯‘" class="headerlink" title="12.æ´¾ç”Ÿç±»ç»§æ‰¿ç¼–è¯‘"></a>12.æ´¾ç”Ÿç±»ç»§æ‰¿ç¼–è¯‘</h4><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">æ´¾ç”Ÿç±»ç»§æ‰¿ï¼ˆ<span class="token keyword">public</span><span class="token punctuation">,</span> <span class="token keyword">private</span>ï¼‰åŸºç±»æˆå‘˜åï¼Œç»§æ‰¿çš„åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„ç›¸åº”æƒé™çš„æ”¹å˜ã€‚ <span class="token keyword">public</span>  ç»§æ‰¿<span class="token punctuation">,</span>åŸºç±»çš„å„ç±»ï¼ˆ<span class="token keyword">public</span><span class="token punctuation">,</span> <span class="token keyword">protected</span><span class="token punctuation">,</span> <span class="token keyword">private</span>ï¼‰æˆå‘˜ åœ¨æ´¾ç”Ÿç±»ä¸­æƒé™ä¸åŸæ¥åœ¨åŸºç±»æ—¶ä¿æŒä¸€è‡´<span class="token punctuation">;</span> <span class="token keyword">private</span> ç»§æ‰¿<span class="token punctuation">,</span>åŸºç±»çš„å„ç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æƒé™å‡å˜ä¸º<span class="token keyword">private</span><span class="token punctuation">.</span>    æ•…Cç±»ä¸­çš„printè°ƒç”¨<span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œ    å› ä¸º<span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ­¤æ—¶åœ¨Cç±»ä¸­ä¸º<span class="token keyword">private</span>ç­‰çº§<span class="token punctuation">,</span>    æ‰€ä»¥ä¸èƒ½è¢«Cç±»ä»»ä½•æˆå‘˜æ‰€è®¿é—®ï¼Œæ•…ä¸èƒ½é€šè¿‡ç¼–è¯‘<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="13-å¼•ç”¨"><a href="#13-å¼•ç”¨" class="headerlink" title="13.å¼•ç”¨"></a>13.å¼•ç”¨</h4><p>å¼•ç”¨æ˜¯ä¸€ä¸ªå¯¹è±¡çš„åˆ«åï¼Œå¼•ç”¨ç±»å‹å¼•ç”¨ï¼ˆrefer toï¼‰å¦å¤–ä¸€ç§ç±»å‹ã€‚å¦‚<code>int &amp;refVal = val;</code></p><ul><li>1ã€å¼•ç”¨å¿…é¡»åˆå§‹åŒ–</li><li>2ã€å¼•ç”¨ä¸å…¶åˆå§‹å€¼æ˜¯<strong>ç»‘å®š bind</strong>åœ¨ä¸€èµ·çš„ï¼Œè€Œä¸æ˜¯æ‹·è´åŒºåŸŸ</li><li>3ã€å€¼ä¼ é€’ä»¥æ‹·è´å®å‚ï¼Œä¼ é€’ç»™å½¢å‚ã€‚</li></ul><hr><h4 id="14-C-STL-Standard-Template-Library-string-åº“ä¸­çš„é£æ ¼æ¯”-C-é£æ ¼çš„å­—ç¬¦ä¸²æ›´åŠ å®‰å…¨ã€é«˜æ•ˆ"><a href="#14-C-STL-Standard-Template-Library-string-åº“ä¸­çš„é£æ ¼æ¯”-C-é£æ ¼çš„å­—ç¬¦ä¸²æ›´åŠ å®‰å…¨ã€é«˜æ•ˆ" class="headerlink" title="14.C++ STL (Standard Template Library) string åº“ä¸­çš„é£æ ¼æ¯” C é£æ ¼çš„å­—ç¬¦ä¸²æ›´åŠ å®‰å…¨ã€é«˜æ•ˆ"></a>14.C++ STL (Standard Template Library) string åº“ä¸­çš„é£æ ¼æ¯” C é£æ ¼çš„å­—ç¬¦ä¸²æ›´åŠ å®‰å…¨ã€é«˜æ•ˆ</h4><hr><h4 id="15-while-ä¸-for"><a href="#15-while-ä¸-for" class="headerlink" title="15.while ä¸ for"></a>15.while ä¸ for</h4><ul><li><strong>whileï¼š</strong> ä¸ºä¸ç¡®å®šè¿­ä»£çš„æ¬¡æ•°æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚è¯»å–æ•°æ®</li><li>â€‹ <strong>forï¼š</strong> ç¡®å®šèŒƒå›´æ—¶ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥çœç•¥åˆå§‹å€¼ã€æ¡ä»¶ã€å·²ç»è¡¨è¾¾å¼</li></ul><hr><h4 id="16-å¼‚å¸¸é—®é¢˜"><a href="#16-å¼‚å¸¸é—®é¢˜" class="headerlink" title="16.å¼‚å¸¸é—®é¢˜"></a>16.å¼‚å¸¸é—®é¢˜</h4><p>throwã€tryã€å¼‚å¸¸å—ï¼›</p><p><strong>throwï¼š</strong> å¼‚å¸¸è¡¨è¾¾å¼è¡¨ç¤ºå…¶é‡åˆ°æ— æ³•å¤„ç†çš„é—®é¢˜ï¼Œå¼•å‘ raise çš„å¼‚å¸¸</p><p>â€‹ <strong>tryï¼š</strong> try å’Œä¸€ä¸ªå¤šä¸ª catch å­—æ®µé…åˆç»“æŸï¼Œä¸€èˆ¬çš„ try æŠ›å‡ºçš„æŸä¸ªå¼‚å¸¸ä¼šè¢«æŸä¸ª catch æ•è·å¤„ç†ï¼Œæ•… catch ç§°ä¸ºå¼‚å¸¸å¤„ç†ä»£ç ã€‚</p><hr><h4 id="17ã€class-ä¸-struct-åŒºåˆ«"><a href="#17ã€class-ä¸-struct-åŒºåˆ«" class="headerlink" title="17ã€class ä¸ struct åŒºåˆ«"></a>17ã€class ä¸ struct åŒºåˆ«</h4><p>åœ¨äºè®¿é—®æƒé™</p><p><code>class</code> ç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜ä¸º<code>private</code></p><p><code>struct</code>ç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜ä¸º<code>public</code></p><hr><h4 id="18-ä½¿ç”¨éæˆå‘˜ç‰ˆæœ¬çš„swapæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯"><a href="#18-ä½¿ç”¨éæˆå‘˜ç‰ˆæœ¬çš„swapæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯" class="headerlink" title="18.ä½¿ç”¨éæˆå‘˜ç‰ˆæœ¬çš„swapæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯"></a>18.ä½¿ç”¨éæˆå‘˜ç‰ˆæœ¬çš„<code>swap</code>æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯</h4><p><code>swap(c1,c2)==c1.swap(c2)</code>ï¼Œä½†æ˜¯ä½¿ç”¨æœ€å¥½ä½¿ç”¨å‰è€…ã€‚</p><h4 id="19-æ³›å‹ç®—æ³•"><a href="#19-æ³›å‹ç®—æ³•" class="headerlink" title="19.æ³›å‹ç®—æ³•"></a>19.æ³›å‹ç®—æ³•</h4><p>å¤´æ–‡ä»¶<code>#include&lt;algorithm&gt; ||#include&lt;numeric&gt;</code>æ ‡å‡†åº“ä¸­æä¾›äº†è¶…è¿‡ 100 ä¸ªç®—æ³•ï¼Œæ‰€ä»¥è¯´é˜…è¯»æºä»£ç éå¸¸é‡è¦ã€‚</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">copy</span> <span class="token punctuation">(</span>ilst<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ilst<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">back_inserter</span><span class="token punctuation">(</span>ivec<span class="token punctuation">)</span><span class="token punctuation">)</span>   copyå‡½æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></figure><h4 id="20-å…³è”å®¹å™¨ï¼ˆhashã€mapã€setï¼‰"><a href="#20-å…³è”å®¹å™¨ï¼ˆhashã€mapã€setï¼‰" class="headerlink" title="20.å…³è”å®¹å™¨ï¼ˆhashã€mapã€setï¼‰"></a>20.å…³è”å®¹å™¨ï¼ˆhashã€mapã€setï¼‰</h4><ul><li><code>map</code>ï¼š<code>map&lt;string, int&gt; word_count = &#123;&#123;"a", 1&#125;, &#123;"b", 2&#125;&#125;;</code></li><li><code>set</code>ï¼š<code>set&lt;string&gt; exclude = &#123;&quot;the&quot;, &quot;a&quot;&#125;;</code></li><li>unordered_mapï¼ˆhash ç»„ç»‡ mapï¼‰</li><li>unordered_setï¼ˆhash ç»„ç»‡ setï¼‰</li></ul><hr><h4 id="21-å­—ç¬¦æŒ‡é’ˆ"><a href="#21-å­—ç¬¦æŒ‡é’ˆ" class="headerlink" title="21.å­—ç¬¦æŒ‡é’ˆ"></a>21.å­—ç¬¦æŒ‡é’ˆ</h4><p><code>char *str[3] = &#123;&quot;stra&quot;,&quot;strb&quot;,&quot;strc&quot;&#125;</code>;æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼› <code>char *p = str[0]</code>ï¼›å®é™…ä¸Š p æŒ‡å‘ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²åŠ  1ï¼Œåˆ™æŒ‡å‘å­—ç¬¦ä¸²çš„ä¸‹ä¸€ä¸ªå­—æ¯ï¼Œè€Œå¹¶éæ˜¯ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²</p><hr><h4 id="22-static-ä¸-é-static-ï¼Œå…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡"><a href="#22-static-ä¸-é-static-ï¼Œå…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡" class="headerlink" title="22.static ä¸ é static ï¼Œå…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡"></a>22.static ä¸ é static ï¼Œå…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡</h4><p>æ— è®ºæ˜¯ static è¿˜æ˜¯é static çš„å…¨å±€å˜é‡ï¼Œå¦‚æœä¸åŠ é™åˆ¶éšæ„è®¿é—®çš„è¯æ˜“å‡ºç°åŒæ­¥é—®é¢˜ã€‚</p><p>æ— è®ºæ˜¯ static è¿˜æ˜¯é static çš„å±€éƒ¨å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯ç§æœ‰çš„ï¼Œå…¶ä»–çº¿ç¨‹ä¸ä¼šå¯¹å…¶è¿›è¡Œå¹²æ‰°ã€‚</p><hr><h4 id="23-C-C-ä¸­-main-å‡½æ•°ä¸ºå…¥å£å‡½æ•°ï¼Œä¸ºå¿…é¡»å­˜åœ¨å‡½æ•°"><a href="#23-C-C-ä¸­-main-å‡½æ•°ä¸ºå…¥å£å‡½æ•°ï¼Œä¸ºå¿…é¡»å­˜åœ¨å‡½æ•°" class="headerlink" title="23.C&#x2F;C++ä¸­ main å‡½æ•°ä¸ºå…¥å£å‡½æ•°ï¼Œä¸ºå¿…é¡»å­˜åœ¨å‡½æ•°"></a>23.C&#x2F;C++ä¸­ main å‡½æ•°ä¸ºå…¥å£å‡½æ•°ï¼Œä¸ºå¿…é¡»å­˜åœ¨å‡½æ•°</h4><hr><h4 id="24-throwã€catchã€try"><a href="#24-throwã€catchã€try" class="headerlink" title="24.throwã€catchã€try"></a>24.throwã€catchã€try</h4><ul><li><p>throw æ˜¯æŠ›å‡ºå¼‚å¸¸å…³é”®å­—ï¼Œtry æ˜¯å°è¯•æ‰§è¡Œå¯èƒ½æœ‰å¼‚å¸¸ä»£ç çš„å…³é”®å­—ï¼Œcatch æ˜¯æ•è·å¼‚å¸¸çš„å…³é”®å­—</p></li><li><p>å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç å—éƒ½åº”è¯¥æ”¾åœ¨ try ä»£ç å—ä¸­</p></li><li><p>catch æ•è·ç›¸åº”çš„å¼‚å¸¸ï¼Œå¯ä»¥æœ‰å¤šçº§ catch ä»£ç å—æ¥æ•è·ä¸åŒçº§åˆ«çš„å¼‚å¸¸</p></li><li><p>è¢«æ•è·çš„å¼‚å¸¸å¯ä»¥å†æ¬¡æŠ›å‡º</p></li></ul><hr><h4 id="25-çº¿ç¨‹"><a href="#25-çº¿ç¨‹" class="headerlink" title="25.çº¿ç¨‹"></a>25.çº¿ç¨‹</h4><blockquote><p>çº¿ç¨‹ä½¿ç”¨äº†<code>wait</code>æ–¹æ³•ï¼Œä¼šå¼ºè¡Œæ‰“æ–­å½“å‰æ“ä½œï¼Œè¿›å…¥é˜»å¡ï¼ˆæš‚åœï¼‰çŠ¶æ€ï¼Œç„¶åéœ€è¦<code>notify</code>æ–¹æ³•æˆ–<code>notifyAll</code>æ–¹æ³•æ‰èƒ½è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚</p></blockquote><hr><h4 id="26-æšä¸¾å˜é‡"><a href="#26-æšä¸¾å˜é‡" class="headerlink" title="26.æšä¸¾å˜é‡"></a>26.æšä¸¾å˜é‡</h4><p><strong>æšä¸¾å˜é‡æ˜¯å…¨å±€å˜é‡çš„æƒ…å†µä¸‹ï¼Œæšä¸¾å€¼çš„ç¼ºçœå€¼æ˜¯ 0ï¼Œä¸æ˜¯æšä¸¾çš„ç¬¬ä¸€ä¸ªå€¼ã€‚å…¶ä»–æƒ…å†µï¼Œå…¶å€¼æ˜¯ä¸å®šçš„ï¼Œè€Œä¸”ä¸é™å®šäºæ‰€åˆ—å‡ºçš„æšä¸¾å€¼ã€‚</strong></p><p><strong>å…¨å±€å˜é‡æ—¶åˆå§‹åŒ–ä¸º 0ï¼Œå±€éƒ¨å˜é‡æ—¶åˆå§‹åŒ–ä¸ºéšæœºå€¼ã€‚</strong></p><hr><h4 id="26-unsigned"><a href="#26-unsigned" class="headerlink" title="26.unsigned"></a>26.unsigned</h4><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ç§»åŠ¨çš„<span class="token number">1</span>ä»£è¡¨çš„æ˜¯ä¸€ä¸ªå•ä½é‡    <span class="token keyword">unsigned</span>p1<span class="token operator">+</span><span class="token number">5</span><span class="token operator">=</span>p1<span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">1</span><span class="token operator">=</span>p1<span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token operator">=</span>p1<span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">0x801000</span><span class="token operator">+</span>ox5<span class="token operator">=</span><span class="token number">0x801005</span>p2<span class="token operator">+</span><span class="token number">5</span><span class="token operator">=</span>p2<span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">1</span><span class="token operator">=</span>p2<span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">=</span>p1<span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">4</span><span class="token operator">=</span><span class="token number">0x810000</span><span class="token operator">+</span><span class="token number">20</span><span class="token operator">=</span><span class="token number">0x810000</span><span class="token operator">+</span><span class="token number">0x14</span><span class="token operator">=</span><span class="token number">0x810014</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="27-æ•°ç»„ã€æŒ‡é’ˆã€å­—ç¬¦ä¸²çš„é•¿åº¦è®¡ç®—"><a href="#27-æ•°ç»„ã€æŒ‡é’ˆã€å­—ç¬¦ä¸²çš„é•¿åº¦è®¡ç®—" class="headerlink" title="27.æ•°ç»„ã€æŒ‡é’ˆã€å­—ç¬¦ä¸²çš„é•¿åº¦è®¡ç®—"></a>27.æ•°ç»„ã€æŒ‡é’ˆã€å­—ç¬¦ä¸²çš„é•¿åº¦è®¡ç®—</h4><p>å¯¹å­—ç¬¦ä¸²è¿›è¡Œ<code>sizeof</code>æ“ä½œçš„æ—¶å€™ï¼Œä¼šæŠŠå­—ç¬¦ä¸²çš„ç»“æŸç¬¦<code>\0</code>è®¡ç®—è¿›å»çš„</p><p>è¿›è¡Œ<code>strlen</code>æ“ä½œæ±‚å­—ç¬¦ä¸²çš„é•¿åº¦çš„æ—¶å€™ï¼Œä¸è®¡ç®—<code>\0</code>çš„ã€‚</p><p>æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’çš„æ—¶å€™ï¼Œå·²ç»é€€åŒ–ä¸ºæŒ‡é’ˆäº†ï¼Œ<code>Func</code>å‡½æ•°çš„å‚æ•°<code>str_arg</code>åªæ˜¯è¡¨ç¤ºä¸€ä¸ªæŒ‡é’ˆï¼Œé‚£ä¸ª<code>str_arg[]</code>æ‹¬å·ä¸­çš„æ•°å€¼ä¸èµ·ä»»ä½•ä½œç”¨ã€‚</p><hr><h4 id="28-å¼ºåˆ¶ç±»å‹è½¬æ¢åæŒ‡é’ˆçš„ç±»å‹"><a href="#28-å¼ºåˆ¶ç±»å‹è½¬æ¢åæŒ‡é’ˆçš„ç±»å‹" class="headerlink" title="28.å¼ºåˆ¶ç±»å‹è½¬æ¢åæŒ‡é’ˆçš„ç±»å‹"></a>28.å¼ºåˆ¶ç±»å‹è½¬æ¢åæŒ‡é’ˆçš„ç±»å‹</h4><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"glad to test something"</span><span class="token punctuation">;</span><span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> str<span class="token punctuation">;</span>p<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token operator">++</span><span class="token punctuation">;</span>p <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"result is %s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>p çš„ç±»å‹ä¸º<code>char *ï¼Œp++</code>å<code>p</code>æŒ‡å‘<code>str</code>æ•°ç»„çš„ç¬¬ 2 ä¸ªå…ƒç´ å³å­—æ¯â€œlâ€çš„ä½ç½®ã€‚</p><p>p1 çš„ç±»å‹ä¸º<code>int *ï¼Œp1++</code>å<code>p1</code>æŒ‡å‘çš„ä½ç½®å¢åŠ  4 ä¸ªå­—èŠ‚ï¼Œ</p><p>æŒ‡å‘<code>str</code>æ•°ç»„ä¸­çš„ç¬¬ 6 ä¸ªå…ƒç´ å³å­—æ¯<code>t</code>çš„ä½ç½®ã€‚</p><p>å› æ­¤æœ€å p çš„å†…å®¹ä¸º<code>to test something</code>ã€‚</p><hr><h4 id="29-ç±»"><a href="#29-ç±»" class="headerlink" title="29.ç±»"></a>29.ç±»</h4><ul><li>åœ¨ç±»ä¸­ï¼Œå¦‚æœä¸ºç©ºç±»ï¼Œåˆ™ç±»å ç”¨ 1 ä¸ªå­—èŠ‚</li><li>ä¸€æ—¦ç±»ä¸­æœ‰å…¶ä»–çš„å ç”¨ç©ºé—´æˆå‘˜ï¼Œåˆ™è¿™ 1 ä¸ªå­—èŠ‚å°±ä¸åœ¨è®¡ç®—ä¹‹å†…ï¼Œ</li><li>ä¸€ä¸ªç±»åªæœ‰ä¸€<code>int</code>åˆ™å ç”¨ 4 å­—èŠ‚è€Œä¸æ˜¯ 5 å­—èŠ‚ã€‚</li><li>å¦‚æœåªæœ‰æˆå‘˜å‡½æ•°ï¼Œåˆ™è¿˜æ˜¯åªå ç”¨ 1 ä¸ªå­—èŠ‚ï¼Œå› ä¸ºç±»å‡½æ•°ä¸å ç”¨ç©ºé—´</li><li>ä½†æ˜¯ç”±äºè™šå‡½æ•°å­˜åœ¨ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œéœ€è¦ 4 ä¸ªå­—èŠ‚ï¼Œæ•°æ®æˆå‘˜å¯¹è±¡å¦‚æœä¸ºæŒ‡é’ˆåˆ™ä¸º 4 å­—èŠ‚ï¼Œæ³¨æ„æœ‰å­—èŠ‚å¯¹é½ï¼Œå¦‚æœä¸º 13 å­—èŠ‚ï¼Œåˆ™è¿›ä½åˆ° 16 å­—èŠ‚ç©ºé—´</li></ul><h4 id="29-ç±»-1"><a href="#29-ç±»-1" class="headerlink" title="29.ç±»"></a>29.ç±»</h4><ul><li>åœ¨ç±»ä¸­ï¼Œå¦‚æœä¸ºç©ºç±»ï¼Œåˆ™ç±»å ç”¨ 1 ä¸ªå­—èŠ‚</li><li>ä¸€æ—¦ç±»ä¸­æœ‰å…¶ä»–çš„å ç”¨ç©ºé—´æˆå‘˜ï¼Œåˆ™è¿™ 1 ä¸ªå­—èŠ‚å°±ä¸åœ¨è®¡ç®—ä¹‹å†…ï¼Œ</li><li>ä¸€ä¸ªç±»åªæœ‰ä¸€<code>int</code>åˆ™å ç”¨ 4 å­—èŠ‚è€Œä¸æ˜¯ 5 å­—èŠ‚ã€‚</li><li>å¦‚æœåªæœ‰æˆå‘˜å‡½æ•°ï¼Œåˆ™è¿˜æ˜¯åªå ç”¨ 1 ä¸ªå­—èŠ‚ï¼Œå› ä¸ºç±»å‡½æ•°ä¸å ç”¨ç©ºé—´</li><li>ä½†æ˜¯ç”±äºè™šå‡½æ•°å­˜åœ¨ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œéœ€è¦ 4 ä¸ªå­—èŠ‚ï¼Œæ•°æ®æˆå‘˜å¯¹è±¡å¦‚æœä¸ºæŒ‡é’ˆåˆ™ä¸º 4 å­—èŠ‚ï¼Œæ³¨æ„æœ‰å­—èŠ‚å¯¹é½ï¼Œå¦‚æœä¸º 13 å­—èŠ‚ï¼Œåˆ™è¿›ä½åˆ° 16 å­—èŠ‚ç©ºé—´</li></ul><hr><h4 id="30-buffer"><a href="#30-buffer" class="headerlink" title="30.buffer"></a>30.buffer</h4><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">å‡½æ•°<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">myString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ä¸­æ²¡æœ‰ä½¿ç”¨<span class="token keyword">new</span>æˆ–è€…mallocåˆ†é…å†…å­˜ï¼Œæ‰€æœ‰bufferæ•°ç»„çš„å†…å­˜åŒºåŸŸåœ¨æ ˆåŒºéšç€<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">myString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„ç»“æŸï¼Œæ ˆåŒºå†…å­˜é‡Šæ”¾ï¼Œå­—ç¬¦æ•°ç»„ä¹Ÿå°±ä¸å­˜åœ¨äº†ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿé‡æŒ‡é’ˆï¼Œè¾“å‡ºç»“æœæœªçŸ¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="31-åŠ¨æ€åˆ†é…åœ¨å †åŒºï¼Œå…¶ä»–çš„å‡ä¸åœ¨å †åŒº"><a href="#31-åŠ¨æ€åˆ†é…åœ¨å †åŒºï¼Œå…¶ä»–çš„å‡ä¸åœ¨å †åŒº" class="headerlink" title="31.åŠ¨æ€åˆ†é…åœ¨å †åŒºï¼Œå…¶ä»–çš„å‡ä¸åœ¨å †åŒº"></a>31.åŠ¨æ€åˆ†é…åœ¨å †åŒºï¼Œå…¶ä»–çš„å‡ä¸åœ¨å †åŒº</h4><hr><h4 id="32-æ“ä½œç³»ç»Ÿä¸­ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€çš„-3-ç§æ–¹å¼"><a href="#32-æ“ä½œç³»ç»Ÿä¸­ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€çš„-3-ç§æ–¹å¼" class="headerlink" title="32.æ“ä½œç³»ç»Ÿä¸­ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€çš„ 3 ç§æ–¹å¼"></a>32.æ“ä½œç³»ç»Ÿä¸­ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€çš„ 3 ç§æ–¹å¼</h4><p>a. ç³»ç»Ÿè°ƒç”¨</p><p>b. å¼‚å¸¸</p><p>c. å¤–å›´è®¾å¤‡çš„ä¸­æ–­</p><hr><h4 id="33-å‡½æ•°åµŒå¥—"><a href="#33-å‡½æ•°åµŒå¥—" class="headerlink" title="33.å‡½æ•°åµŒå¥—"></a>33.å‡½æ•°åµŒå¥—</h4><p>è‹¥æœ‰å¦‚ä¸‹å‡½æ•°å®šä¹‰ï¼Œè¿™ç§åµŒå¥—å®šä¹‰æ ¹æœ¬ç®—ä¸å‡ºç»“æœï¼Œæ‰€ä»¥å‡½æ•°åµŒå¥—å®šä¹‰è‚¯å®šä¸è¡Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token operator">+</span><span class="token function">f1</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> b<span class="token operator">+</span><span class="token function">f</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>æ— æ³•ç®—å‡ºç»“æœæ•…å®šä¹‰åµŒå¥—ä¸ä½¿ç”¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></figure><hr><h4 id="34-é™æ€å˜é‡åˆå§‹åŒ–"><a href="#34-é™æ€å˜é‡åˆå§‹åŒ–" class="headerlink" title="34.é™æ€å˜é‡åˆå§‹åŒ–"></a>34.é™æ€å˜é‡åˆå§‹åŒ–</h4><p>åœ¨ C++ä¸­ï¼Œç±»çš„é™æ€æˆå‘˜ï¼ˆstatic memberï¼‰å¿…é¡»åœ¨ç±»å†…å£°æ˜ï¼Œåœ¨ç±»å¤–åˆå§‹åŒ–</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span> <span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token punctuation">;</span> <span class="token comment">// ç±»å†…å£°æ˜</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> A<span class="token double-colon punctuation">::</span>count <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> <span class="token comment">// ç±»å¤–åˆå§‹åŒ–ï¼Œä¸å¿…å†åŠ staticå…³é”®å­—</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºé™æ€æˆå‘˜å±äºæ•´ä¸ªç±»ï¼Œè€Œä¸å±äºæŸä¸ªå¯¹è±¡ï¼Œå¦‚æœåœ¨ç±»å†…åˆå§‹åŒ–ï¼Œä¼šå¯¼è‡´æ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«è¯¥é™æ€æˆå‘˜ï¼Œè¿™æ˜¯çŸ›ç›¾çš„ã€‚</p><p>èƒ½åœ¨ç±»ä¸­åˆå§‹åŒ–çš„æˆå‘˜åªæœ‰ä¸€ç§ï¼Œé‚£å°±æ˜¯é™æ€å¸¸é‡æˆå‘˜ã€‚</p><p>è¿™æ ·ä¸è¡Œ</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span><span class="token operator">:</span> <span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  é™æ€æˆå‘˜ä¸èƒ½åœ¨ç±»å†…åˆå§‹åŒ–<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span><span class="token operator">:</span> <span class="token keyword">const</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   å¸¸é‡æˆå‘˜ä¹Ÿä¸èƒ½åœ¨ç±»å†…åˆå§‹åŒ–<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span><span class="token operator">:</span> <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   é™æ€å¸¸é‡æˆå‘˜å¯ä»¥åœ¨ç±»å†…åˆå§‹åŒ–<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>]]></content>
    
    
    <categories>
      
      <category>cpp</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>priority_queue|multiset</title>
    <link href="/2020/01/04/cpp/queue/"/>
    <url>/2020/01/04/cpp/queue/</url>
    
    <content type="html"><![CDATA[<p>c++ä¸­STLä¸­ï¼Œé™¤äº†bitsetã€priority_queue(å †ï¼Œä¹Ÿå«ä¼˜å…ˆé˜Ÿåˆ—)ä»¥åŠAVL(å¹³è¡¡æ ‘ç›¸å…³)ï¼Œå…¶ä»–çš„éƒ½å¯ä»¥è¿›è¡ŒçŸ­æ—¶é—´çš„æ‰‹æ’•ä»£ç è¿›è¡Œå®ç°ï¼Œæœ¬æ¬¡åšå®¢ä¸»è¦æ˜¯é˜è¿°ä¸€äº›è®²ä¸€ä¸‹å †ä¸å¹³è¡¡æ ‘çš„åŸºæœ¬ç”¨æ³•ï¼Œä»¥åŠå…¶ä¸­åŒºåˆ«æ‰€åœ¨</p><figure><div class="code-wrapper"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">priority_queueå †<span class="token operator">/</span>ä¼˜å…ˆé˜Ÿåˆ—å®šä¹‰ï¼š    priority_queue<span class="token operator">&lt;</span>T<span class="token operator">></span>priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> å¤§æ ¹å †priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> less<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> å¤§æ ¹å †priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> å°æ ¹å †priority_queue <span class="token operator">&lt;</span><span class="token keyword">struct</span> <span class="token class-name">T</span><span class="token operator">></span>    åŸºæœ¬å‡½æ•°ï¼š<span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>ï¼šåŠ å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥æ˜¯æ•° <span class="token operator">or</span> ç»“æ„ä½“<span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šå¼¹å‡ºå †é¡¶<span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šå †é¡¶çš„å…ƒç´ <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šå †çš„å¤§å°<span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šæ˜¯å¦ä¸ºç©ºï¼ˆç©ºå³ä¸º <span class="token number">1</span>ï¼‰å…³äºç»“æ„ä½“çš„æ¯”è¾ƒï¼š<span class="token keyword">struct</span> <span class="token class-name">type</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token keyword">friend</span> <span class="token keyword">operator</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>type left<span class="token punctuation">,</span> type right<span class="token punctuation">)</span>     <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> left<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> right<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>ç»“æ„ä½“çš„èµ‹å€¼å¯ä»¥ä¸º<span class="token punctuation">&#123;</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span>æˆ–åç§°<span class="token punctuation">&#123;</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span>multiset vs set    multiset å¯ä»¥æœ‰é‡å¤å…ƒç´ ï¼Œæ•…ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œï¼ˆé™¤è§£å†³é‡å¤å…ƒç´ çš„é›†åˆç±»é—®é¢˜ï¼‰éƒ½ç”¨ multisetmultiset ä¹Ÿè¿›è¡Œè‡ªå®ç°æ’åºã€‚å®šä¹‰ï¼šmultiset<span class="token operator">&lt;</span>T<span class="token operator">></span>multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ä»å°åˆ°å¤§multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> less<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> less<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>è¡¨ç¤ºæ•°å­—å¤§çš„ä¼˜å…ˆçº§å¤§multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>è¡¨ç¤ºæ•°å­—å°çš„ä¼˜å…ˆçº§å¤§multiset<span class="token operator">&lt;</span><span class="token keyword">struct</span> <span class="token class-name">T</span><span class="token operator">></span>    è¿­ä»£å™¨ï¼šmultiset<span class="token operator">&lt;</span>å®šä¹‰å’Œå¯¹åº”çš„ set ä¸€è‡´<span class="token operator">></span> <span class="token double-colon punctuation">::</span>iteratorï¼Œå…¶ä½œç”¨æ˜¯éå† set<span class="token operator">/</span>ç‰¹åˆ«æŒ‡å‘æŸä¸€ä¸ªå…ƒç´ åŸºæœ¬å‡½æ•°ï¼š<span class="token function">insert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>ï¼šåŠ å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥æ˜¯æ•°<span class="token operator">/</span>ç»“æ„ä½“<span class="token function">erase</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>ï¼šå½“xä¸ºæ•°æˆ–ç»“æ„ä½“ï¼Œå³ä¸ºåˆ æ‰æ‰€æœ‰çš„xï¼›å½“x ä¸ºè¿­ä»£å™¨ï¼Œé‚£ä¹ˆåªä¼šåˆ æ‰è¿­ä»£å™¨å¯¹åº”çš„å…ƒç´ <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šè¿”å›å…³é”®å€¼æœ€å°çš„å…ƒç´ æŒ‡é’ˆï¼ŒæŒ‡é’ˆxå¯¹åº”çš„å€¼ä¸º <span class="token operator">*</span>xï¼Œå¦‚æœæ˜¯ç»“æ„ä½“åˆ™ä¸ºï¼ˆ<span class="token operator">*</span>xï¼‰<span class="token punctuation">.</span>a<span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šè¿”å›å…³é”®å€¼æœ€å¤§çš„å…ƒç´ æŒ‡é’ˆçš„åä¸€ä½ï¼ˆæœ€å¤§çš„æ˜¯<span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">--</span>ï¼‰<span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šåŒä¼˜å…ˆé˜Ÿåˆ—<span class="token function">lower_bound</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>ï¼šç¬¬ä¸€ä¸ªå¤§äºç­‰äº x çš„å…ƒç´ æŒ‡é’ˆ<span class="token function">upper_bound</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>ï¼šç¬¬ä¸€ä¸ªå¤§äº x çš„å…ƒç´ æŒ‡é’ˆmultiset<span class="token operator">&lt;</span>T<span class="token operator">></span> stst<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>st<span class="token punctuation">.</span><span class="token function">lower_bound</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span> <span class="token operator">&lt;&lt;</span><span class="token operator">*</span>st<span class="token punctuation">.</span><span class="token function">upper_bound</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">//>= ></span>cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span><span class="token operator">--</span>st<span class="token punctuation">.</span><span class="token function">lower_bound</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">*</span><span class="token operator">--</span>st<span class="token punctuation">.</span><span class="token function">upper_bound</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token comment">//&lt; &lt;=</span><span class="token comment">//3 4</span><span class="token comment">//2 3</span>éå†ï¼šå¯ä»¥é€šè¿‡è¿­ä»£å™¨çš„ç§»åŠ¨æ¥éå†ï¼ˆå¤´ä¸º <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œå°¾ä¸º<span class="token operator">--</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œæœ€å¤§èƒ½èµ°åˆ° <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼‰st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">auto</span> a <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> st<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cout<span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>a <span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token operator">++</span>a<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//1 2 3åŒºåˆ«</span><span class="token comment">//multisetå¯ä»¥éå†ã€å‰é©±ã€åç»§ã€åˆ é™¤ï¼›</span><span class="token comment">//è€Œpriority_queueçš„æ¯”è¾ƒæœºåˆ¶å’Œset/sortç›¸å</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">fo</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span> a <span class="token operator">&lt;=</span> c<span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">fd</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">;</span> a <span class="token operator">>=</span> c<span class="token punctuation">;</span> a<span class="token operator">--</span><span class="token punctuation">)</span></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">type</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token keyword">friend</span> <span class="token keyword">operator</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>type left<span class="token punctuation">,</span> type right<span class="token punctuation">)</span>     <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> left<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> right<span class="token punctuation">.</span>x<span class="token punctuation">;</span><span class="token comment">//æ­¤å¤„ä¸èƒ½é‡è½½å¤§äºå·ï¼Œåœ¨æ•°å­¦ä¸Šæ¥è¯´é‡è½½å°äºå·çš„ä½œç”¨æ›´å¥½</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>multiset<span class="token operator">&lt;</span>type<span class="token operator">></span> a<span class="token punctuation">;</span>priority_queue<span class="token operator">&lt;</span>type<span class="token operator">></span> b<span class="token punctuation">;</span>type c<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    b<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    b<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    b<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> c <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span><span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">//1 3 1</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure><p>å¯ä»¥å‘ç°ï¼Œpriority_queueå¾—åˆ°çš„ç»“æœå’Œmultiset&#x2F;sort åˆšå¥½ç›¸å.</p><p>å®é™…ä¸Šmultisetä¸sortçš„æœ€ç»ˆçš„çŠ¶æ€æ»¡è¶³ a1 &lt; a2 &lt; a3 &lt; â€¦ &lt; anï¼ˆ &lt; å¯é‡è½½ï¼‰</p><p>è€Œpriority_queueåº”è¯¥æ˜¯å½“ä¸€ä¸ªå…ƒç´ xæ»¡è¶³ f(a[x]) &lt; x æ—¶äº¤æ¢ï¼Œå®è´¨ä¸Šç»´æŠ¤çš„æ˜¯å¤§æ ¹å †</p><p>ä¼˜å…ˆé˜Ÿåˆ— â‡” æ’åºåä¸ºå…ˆå¤§åå°</p>]]></content>
    
    
    <categories>
      
      <category>cpp</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STL</tag>
      
      <tag>priority_queue</tag>
      
      <tag>multiset</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
